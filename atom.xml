<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>è‡­å‰å‰çš„çè®°ç©ºé—´</title>
  <subtitle>æŠ€æœ¯çš„ï¼Œçè¯´çš„ï¼Œå•¥éƒ½æœ‰å§ã€‚ã€‚ã€‚å¸Œæœ›ã€‚ã€‚ã€‚</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2018-03-27T05:39:39.000Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>è‡­å‰å‰</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Objective-C 2.0çš„category</title>
    <link href="http://yoursite.com/2018/03/26/Objective-C%202.0%20category/"/>
    <id>http://yoursite.com/2018/03/26/Objective-C 2.0 category/</id>
    <published>2018-03-26T14:40:03.000Z</published>
    <updated>2018-03-27T05:39:39.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<ul>
<li><strong>classå’Œcategoryçš„æ•°æ®ç»“æ„</strong></li>
<li><strong>ä¸ºä»€ä¹ˆcategoryåªèƒ½æ·»åŠ æ–¹æ³•ï¼Œä¸èƒ½æ·»åŠ å±æ€§ï¼Ÿ</strong></li>
<li><strong>categoryä¸ºä½•ä¸è¦è¦†ç›–çˆ¶ç±»æ–¹æ³•ï¼Ÿ</strong></li>
<li><strong>å¤šä¸ªcategoryè¦†ç›–åŒåæ–¹æ³•çš„æ‰§è¡Œé¡ºåº</strong></li>
</ul>
</blockquote>
<h3 id="classå’Œcategoryçš„æ•°æ®ç»“æ„"><a href="#classå’Œcategoryçš„æ•°æ®ç»“æ„" class="headerlink" title="classå’Œcategoryçš„æ•°æ®ç»“æ„"></a>classå’Œcategoryçš„æ•°æ®ç»“æ„</h3><p>åœ¨å­¦ä¹ runtimeæ—¶ï¼Œå¯ä»¥çŸ¥é“ï¼Œ<em>OCçš„æ‰€æœ‰æ•°æ®ç»“æ„ï¼ŒåŒ…æ‹¬å¯¹è±¡ã€ç±»ã€æ–¹æ³•ã€åè®®ç­‰ç­‰ï¼Œéƒ½æ˜¯Cçš„ç»“æ„ä½“</em>ã€‚<br>ç±»çš„å®ä¾‹ï¼Œå³å¯¹è±¡ï¼Œä¸»è¦åªåŒ…å«äº†ä¸€ä¸ªisaæŒ‡é’ˆï¼ŒæŒ‡å‘å…¶æ‰€å±çš„classã€‚è€Œclassçš„isaæŒ‡é’ˆåˆ™æŒ‡å‘å…¶å…ƒç±»ï¼ˆmeta classï¼‰ï¼Œå…ƒç±»çš„isaæŒ‡å‘æ ¹åŸç±»ï¼Œæ ¹å…ƒç±»isaæŒ‡å‘è‡ªèº«ã€‚</p>
<p>æ¥ä¸€å¼ è½¬çƒ‚äº†çš„å›¾ï¼Œé¡ºä¾¿è¯´æ˜isaå’ŒsuperæŒ‡é’ˆçš„æŒ‡å‘å…³ç³»ï¼š</p>
<p><img src="https://upload-images.jianshu.io/upload_images/3270116-4fef3651af3f80d0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/550" alt="img"></p>
<p>classçš„ä¸»è¦æ•°æ®ç»“æ„ï¼ˆå…ƒç±»ä¸å…¶ç›¸åŒï¼‰ï¼š</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">objc_class</span> &#123;</span></div><div class="line">	Class isa    OBJC_ISA_AVAILABILITY;</div><div class="line">	</div><div class="line"><span class="meta">#<span class="meta-keyword">if</span> !__OBJC2__</span></div><div class="line">	Class super_class;    <span class="comment">// çˆ¶ç±»</span></div><div class="line">	<span class="keyword">const</span> <span class="keyword">char</span> *name;    <span class="comment">// ç±»å</span></div><div class="line">	<span class="keyword">long</span> version;    <span class="comment">// ç±»ç‰ˆæœ¬ä¿¡æ¯ï¼Œé»˜è®¤0</span></div><div class="line">	<span class="keyword">long</span> info;    <span class="comment">// ç±»ä¿¡æ¯</span></div><div class="line">	<span class="keyword">long</span> instance_size;    <span class="comment">// ç±»å®ä¾‹å˜é‡å¤§å°</span></div><div class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">objc_ivar_list</span> *<span class="title">ivars</span>;</span>    <span class="comment">// æˆå‘˜å˜é‡é“¾è¡¨</span></div><div class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">objc_method_list</span> **<span class="title">methodlists</span>;</span>    <span class="comment">// æ–¹æ³•é“¾è¡¨</span></div><div class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">objc_cache</span> *<span class="title">cache</span>;</span>    <span class="comment">// æ–¹æ³•ç¼“å­˜</span></div><div class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">objc_protocol_list</span> *<span class="title">protocols</span>;</span>    <span class="comment">// éµå¾ªçš„åè®®é“¾è¡¨</span></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></div><div class="line"></div><div class="line">&#125; OBJC2_UNAVAILABLE;</div></pre></td></tr></table></figure>
<p>ç®€è¦è¯´æ˜ä¸‹ï¼š</p>
<ul>
<li>æ ¹æ®classçš„æ•°æ®ç»“æ„ï¼Œå³å¯äº†è§£runtimeçš„ä¸»è¦åŠŸèƒ½ï¼šå¯ä»¥åœ¨è¿è¡Œæ—¶è·å–ç±»çš„ç›¸å…³ä¿¡æ¯ï¼ŒåŒ…æ‹¬å®ä¾‹å˜é‡ã€æ–¹æ³•åˆ—è¡¨ã€åè®®åˆ—è¡¨ç­‰ï¼Œä¸”å¯ä»¥é€šè¿‡ç›¸å…³apiå¯¹å„éƒ¨åˆ†è¿›è¡Œå¢åˆ æ”¹æŸ¥ç­‰æ“ä½œï¼ˆç”šè‡³æ˜¯ä¿®æ”¹methodçš„å®ç°ï¼‰ã€‚</li>
<li>OCä¸­çš„æ–¹æ³•è°ƒç”¨ï¼Œå¹¶éåœ¨ç¼–è¯‘æœŸç¡®å®šè°ƒç”¨åœ°å€ï¼Œè€Œæ˜¯åœ¨è¿è¡Œæ—¶æ‰ä¼šç¡®å®šè°ƒç”¨æ–¹æ³•çš„çœŸæ­£åœ°å€ï¼ˆé€šè¿‡objc_msgsendå‡½æ•°è¿›è¡Œæ–¹æ³•è°ƒç”¨ï¼‰ã€‚å­ç±»çš„æ–¹æ³•è°ƒç”¨ï¼Œä¼šåœ¨methodlistä¸­æŸ¥æ‰¾ï¼Œæœªæ‰¾åˆ°åï¼Œä¼šåœ¨çˆ¶ç±»çš„methodlistä¸­ç»§ç»­æŸ¥æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°åè°ƒç”¨ï¼ˆæœªæ‰¾åˆ°åè¿›å…¥æ¶ˆæ¯è½¬å‘ï¼‰ã€‚æ‰¾åˆ°åï¼Œä¼šå°†æ­¤methodçš„åœ°å€æ”¾å…¥cacheä¸­ï¼Œä»¥åŠ å¿«è®¿é—®ã€‚</li>
</ul>
<p>æˆ‘ä»¬ä¸»è¦è®¨è®ºçš„categoryï¼Œå…¶ç»“æ„å¦‚ä¸‹ï¼š</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">category_t</span> &#123;</span></div><div class="line">	<span class="keyword">const</span> <span class="keyword">char</span> *name;    <span class="comment">// ç±»å</span></div><div class="line">	<span class="keyword">classref_t</span> cls;    <span class="comment">// ç±»</span></div><div class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">method_list_t</span> *<span class="title">instanceMethods</span>;</span>    <span class="comment">// ä¿å­˜æ·»åŠ çš„å®ä¾‹æ–¹æ³•çš„é“¾è¡¨</span></div><div class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">method_list_t</span> *<span class="title">classMethods</span>;</span>    <span class="comment">// ä¿å­˜æ·»åŠ çš„ç±»æ–¹æ³•çš„é“¾è¡¨</span></div><div class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">protocol_list_t</span> *<span class="title">protocols</span>;</span>    <span class="comment">// ä¿å­˜å®ç°çš„åè®®æ–¹æ³•çš„é“¾è¡¨</span></div><div class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">property_list_t</span> *<span class="title">instanceProperties</span>;</span>    <span class="comment">// ä¿å­˜æ‰€æœ‰æ·»åŠ çš„å±æ€§</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="ä¸ºä»€ä¹ˆcategoryåªèƒ½æ·»åŠ æ–¹æ³•ï¼Œä¸èƒ½æ·»åŠ å±æ€§ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆcategoryåªèƒ½æ·»åŠ æ–¹æ³•ï¼Œä¸èƒ½æ·»åŠ å±æ€§ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆcategoryåªèƒ½æ·»åŠ æ–¹æ³•ï¼Œä¸èƒ½æ·»åŠ å±æ€§ï¼Ÿ"></a>ä¸ºä»€ä¹ˆcategoryåªèƒ½æ·»åŠ æ–¹æ³•ï¼Œä¸èƒ½æ·»åŠ å±æ€§ï¼Ÿ</h3><p>ä»categoryçš„ç»“æ„ä¸­å¯ä»¥çœ‹å‡ºï¼Œ<strong>ç”±äºå†…éƒ¨åªä¿å­˜äº†å±æ€§ï¼Œå¹¶ä¸åŒ…å«ivarï¼Œå³åªç”Ÿæˆäº†setterå’Œgetteræ–¹æ³•çš„å£°æ˜ï¼Œæ²¡æœ‰å¯¹åº”å®ç°ï¼Œæ›´æ²¡æœ‰å¯¹åº”çš„æˆå‘˜å˜é‡ä¿å­˜</strong>ã€‚æ‰€ä»¥åœ¨categoryä¸­æ·»åŠ å±æ€§ï¼Œéœ€è¦ä½¿ç”¨runtimeçš„ç›¸å…³å¯¹è±¡ï¼ˆassociate_objectï¼‰è¿›è¡Œã€‚<br>è€Œä¸”å¯¹äºcategoryæ¥è¯´ï¼Œ<strong>æ·»åŠ çš„æ–¹æ³•ä¼šåœ¨ç¼–è¯‘åæ·»åŠ åˆ°ä¸»ç±»çš„æ–¹æ³•åˆ—è¡¨ä¸­ï¼ˆå®ä¾‹æ–¹æ³•æ·»åŠ åˆ°ä¸»ç±»ï¼Œç±»æ–¹æ³•æ·»åŠ åˆ°ä¸»ç±»æ‰€å±çš„å…ƒç±»ä¸­ï¼‰</strong>ã€‚</p>
<h3 id="categoryä¸ºä½•ä¸è¦è¦†ç›–çˆ¶ç±»æ–¹æ³•ï¼Ÿ"><a href="#categoryä¸ºä½•ä¸è¦è¦†ç›–çˆ¶ç±»æ–¹æ³•ï¼Ÿ" class="headerlink" title="categoryä¸ºä½•ä¸è¦è¦†ç›–çˆ¶ç±»æ–¹æ³•ï¼Ÿ"></a>categoryä¸ºä½•ä¸è¦è¦†ç›–çˆ¶ç±»æ–¹æ³•ï¼Ÿ</h3><p>æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œåœ¨categoryä¸­è¦†ç›–çˆ¶ç±»æ–¹æ³•æ—¶ï¼Œç³»ç»Ÿä¼šå¼¹å‡ºè­¦å‘Šï¼ˆä¸»ç±»ä¹Ÿå®ç°äº†æ­¤æ–¹æ³•ï¼‰ï¼Œä¸”è°ƒç”¨åŸæ–¹æ³•æ—¶ï¼Œç³»ç»Ÿä¼šæ‰§è¡Œcategoryçš„å®ç°ï¼Œä»è€Œå¯¼è‡´åŸå§‹æ–¹æ³•å®ç°è¢«è¦†ç›–ã€‚è¿™é‡Œæ˜¯ä¸ºä»€ä¹ˆï¼Ÿ<br>æˆ‘ä»¬çŸ¥é“ï¼Œç”±äºcategoryçš„æ–¹æ³•åœ¨runtimeåŠ è½½åä¼šæ·»åŠ åˆ°æœ¬ç±»çš„æ–¹æ³•è¡¨ä¸­ï¼Œæ–¹æ³•è¡¨ä¿å­˜çš„æ˜¯æ–¹æ³•çš„SELï¼Œå¯ä»¥æ¨æµ‹ï¼š</p>
<ol>
<li>åŸSELè¢«è¦†ç›–</li>
<li>ä¸¤ä¸ªåŒåæ–¹æ³•éƒ½è¢«åŠ å…¥åˆ°æ–¹æ³•è¡¨ä¸­ï¼Œè°ƒç”¨æ—¶åªæ‰§è¡Œäº†categoryçš„</li>
</ol>
<p>å¦ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œruntimeåœ¨åŠ è½½æ—¶ï¼Œå¯¹äºæœ¬ç±»å’Œcategoryçš„åŠ è½½é¡ºåºæ˜¯ä»€ä¹ˆã€‚</p>
<p>å‚ç…§ä»¥ä¸‹ä»£ç å¯ä»¥éªŒè¯ï¼š</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line">// ä¸»ç±»</div><div class="line">#import &lt;Foundation/Foundation.h&gt;</div><div class="line"></div><div class="line">@interface TestClassForCategory : NSObject</div><div class="line"></div><div class="line">- (void)testMethod;</div><div class="line"></div><div class="line">@end</div><div class="line"></div><div class="line">#import "TestClassForCategory.h"</div><div class="line"></div><div class="line">@implementation TestClassForCategory</div><div class="line"></div><div class="line">+ (void)load &#123;</div><div class="line">    NSLog(@"load === TestClassForCategory");</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (void)testMethod &#123;</div><div class="line">    NSLog(@"instance method~~~~");</div><div class="line">&#125;</div><div class="line">@end</div><div class="line"></div><div class="line"></div><div class="line">// åˆ†ç±»ï¼ˆcategoryï¼‰</div><div class="line">#import "TestClassForCategory.h"</div><div class="line"></div><div class="line">@interface TestClassForCategory (Category1)</div><div class="line"></div><div class="line">@end</div><div class="line"></div><div class="line">#import "TestClassForCategory+Category1.h"</div><div class="line"></div><div class="line">@implementation TestClassForCategory (Category1)</div><div class="line"></div><div class="line">+ (void)load &#123;</div><div class="line">    NSLog(@"load === TestClassForCategory+Category1");</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (void)testMethod &#123;</div><div class="line">    // categoryçš„æ–¹æ³•ä¼šæ·»åŠ åˆ°</div><div class="line">    NSLog(@"category1----");</div><div class="line">&#125;</div><div class="line">@end</div></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å¯ä»¥åœ¨è‡ªå·±çš„æµ‹è¯•ç±»ä¸­ï¼Œå®ä¾‹åŒ–TestClassForCategoryå¹¶è°ƒç”¨testMethodæ–¹æ³•ï¼Œå¯ä»¥çœ‹åˆ°è¾“å‡ºç»“æœï¼š</p>
<blockquote>
<p>2018-03-27 07:55:10.278999+0800 Runtime_Learning2[3506:4499896] load === TestClassForCategory<br>2018-03-27 07:55:10.280645+0800 Runtime_Learning2[3506:4499896] load === TestClassForCategory+Category1<br>2018-03-27 07:55:14.702309+0800 Runtime_Learning2[3506:4499896] category1â€”-</p>
</blockquote>
<p>ç”±æ­¤å¯ä»¥è¯æ˜ï¼Œ<strong>runtimeåŠ è½½æ—¶ï¼Œé¦–å…ˆåŠ è½½ä¸»ç±»ï¼Œç„¶ååŠ è½½categoryã€‚</strong></p>
<p>æˆ‘ä»¬é€šè¿‡runtimeçš„apiæ¥è·å–ä¸€ä¸‹TestClassForCategoryçš„æ–¹æ³•è¡¨ï¼š</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// æ‰“å°TestClassForCategoryçš„methodlist</span></div><div class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> methodlistCount;</div><div class="line">Method *methodlist =  class_copyMethodList([TestClassForCategory class], &amp;methodlistCount);</div><div class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; methodlistCount; i++) &#123;</div><div class="line">    Method method = methodlist[i];</div><div class="line">    SEL sel = method_getName(method);</div><div class="line">    IMP imp = method_getImplementation(method);</div><div class="line">    NSLog(@<span class="string">"method - %@"</span>, NSStringFromSelector(sel));</div><div class="line">    imp();</div><div class="line">&#125;</div><div class="line"><span class="built_in">free</span>(methodlist);</div></pre></td></tr></table></figure>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</p>
<blockquote>
<p>2018-03-27 07:55:10.683704+0800 Runtime_Learning2[3506:4499896] method - testMethod<br>2018-03-27 07:55:10.683855+0800<br>Runtime_Learning2[3506:4499896] category1â€”-<br>2018-03-27 07:55:10.683965+0800 Runtime_Learning2[3506:4499896] method - testMethod<br>2018-03-27 07:55:10.684055+0800 Runtime_Learning2[3506:4499896] instance method<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">å¯ä»¥çœ‹åˆ°ï¼Œ**åœ¨ä¸»ç±»çš„æ–¹æ³•è¡¨ä¸­ï¼Œæœç„¶ä¿å­˜äº†ä¸»ç±»å’Œåˆ†ç±»ä¸¤ä¸ªSELï¼Œä¸”æ–¹æ³•å®ç°å‡å¯ä»¥è¢«è°ƒç”¨**ã€‚è”ç³»ç€loadæ–¹æ³•çš„æ‰§è¡Œé¡ºåºï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œ**classåœ¨æ–¹æ³•åˆ—è¡¨ä¸­æ·»åŠ æ–¹æ³•æ—¶ï¼Œæ˜¯ä¾ç…§â€œå¤´éƒ¨æ’å…¥â€çš„æ–¹å¼ï¼ˆâ€œå¤´æ’æ³•â€ï¼‰æ¥ä¿®æ”¹é“¾è¡¨çš„**ã€‚</div><div class="line">åŸç†å¦‚ä¸‹ï¼ˆè½¬è‡ª[iOS OCä¸­åˆ†ç±»Categoryå®ç°åŸç†](http://blog.sina.com.cn/s/blog_14679a7d20102xae4.html)ï¼‰ï¼š</div><div class="line"></div><div class="line">![img](http://img.blog.csdn.net/20180131104524542?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvc2hpaHVib2tl/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)</div><div class="line"></div><div class="line">ç”±æ­¤å¯è§ï¼Œå½“åˆ†ç±»ä¸­è¦†ç›–äº†ä¸»ç±»çš„æ–¹æ³•åï¼Œ**ç”±äºåˆ†ç±»çš„æ–¹æ³•åœ¨åŸæ–¹æ³•å‰éƒ¨ï¼Œå¯¼è‡´è°ƒç”¨æ–¹æ³•æ—¶ï¼Œç³»ç»ŸæŸ¥æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ–¹æ³•åï¼Œç›´æ¥è¿”å›æ‰§è¡Œï¼Œæœ¬ç±»æ–¹æ³•ä¸ä¼šæ‰§è¡Œ**ã€‚æ‰€ä»¥ä¸€èˆ¬ä¸å»ºè®®åœ¨åˆ†ç±»ä¸­è¦†ç›–ä¸»ç±»æ–¹æ³•ã€‚</div><div class="line"></div><div class="line">### å¤šä¸ªcategoryè¦†ç›–åŒåæ–¹æ³•çš„æ‰§è¡Œé¡ºåº</div><div class="line"></div><div class="line">æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨ç±»çš„æ–¹æ³•è¡¨ä¸­æ·»åŠ æ–¹æ³•ä½¿ç”¨çš„æ˜¯â€œå¤´æ’æ³•â€ï¼Œä½†å½“ç»™ä¸»ç±»æ·»åŠ å¤šä¸ªåˆ†ç±»æ—¶ï¼Œåˆ†ç±»æ–¹æ³•çš„åŠ è½½é¡ºåºåˆæ˜¯å¦‚ä½•å‘¢ï¼Ÿ</div><div class="line">æ ¹æ®ä»£ç æ¥çœ‹ï¼š</div><div class="line"></div><div class="line">``` C</div><div class="line">// åœ¨ä»¥ä¸Šä»£ç çš„åŸºç¡€ä¸Šå†æ·»åŠ ç¬¬äºŒä¸ªcategory</div><div class="line">#import &quot;TestClassForCategory.h&quot;</div><div class="line"></div><div class="line">@interface TestClassForCategory (Category2)</div><div class="line"></div><div class="line">@end</div><div class="line"></div><div class="line">#import &quot;TestClassForCategory+Category2.h&quot;</div><div class="line"></div><div class="line">@implementation TestClassForCategory (Category2)</div><div class="line"></div><div class="line">+ (void)load &#123;</div><div class="line">    NSLog(@&quot;load === TestClassForCategory+Category2&quot;);</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (void)testMethod &#123;</div><div class="line">    // categoryçš„æ–¹æ³•ä¼šæ·»åŠ åˆ°</div><div class="line">    NSLog(@&quot;category2----&quot;);</div><div class="line">&#125;</div><div class="line"></div><div class="line">@end</div><div class="line">```</div><div class="line">æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</div><div class="line">&gt; </div><div class="line">&gt; 2018-03-27 10:58:50.708610+0800 Runtime_Learning2[4434:4568830] load === TestClassForCategory</div><div class="line">&gt; 2018-03-27 10:58:50.711459+0800 Runtime_Learning2[4434:4568830] load === TestClassForCategory+Category1</div><div class="line">&gt; 2018-03-27 10:58:50.712078+0800 Runtime_Learning2[4434:4568830] load === TestClassForCategory+Category2</div><div class="line">&gt; 2018-03-27 10:58:50.927215+0800 Runtime_Learning2[4434:4568830] method - testMethod</div><div class="line">&gt; 2018-03-27 10:58:50.927375+0800 Runtime_Learning2[4434:4568830] category2----</div><div class="line">&gt; 2018-03-27 10:58:50.927585+0800 Runtime_Learning2[4434:4568830] method - testMethod</div><div class="line">&gt; 2018-03-27 10:58:50.928280+0800 Runtime_Learning2[4434:4568830] category1----</div><div class="line">&gt; 2018-03-27 10:58:50.928472+0800 Runtime_Learning2[4434:4568830] method - testMethod</div><div class="line">&gt; 2018-03-27 10:58:50.928653+0800 Runtime_Learning2[4434:4568830] instance method</div></pre></td></tr></table></figure></p>
<p>2018-03-27 10:58:53.851391+0800 Runtime_Learning2[4434:4568830] category2â€”-</p>
</blockquote>
<p>å¯ä»¥çœ‹åˆ°ï¼Œæœ€ååŠ è½½çš„category2ï¼Œåˆ™æ‰§è¡Œæ–¹æ³•æŒ‡å‘çš„æ˜¯category2çš„æ–¹æ³•ã€‚åŸå› åœ¨å“ªå‘¢ï¼Ÿ</p>
<p>åœ¨å·¥ç¨‹TARGETS -&gt; Build Phases -&gt; Compile Sourcesä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œè‡ªä¸Šè€Œä¸‹ï¼Œç¼–è¯‘èµ„æºçš„é¡ºåºæ˜¯ï¼šCategory1.mã€Category2.mï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå·±ä¸Šä¸‹è°ƒæ•´ç¼–è¯‘é¡ºåºå¹¶æ‰§è¡Œï¼Œç»“æœæ˜¾è€Œæ˜“è§ï¼š</p>
<p><strong>å¤šä¸ªcategoryçš„åŠ è½½é¡ºåºï¼ˆä¹Ÿæ˜¯æ–¹æ³•çš„è¦†ç›–é¡ºåºï¼‰æ˜¯ä¾ç…§Compile Sourcesçš„é¡ºåºè‡ªä¸Šè€Œä¸‹ç¡®å®šçš„ã€‚</strong></p>
<p><em>æ³¨æ„ï¼Œè¿”å›å€¼ä¸åŒçš„æ–¹æ³•ä¹Ÿä¼šè¦†ç›–ï¼Œå› ä¸ºSELä¸è¿”å›å€¼æ— å…³ã€‚</em></p>
<p>æ‰€ä»¥ï¼Œå¤šä¸ªåˆ†ç±»åŒæ—¶è¦†ç›–ä¸»ç±»çš„æ–¹æ³•æ—¶ï¼Œæ‰§è¡Œç»“æœæ— æ³•ç›´æ¥ç¡®å®šï¼Œå¯èƒ½ä¼šå‡ºç°ä¸å¯é¢„ä¼°çš„é—®é¢˜ã€‚</p>
<p>å‚è€ƒå†…å®¹ï¼š</p>
<ul>
<li><a href="https://tech.meituan.com/DiveIntoCategory.html" target="_blank" rel="external">æ·±å…¥ç†è§£Objective-Cï¼šCategory
</a></li>
<li><a href="http://blog.sina.com.cn/s/blog_14679a7d20102xae4.html" target="_blank" rel="external">iOS OCä¸­åˆ†ç±»Categoryå®ç°åŸç†</a></li>
<li><a href="https://www.jianshu.com/p/87cfbdda0a68" target="_blank" rel="external">ã€iOSã€‘category é‡å†™æ–¹æ³•çš„è°ƒç”¨</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;classå’Œcategoryçš„æ•°æ®ç»“æ„&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸ºä»€ä¹ˆcategoryåªèƒ½æ·»åŠ æ–¹æ³•ï¼Œä¸èƒ½æ·»åŠ å±æ€§ï¼Ÿ&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;categoryä¸ºä½•ä¸è¦
    
    </summary>
    
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>iOS runtimeå­¦ä¹ </title>
    <link href="http://yoursite.com/2018/03/14/iOS%20runtime%E5%AD%A6%E4%B9%A0/"/>
    <id>http://yoursite.com/2018/03/14/iOS runtimeå­¦ä¹ /</id>
    <published>2018-03-14T03:33:33.000Z</published>
    <updated>2018-03-27T03:45:31.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å¼€å‘ï¼Œå¾…è¡¥-ï¼Œå­¦ä¹ æ€»ç»“"><a href="#å¼€å‘ï¼Œå¾…è¡¥-ï¼Œå­¦ä¹ æ€»ç»“" class="headerlink" title="å¼€å‘ï¼Œå¾…è¡¥~ï¼Œå­¦ä¹ æ€»ç»“~"></a>å¼€å‘ï¼Œå¾…è¡¥~ï¼Œå­¦ä¹ æ€»ç»“~</h3><h3 id="å‚è€ƒèµ„æ–™ï¼š"><a href="#å‚è€ƒèµ„æ–™ï¼š" class="headerlink" title="å‚è€ƒèµ„æ–™ï¼š"></a>å‚è€ƒèµ„æ–™ï¼š</h3><ul>
<li><a href="https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/ObjCRuntimeGuide/Introduction/Introduction.html#//apple_ref/doc/uid/TP40008048-CH1-SW1" target="_blank" rel="external">Objective-C Runtime Programming Guide</a></li>
<li><a href="https://www.jianshu.com/p/0e6eb2f9ed5d" target="_blank" rel="external">iOS-runtimeé€šç¯‡è¯¦è§£-ä¸Š</a></li>
<li><a href="https://www.jianshu.com/p/f1544b27d007" target="_blank" rel="external">iOS-runtimeé€šç¯‡è¯¦è§£-ä¸‹</a></li>
<li><a href="https://www.jianshu.com/p/efeb33712445#" target="_blank" rel="external">Runtimeå…¨æ–¹ä½è£…é€¼æŒ‡å—
</a></li>
<li><a href="https://www.jianshu.com/p/19f280afcb24" target="_blank" rel="external">iOS æ¨¡å—è¯¦è§£â€”ã€ŒRuntimeé¢è¯•ã€å·¥ä½œã€çœ‹æˆ‘å°± ğŸ’ äº† ^_^.</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;å¼€å‘ï¼Œå¾…è¡¥-ï¼Œå­¦ä¹ æ€»ç»“&quot;&gt;&lt;a href=&quot;#å¼€å‘ï¼Œå¾…è¡¥-ï¼Œå­¦ä¹ æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;å¼€å‘ï¼Œå¾…è¡¥~ï¼Œå­¦ä¹ æ€»ç»“~&quot;&gt;&lt;/a&gt;å¼€å‘ï¼Œå¾…è¡¥~ï¼Œå­¦ä¹ æ€»ç»“~&lt;/h3&gt;&lt;h3 id=&quot;å‚è€ƒèµ„æ–™ï¼š&quot;&gt;&lt;a href=&quot;#å‚è€ƒèµ„æ–™ï¼š&quot; cla
    
    </summary>
    
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>iOS RunLoopå­¦ä¹ </title>
    <link href="http://yoursite.com/2018/03/07/iOS%20RunLoop%E5%AD%A6%E4%B9%A0/"/>
    <id>http://yoursite.com/2018/03/07/iOS RunLoopå­¦ä¹ /</id>
    <published>2018-03-07T06:21:53.000Z</published>
    <updated>2018-03-09T08:30:12.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="RunLoopç®€ä»‹åŠä¸çº¿ç¨‹çš„å…³ç³»ï¼š"><a href="#RunLoopç®€ä»‹åŠä¸çº¿ç¨‹çš„å…³ç³»ï¼š" class="headerlink" title="RunLoopç®€ä»‹åŠä¸çº¿ç¨‹çš„å…³ç³»ï¼š"></a>RunLoopç®€ä»‹åŠä¸çº¿ç¨‹çš„å…³ç³»ï¼š</h3><p>ç®€è€Œè¨€ä¹‹ï¼ŒRunLoopå°±æ˜¯ä¸€ä¸ªâ€œdo-whileâ€å¾ªç¯â€“ä¸€ä¸ªäº‹ä»¶é˜Ÿåˆ—å¾ªç¯ã€‚å¾ªç¯æ—¶ï¼Œç³»ç»Ÿä¼šä¾æ¬¡ä»äº‹ä»¶é˜Ÿåˆ—ä¸­å–å‡ºäº‹ä»¶å¹¶æ‰§è¡Œï¼›æ²¡æœ‰äº‹ä»¶å¤„ç†æ—¶ï¼ŒRunLoopä¼šè¿›å…¥ä¼‘çœ ï¼Œç­‰å¾…äº‹ä»¶å”¤é†’å¤„ç†ï¼Œä»¥èŠ‚çœç³»ç»Ÿèµ„æºï¼Œå³â€œä¼‘çœ -&gt;äº‹ä»¶å”¤é†’-&gt;å¤„ç†äº‹ä»¶-&gt;ä¼‘çœ â€¦â€çš„é€»è¾‘ã€‚</p>
<p>åœ¨iOSä¸­ï¼ŒRunLoopå­˜åœ¨çš„ç±»ä¸ºCFRunLoopRefå’ŒNSRunLoopã€‚å‰è€…ä¸ºCoreFoundationæ¡†æ¶ï¼ŒCè¯­è¨€ç¼–å†™ï¼Œçº¿ç¨‹å®‰å…¨ï¼›åè€…æ˜¯OCå°è£…ï¼Œçº¿ç¨‹ä¸å®‰å…¨ã€‚</p>
<p><strong>RunLoopä¸çº¿ç¨‹æ˜¯ä¸€ä¸€å¯¹åº”çš„</strong>ã€‚æ ¹æ®æºä»£ç ï¼ˆè‹¹æœçš„å®˜æ–¹æ–‡æ¡£æˆ–ä¸‹é¢çš„å‚è€ƒèµ„æ–™ä¸­å¯ä»¥çœ‹åˆ°ï¼‰å¯çŸ¥ï¼ŒRunLoopå¯¹è±¡å­˜åœ¨äºåº•å±‚çš„ä¸€ä¸ªå…¨å±€å­—å…¸ä¸­ï¼Œkeyä¸ºçº¿ç¨‹ï¼ˆçº¿ç¨‹æŒ‡é’ˆï¼‰ï¼Œvalueä¸ºRunLoopå¯¹è±¡ã€‚</p>
<p><strong>åº”ç”¨åˆå§‹åŒ–æ—¶ï¼Œç³»ç»Ÿè‡ªåŠ¨åˆ›å»ºæ­¤å…¨å±€å­—å…¸ï¼Œå¹¶è‡ªåŠ¨åˆ›å»ºä¸»çº¿ç¨‹çš„RunLoopï¼Œä»¥ä¿è¯APPåœ¨è¿è¡Œæ—¶ä¸é€€å‡ºã€‚å­çº¿ç¨‹çš„RunLoopä¸ä¼šè‡ªåŠ¨åˆ›å»ºã€‚</strong>ç”±äºç³»ç»Ÿæ²¡æœ‰ç›´æ¥æä¾›åˆ›å»ºRunLoopçš„APIï¼Œåœ¨å­çº¿ç¨‹ä¸­åªèƒ½é€šè¿‡CFRunLoopGetCurrent()æˆ–[NSRunLoop currentRunLoop]æ¥é—´æ¥è·å–Runloopï¼ˆå­çº¿ç¨‹ä¸­é¦–æ¬¡è®¿é—®RunLoopæ—¶ï¼Œç³»ç»Ÿä¼šåˆ›å»ºRunLoopå¯¹è±¡å¹¶ä¿å­˜åˆ°å…¨å±€å­—å…¸ä¸­ï¼‰ã€‚è·å–ä¸»çº¿ç¨‹çš„RunLoopçš„æ–¹å¼æ˜¯CFRunLoopGetMain()å’Œ[NSRunLoop mainRunLoop]ã€‚</p>
<h3 id="RunLoopçš„ç»„æˆç»“æ„ï¼š"><a href="#RunLoopçš„ç»„æˆç»“æ„ï¼š" class="headerlink" title="RunLoopçš„ç»„æˆç»“æ„ï¼š"></a>RunLoopçš„ç»„æˆç»“æ„ï¼š</h3><p>å…ˆçœ‹å›¾ï¼ˆæ‘˜è‡ª<a href="https://blog.ibireme.com/2015/05/18/runloop/" target="_blank" rel="external">æ·±å…¥ç†è§£RunLoop</a>ï¼‰</p>
<p><img src="https://blog.ibireme.com/wp-content/uploads/2015/05/RunLoop_0.png" alt="img"></p>
<p>å¦‚å›¾æ‰€ç¤ºï¼ŒRunLoopå¯¹è±¡åŒ…å«äº†è‹¥å¹²ä¸ªModeå¯¹è±¡ï¼ˆCFRunLoopModeRefï¼‰ï¼Œä¸€ä¸ªModeå¯¹è±¡ä¸­åŒ…å«äº†è‹¥å¹²ä¸ªItemï¼ˆItemä¸ºSourceã€Observeræˆ–Timerçš„ä¸€ç§æˆ–å‡ ç§ï¼‰ã€‚</p>
<p>å…¶ä¸­<strong>CFRunLoopSourceRef</strong>åˆ†ä¸ºSource0å’ŒSource1ä¸¤ç§ï¼šsource0å¯¹è±¡åªæœ‰ä¸€ä¸ªCall_Outå›è°ƒå‡½æ•°æŒ‡é’ˆï¼Œä¸èƒ½ä¸»åŠ¨å”¤é†’RunLoopï¼Œå¤„ç†äº‹ä»¶æ—¶åªèƒ½ä¾ç…§RunLoopçš„æ‰§è¡Œé¡ºåºè¢«åŠ¨æ‰§è¡Œæˆ–å¤–ç•Œæ‰‹åŠ¨å”¤é†’ï¼›source1å¯¹è±¡åˆ™ä¸åŒï¼Œé™¤äº†å¸¦æœ‰Call_Outå›è°ƒå¤–ï¼Œè¿˜åŒ…å«ä¸€ä¸ªMach_Portç«¯å£å‚æ•°ï¼ˆæ¯ä¸ªSource1å”¯ä¸€ï¼‰ï¼Œå¤–éƒ¨å¯ä»¥é€šè¿‡è¿™ä¸ªç«¯å£ä¸å…¶è¿›è¡Œçº¿ç¨‹é—´é€šä¿¡ï¼Œä¸”source1äº‹ä»¶å¯ä»¥ä¸»åŠ¨å”¤é†’RunLoopè¿›è¡Œå¤„ç†ã€‚</p>
<p><strong>CFRunLoopObserverRef</strong>å³ä¸ºç›‘å¬è€…ï¼Œå¸¦æœ‰Call_Outå‡½æ•°å›è°ƒå‡½æ•°æŒ‡é’ˆï¼Œå¤–éƒ¨å¯ä»¥ç›‘å¬å¯¹åº”Observeræ¥è¯†åˆ«å½“å‰RunLoopçš„æ´»åŠ¨çŠ¶æ€ï¼ŒRunLoopçš„æ´»åŠ¨çŠ¶æ€åŒ…æ‹¬:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">typedef</span> <span class="title">CF_OPTIONS</span><span class="params">(CFOptionFlags, CFRunLoopActivity)</span> </span>&#123;</div><div class="line">	<span class="comment">// å³å°†è¿›å…¥RunLoop</span></div><div class="line">	kCFRunLoopEntry = (<span class="number">1U</span>L &lt;&lt; <span class="number">0</span>), </div><div class="line">	<span class="comment">// å³å°†å¤„ç†Timer</span></div><div class="line">	kCFRunLoopBeforeTimers = (<span class="number">1U</span>L &lt;&lt; <span class="number">1</span>),</div><div class="line">	<span class="comment">// å³å°†å¤„ç†Source</span></div><div class="line">	kCFRunLoopBeforeSources = (<span class="number">1U</span>L &lt;&lt; <span class="number">2</span>),</div><div class="line">	<span class="comment">// å³å°†è¿›å…¥ä¼‘çœ </span></div><div class="line">	kCFRunLoopBeforeWaiting = (<span class="number">1U</span>L &lt;&lt; <span class="number">5</span>),</div><div class="line">	<span class="comment">// åˆšåˆšä»ç¡çœ ä¸­å”¤é†’</span></div><div class="line">	kCFRunLoopAfterWaiting = (<span class="number">1U</span>L &lt;&lt; <span class="number">6</span>),</div><div class="line">	<span class="comment">// å³å°†é€€å‡ºRunLoop</span></div><div class="line">	kCFRunLoopExit = (<span class="number">1U</span>L &lt;&lt; <span class="number">7</span>)</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p><strong>CFRunLoopTimerRef</strong>æ˜¯åŸºäºæ—¶é—´çš„è§¦å‘å™¨ï¼Œä¹ŸåŒ…å«ä¸€ä¸ªCall_Outå›è°ƒå‡½æ•°æŒ‡é’ˆï¼ˆè¿˜æœ‰RunLoopä¸Šæ‰€æœ‰timerå¯¹è±¡å…±äº«çš„çš„Mach_Portç«¯å£ï¼‰ï¼Œä¸ä¸Šå±‚çš„NSTimerç›¸åŒï¼ˆtoll-free bridgedï¼‰ï¼Œæ·»åŠ åˆ°ç³»ç»Ÿåï¼ŒRunLoopä¼šæå‰è®¡ç®—å¥½è§¦å‘æ—¶é—´å¹¶æ·»åŠ åˆ°RunLoopä¸­ï¼Œç­‰å¾…åˆ°æ—¶é—´æ—¶è‡ªåŠ¨æ‰§è¡Œå›è°ƒã€‚</p>
<p><strong>Timerã€Source0ï¼ˆ1ï¼‰ã€ObserveråŒåŸä¸ºmode itemã€‚ä¸€ä¸ªitemå¯ä»¥æ·»åŠ åˆ°å¤šä¸ªitemä¸­ï¼ˆä¸‹é¢çš„common itemä¼šè¯´æ˜ï¼‰ã€‚è€Œä¸”ï¼Œåªæœ‰å½“è‡³å°‘åŒ…å«ä¸€ä¸ªitemçš„modeå­˜åœ¨æ—¶ï¼Œå¯¹åº”çš„RunLoopå¯¹è±¡æ‰ä¼šæŒç»­è¿è¡Œä¸”ä¸é€€å‡ºï¼ˆçº¿ç¨‹â€œä¿æ´»â€çš„åŸå› ï¼‰ã€‚</strong></p>
<h3 id="RunLoop-Modeçš„ç»“æ„ï¼š"><a href="#RunLoop-Modeçš„ç»“æ„ï¼š" class="headerlink" title="RunLoop Modeçš„ç»“æ„ï¼š"></a>RunLoop Modeçš„ç»“æ„ï¼š</h3><p>å¤§è‡´ç»“æ„å¦‚ä¸‹ï¼ˆæ‘˜è‡ª<a href="https://blog.ibireme.com/2015/05/18/runloop/" target="_blank" rel="external">æ·±å…¥ç†è§£RunLoop</a>ï¼‰ï¼Œå¯ä»¥åœ¨APPå¯åŠ¨åæ‰“å°[NSRunLoop currentRunloop]è‡ªè¡ŒæŸ¥çœ‹å®Œæ•´RunLoopå¯¹è±¡çš„ç»“æ„ï¼š</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> __<span class="title">CFRunLoopMode</span> &#123;</span></div><div class="line">	CFStringRef _name;	<span class="comment">// modeçš„åç§°ï¼ˆå¦‚â€œkCFRunLoopDefaultModeâ€ï¼‰</span></div><div class="line">	CFMutableSetRef _source0;</div><div class="line">	CFMutableSetRef _source1;</div><div class="line">	CFMutableArrayRef _observers;</div><div class="line">	CFMutableArrayRef _timers;</div><div class="line">	...</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> __<span class="title">CFRunLoop</span> &#123;</span></div><div class="line">	CFMutableSetRef _commonModes;</div><div class="line">	CFMutableSetRef _commonModeItems;</div><div class="line">	CFRunLoopModeRef _currentMode;	<span class="comment">// å½“å‰æ‰€å¤„modeï¼ˆå³modeçš„nameï¼‰</span></div><div class="line">	CFMutableSetRef _modes;		<span class="comment">// åŒ…å«æ‰€æœ‰æ”¯æŒçš„mode</span></div><div class="line">	...</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä¸Šé¢ä¸­çš„<strong>commonModeså³ä¸ºâ€œæ ‡è®°ä¸ºCommonçš„modeå¯¹è±¡é›†åˆâ€ã€‚å¯¹åº”çš„å…±äº«itemå³ä¸ºcommonModeItemsé›†åˆã€‚æ¯å½“RunLoopå†…å®¹å˜åŒ–æ—¶ï¼Œ_commonModeItemsé‡Œé¢çš„æ‰€æœ‰itemï¼ˆobserverã€timerå’Œsourceï¼‰éƒ½ä¼šåŒæ­¥åˆ°æ‰€æœ‰çš„commonModesçš„modeä¸­ã€‚</strong></p>
<p>ä¾‹å¦‚ï¼Œå¯¹ä¸»çº¿ç¨‹çš„RunLoopæ¥è¯´ï¼ŒcommonModeså³åŒ…å«ä¸¤ä¸ªï¼škCFRunLoopDefaultModeï¼ˆNSDefaultRunLoopModeï¼‰å’ŒUITrackingRunLoopModeã€‚å…¶ä¸­å½“appå¤„äºåˆ—è¡¨æ»‘åŠ¨çŠ¶æ€æ—¶ï¼Œä¸»çº¿ç¨‹å¤„äºtrackingModeï¼›å…¶ä½™æ—¶å€™å¤„äºdefaultModeã€‚</p>
<p><strong>åŒä¸€æ—¶é—´ï¼ŒRunLoopåªèƒ½å¤„äºä¸€ä¸ªmodeæ¨¡å¼ä¸‹å·¥ä½œï¼Œåˆ‡æ¢modeæ—¶éœ€è¦é€€å‡ºå¹¶é‡æ–°æŒ‡å®šmodeã€‚</strong></p>
<h3 id="RunLoopçš„å†…éƒ¨é€»è¾‘ï¼š"><a href="#RunLoopçš„å†…éƒ¨é€»è¾‘ï¼š" class="headerlink" title="RunLoopçš„å†…éƒ¨é€»è¾‘ï¼š"></a>RunLoopçš„å†…éƒ¨é€»è¾‘ï¼š</h3><p>å°±æ˜¯â€œdo-whileâ€ï¼Œçœ‹å›¾ï¼ˆæ‘˜è‡ª<a href="https://blog.ibireme.com/2015/05/18/runloop/" target="_blank" rel="external">æ·±å…¥ç†è§£RunLoop</a>ï¼‰ï¼š</p>
<p><img src="https://blog.ibireme.com/wp-content/uploads/2015/05/RunLoop_1.png" alt="img"></p>
<p>ä¸»è¦çš„è¿è¡Œå¾ªç¯ä¸º2~9æ­¥ï¼Œè¿™éƒ¨åˆ†å®ç°äº†â€œdo-whileâ€çš„é€»è¾‘ï¼›<br>æ ¸å¿ƒä¸ºç¬¬7æ­¥ï¼Œåœ¨æ²¡æœ‰äº‹ä»¶å¾…å¤„ç†æ—¶ï¼Œè¿›è¡Œä¼‘çœ ï¼Œç­‰å¾…äº‹ä»¶å”¤é†’ã€‚</p>
<h3 id="RunLoopâ€œä¼‘çœ â€æœºåˆ¶ï¼š"><a href="#RunLoopâ€œä¼‘çœ â€æœºåˆ¶ï¼š" class="headerlink" title="RunLoopâ€œä¼‘çœ â€æœºåˆ¶ï¼š"></a>RunLoopâ€œä¼‘çœ â€æœºåˆ¶ï¼š</h3><p><strong>ä¼‘çœ æ—¶ï¼ŒRunLoopæ‰§è¡Œçš„æ ¸å¿ƒå‡½æ•°ä¸ºï¼šmach_msg();</strong><br>æ­¤å‡½æ•°ä¸ºXNUå†…æ ¸çš„Machå±‚çš„åŸºæœ¬å‡½æ•°ã€‚Machå¯¹è±¡é—´ä½¿ç”¨â€œæ¶ˆæ¯â€åœ¨ç«¯å£ï¼ˆâ€œportâ€ï¼‰ä¹‹é—´è¿›è¡Œè¿›ç¨‹é—´é€šä¿¡ã€‚<br>mach_msg()å‡½æ•°å®é™…è°ƒç”¨äº†å‡½æ•°mach_msg_trap()ï¼Œå³Maché™·é˜±å‡½æ•°ã€‚è°ƒç”¨åï¼Œç³»ç»Ÿä¼šåˆ‡æ¢è‡³å†…æ ¸æ€ï¼Œå†…æ ¸æ€ä¸­çš„mach_msg()å‡½æ•°å®ŒæˆçœŸæ­£çš„å·¥ä½œï¼ˆä¼‘çœ ç­‰å¾…ã€å”¤é†’ç­‰ï¼‰ã€‚</p>
<p>çœ‹å›¾ï¼ˆæ‘˜è‡ª<a href="https://blog.ibireme.com/2015/05/18/runloop/" target="_blank" rel="external">æ·±å…¥ç†è§£RunLoop</a>ï¼‰ï¼š<br><img src="https://blog.ibireme.com/wp-content/uploads/2015/05/RunLoop_5.png" alt="img"></p>
<h3 id="RunLoopåœ¨APPä¸­çš„åŠŸèƒ½ï¼š"><a href="#RunLoopåœ¨APPä¸­çš„åŠŸèƒ½ï¼š" class="headerlink" title="RunLoopåœ¨APPä¸­çš„åŠŸèƒ½ï¼š"></a>RunLoopåœ¨APPä¸­çš„åŠŸèƒ½ï¼š</h3><ul>
<li>AutoReleasePool:</li>
</ul>
<p>Appå¯åŠ¨åï¼ŒiOSåœ¨ä¸»çº¿ç¨‹çš„RunLoopä¸­æ³¨å†Œäº†ä¸¤ä¸ªObserverï¼Œå›è°ƒéƒ½æ˜¯_wrapRunLoopWithAutoreleasePoolHandler()ï¼Œå…¶ä¸­ä¸€ä¸ªä¼˜å…ˆçº§ä¸ºæœ€é«˜ï¼ˆ-2147483647ï¼‰ï¼Œä¸€ä¸ªä¸ºæœ€ä½ï¼ˆ2147483647ï¼‰ï¼Œè¿™ä¿è¯äº†åˆ›å»ºè‡ªåŠ¨é‡Šæ”¾æ± åœ¨æ‰€æœ‰ä»£ç è¿è¡Œä¹‹å‰ï¼Œä¸”é‡Šæ”¾æ± åœ¨æ‰€æœ‰ä»»åŠ¡ä¹‹åï¼Œä½¿æ•´ä¸ªappçš„ä»£ç è¿è¡Œåœ¨è‡ªåŠ¨é‡Šæ”¾æ± ä¸­ï¼Œé˜²æ­¢äº†å†…å­˜æ³„æ¼ã€‚</p>
<ul>
<li>äº‹ä»¶å“åº”ï¼š</li>
</ul>
<p><strong>iOSæ³¨å†Œçš„ç”¨äºæ¥æ”¶ç³»ç»Ÿç¡¬ä»¶äº‹ä»¶çš„Source1å¯¹è±¡ï¼Œå›è°ƒä¸º__IOHIDEventSystemClientCallback()ï¼Œç”¨äºå¤„ç†è§¦æ‘¸ã€æŒ‰é”®ã€ä¼ æ„Ÿå™¨ç­‰äº‹ä»¶ã€‚</strong></p>
<p>å¤„ç†é€»è¾‘ä¸ºï¼šSpringBoardæ¥æ”¶åˆ°è½¬åŒ–åçš„IOHIDEventäº‹ä»¶ï¼Œé€šè¿‡mach_portè½¬å‘ç»™éœ€è¦çš„Appè¿›ç¨‹ï¼Œä¹‹åsource1çš„å›è°ƒä¼šä¸»åŠ¨è§¦å‘ï¼Œè°ƒç”¨<strong>UIApplicationHandleEventQueue()è¿›è¡Œåº”ç”¨å†…åˆ†å‘ã€‚
</strong>UIApplicationHandleEventQueue()ä¼šå°†äº‹ä»¶åŒ…è£…æˆUIEventè¿›è¡Œå¤„ç†æˆ–åˆ†å‘ã€‚å…¶ä¸­ï¼Œæ‰‹åŠ¿ã€å±å¹•æ—‹è½¬ç­‰è½¬å‘ç»™UIWindowè¿›è¡Œå¤„ç†ï¼Œé€šå¸¸çš„UIButtonç‚¹å‡»ã€touchBeginç­‰è§¦æ‘¸äº‹ä»¶ç›´æ¥åœ¨è¿™ä¸ªå›è°ƒä¸­è¿›è¡Œå¤„ç†ã€‚</p>
<ul>
<li>æ‰‹åŠ¿è¯†åˆ«ï¼š</li>
</ul>
<p>è¯†åˆ«æ‰‹åŠ¿æ—¶ï¼Œç³»ç»Ÿä¼šå…ˆè°ƒç”¨cancelå°†touchBeginç­‰äº‹ä»¶è¿›è¡Œæ‰“æ–­ï¼Œéšåä¼šå°†å¯¹åº”çš„UIGestureRecognizeræ ‡è®°ä¸ºå¾…å¤„ç†ã€‚<br>iOSæ³¨å†Œçš„beforeWaitingçš„observeræ‰€å¯¹åº”çš„å›è°ƒå³ä¸ºé›†ä¸­å¤„ç†æ‰‹åŠ¿è¯†åˆ«çš„å‡½æ•°ï¼š_UIGestureRecognizerUpdateObserver()ã€‚å…¶å†…éƒ¨ä¼šæ£€æµ‹æ‰€æœ‰å·²æ ‡è®°çš„æ‰‹åŠ¿å¯¹è±¡ï¼Œå¹¶è°ƒç”¨æ‰‹åŠ¿çš„å›è°ƒå‡½æ•°ã€‚</p>
<ul>
<li>ç•Œé¢æ›´æ–°ï¼š</li>
</ul>
<p>å½“æˆ‘ä»¬è®¾ç½®äº†viewçš„frameï¼Œæ›´æ–°äº†viewæˆ–è€…layerçš„å±‚æ¬¡åï¼Œç”šè‡³æ‰‹åŠ¨è°ƒç”¨setNeedsDisplayæˆ–setNeedsLayoutåï¼Œç³»ç»Ÿå¹¶ä¸æ˜¯ç«‹å³æ¸²æŸ“é¡µé¢ï¼Œè€Œæ˜¯å°†æ‰€æœ‰çš„ç•Œé¢æ›´æ–°è¯·æ±‚æ·»åŠ åˆ°ä¸€ä¸ªæ•´ä½“çš„å®¹å™¨ä¸­ï¼Œç­‰å¾…ä¸‹ä¸ªRunLoopäº‹ä»¶è¿è¡Œæ—¶ï¼Œæ‰è¿›è¡Œç»Ÿä¸€æ›´æ–°ã€‚</p>
<p>iOSä¼šåœ¨RunLoopä¸­æ³¨å†Œä¸€ä¸ªObserverï¼Œåˆ†åˆ«ç›‘å¬beforeWaitingå’ŒExitçŠ¶æ€ï¼Œå¯¹åº”çš„å›è°ƒä¸º_ZN2CA11Transaction17observer_callbackEP19__CFRunLoopObservermPv()ã€‚åœ¨è¿™ä¸¤ä¸ªçŠ¶æ€ä¸­ï¼Œç³»ç»Ÿä¼šéå†å®¹å™¨ä¸­æ‰€æœ‰çš„UIæ›´æ–°è¯·æ±‚ï¼Œå¹¶ç»Ÿä¸€æ¸²æŸ“æ›´æ–°ã€‚</p>
<ul>
<li>å®šæ—¶å™¨ï¼š</li>
</ul>
<p>NSTimerå³ä¸ºCFRunLoopTimerRefï¼ˆtimerå¯¹è±¡ï¼‰ã€‚æ³¨å†ŒNSTimeråï¼Œç³»ç»Ÿä¼šåœ¨æŒ‡å®šçš„è§¦å‘æ—¶é—´åœ¨RunLoopä¸­æ·»åŠ å¥½timeräº‹ä»¶åŠå›è°ƒï¼ˆç”±äºæœ‰toleranceæ—¶é—´ï¼Œä¸ä¼šç‰¹åˆ«å‡†ç¡®ï¼Œè€Œä¸”è‹¥å›è°ƒtimeræ—¶ï¼Œçº¿ç¨‹æ­£åœ¨æ‰§è¡Œç¹é‡çš„ä»»åŠ¡ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ­¤æ¬¡è°ƒç”¨è¢«é”™è¿‡ï¼‰ã€‚<br>CADisplayLinkï¼Œæ˜¯ä¸€ä¸ªä¸å±å¹•åˆ·æ–°ç‡ç›¸åŒçš„å®šæ—¶å™¨ï¼ˆä¸NSTimerä¸åŒï¼Œå†…éƒ¨ä¸ºsourceå¯¹è±¡ï¼‰ã€‚åŠŸèƒ½ä¸Šä¸timerç›¸åŒï¼Œä¸”ä»ç„¶ä¼šè¢«é•¿ä»»åŠ¡å¡ä½ã€‚</p>
<ul>
<li>PerformSelectorï¼š</li>
</ul>
<p>è°ƒç”¨NSObjectçš„performSelector:afterDelay:æ—¶ï¼Œç³»ç»Ÿå³åˆ›å»ºä¸€ä¸ªtimerå¹¶æ·»åŠ åˆ°çº¿ç¨‹çš„RunLoopä¸­ï¼ˆä¸timerç›¸åŒï¼‰ã€‚è‹¥æ­¤æ—¶çº¿ç¨‹æ²¡æœ‰RunLoopï¼Œåˆ™æ­¤æ–¹æ³•æ— æ•ˆï¼ˆå­çº¿ç¨‹éœ€è°ƒç”¨[[NSRunLoop currentRunLoop] run]æ‰å¯ï¼‰ã€‚</p>
<ul>
<li>GCDï¼š</li>
</ul>
<p>ä¸»è¦æ˜¯åœ¨dispatch_async(dispatch_get_main_queue(), block)ä¸­ï¼ŒlibDispatchä¼šå‘æ¶ˆæ¯ä¸»åŠ¨å”¤é†’ä¸»çº¿ç¨‹çš„RunLoopï¼ŒRunLoopå³è·å–blockå¹¶åœ¨<strong>CFRUNLOOP_IS_SERVICING_THE_MAIN_DISPATCH_QUEUE</strong>()ä¸­æ‰§è¡Œè¿™ä¸ªblockã€‚ä½†æ˜¯åœ¨å­çº¿ç¨‹çš„GCDå¼‚æ­¥å‡½æ•°ä¸­ï¼Œè¿˜æ˜¯ç›´æ¥ç”±libDispatchè¿›è¡Œå¤„ç†ã€‚</p>
<ul>
<li>ç½‘ç»œè¯·æ±‚ï¼š</li>
</ul>
<p>iOSçš„ç½‘ç»œè¯·æ±‚æ­¤ä¸‹è€Œä¸Šåˆ†ä¸ºï¼š</p>
<blockquote>
<p>CFSocket    -&gt; è´Ÿè´£åŸºæœ¬çš„socketé€šä¿¡<br>CFNetwork    -&gt; socketçš„å°è£…ï¼ˆASIHTTPRequeståœ¨è¿™å·¥ä½œï¼‰<br>NSURLConnection    -&gt; AFNetworking 1.x<br>NSURLSession        -&gt; AFNetworking 2.xï¼ŒAlamofire</p>
</blockquote>
<p>è¿™é‡Œè§£é‡Šä¸€ä¸‹NSURLConnectionçš„delegateä¸æ–­è¢«è°ƒç”¨çš„åŸå› ï¼ŒNSURLConnectionçš„ä¸»è¦å·¥ä½œè¿‡ç¨‹ï¼Œçœ‹å›¾å…ˆï¼ˆæ‘˜è‡ª<a href="https://blog.ibireme.com/2015/05/18/runloop/" target="_blank" rel="external">æ·±å…¥ç†è§£RunLoop</a>ï¼‰ï¼š</p>
<p><img src="https://blog.ibireme.com/wp-content/uploads/2015/05/RunLoop_network.png" alt="img"></p>
<p>NSURLConcentrationåœ¨è°ƒç”¨startå¼€å§‹è¯·æ±‚åï¼Œdelegateä¼šè·å–è¯·æ±‚çº¿ç¨‹çš„RunLoopå¯¹è±¡ï¼Œåœ¨å…¶ä¸­çš„defaultModeä¸­æ·»åŠ 4ä¸ªsource0å¯¹è±¡ã€‚å…¶ä¸­CFMultiplexerSourceè´Ÿè´£delegateçš„å„ç§å›è°ƒï¼ŒCFHTTPCookieStorageè´Ÿè´£å„ç§Cookieã€‚<br>å¼€å§‹ç½‘ç»œä¼ è¾“æ—¶ï¼ŒNSURLConcentrationåˆ›å»ºäº†ä¸¤ä¸ªæ–°çº¿ç¨‹ï¼ˆä¸Šå›¾ä¸­çš„CFSocketçº¿ç¨‹å’ŒConnectionLoaderçº¿ç¨‹ï¼‰ï¼ŒConnectionLoaderçº¿ç¨‹çš„RunLoopä¼šæ¥å—åº•å±‚socketçº¿ç¨‹çš„source1ä¼ é€’çš„æ¶ˆæ¯ï¼Œå¹¶é€šè¿‡è¯·æ±‚çº¿ç¨‹çš„source0äº‹ä»¶ï¼Œå”¤é†’è¯·æ±‚çº¿ç¨‹å¹¶è°ƒç”¨ç›¸åº”çš„delegateå›è°ƒã€‚</p>
<h3 id="å®é™…åº”ç”¨ä¸¾ä¾‹ï¼š"><a href="#å®é™…åº”ç”¨ä¸¾ä¾‹ï¼š" class="headerlink" title="å®é™…åº”ç”¨ä¸¾ä¾‹ï¼š"></a>å®é™…åº”ç”¨ä¸¾ä¾‹ï¼š</h3><ul>
<li>ç›‘å¬RunLoopçš„è¿è¡ŒçŠ¶æ€ï¼ˆæ·»åŠ observeråˆ°RunLoopï¼‰ï¼š</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line">CFAllocatorRef allocator = CFAllocatorGetDefault(); <span class="comment">// å†…å­˜å¼€è¾Ÿæ–¹å¼</span></div><div class="line">CFOptionFlags activites = kCFRunLoopAllActivities; <span class="comment">// ç›‘æ§æ´»åŠ¨ç±»å‹ï¼ˆè¿™é‡Œæ˜¯æ‰€æœ‰ç±»å‹ï¼‰</span></div><div class="line">Boolean repeats = <span class="literal">true</span>; <span class="comment">// é‡å¤ç›‘å¬</span></div><div class="line">CFIndex order = <span class="number">0</span>; <span class="comment">// ä¼˜å…ˆçº§</span></div><div class="line"><span class="comment">// ç»™ä¸»çº¿ç¨‹çš„runloopæ·»åŠ observer</span></div><div class="line">CFRunLoopObserverRef observer = CFRunLoopObserverCreateWithHandler(allocator, activites, repeats, order, ^(CFRunLoopObserverRef observer, CFRunLoopActivity activity) &#123;</div><div class="line">    <span class="keyword">switch</span> (activity) &#123;</div><div class="line">        <span class="keyword">case</span> kCFRunLoopEntry:</div><div class="line">            NSLog(@<span class="string">"runloopè¿›å…¥äº†~"</span>);</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        <span class="keyword">case</span> kCFRunLoopBeforeTimers:</div><div class="line">            NSLog(@<span class="string">"å‡†å¤‡æ‰§è¡Œtimeräº†~"</span>);</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        <span class="keyword">case</span> kCFRunLoopBeforeSources:</div><div class="line">            NSLog(@<span class="string">"å‡†å¤‡æ‰§è¡Œsourceäº†~"</span>);</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        <span class="keyword">case</span> kCFRunLoopBeforeWaiting:</div><div class="line">            NSLog(@<span class="string">"å‡†å¤‡ä¼‘çœ äº†~"</span>);</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        <span class="keyword">case</span> kCFRunLoopAfterWaiting:</div><div class="line">            NSLog(@<span class="string">"åˆšåˆšå”¤é†’~"</span>);</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        <span class="keyword">case</span> kCFRunLoopExit:</div><div class="line">            NSLog(@<span class="string">"é€€å‡ºäº†runloop~"</span>);</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        <span class="keyword">default</span>:</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// æ·»åŠ observeråˆ°ä¸»runloopçš„defaultModeä¸Š</span></div><div class="line">CFRunLoopRef mainRunLoop = CFRunLoopGetMain();</div><div class="line">CFRunLoopMode runLoopMode = kCFRunLoopDefaultMode;</div><div class="line">CFRunLoopAddObserver(mainRunLoop, observer, runLoopMode);</div></pre></td></tr></table></figure>
<ul>
<li>è®¾ç½®å®šæ—¶å™¨ï¼ˆæ·»åŠ timeråˆ°RunLoopï¼‰ï¼š</li>
</ul>
<ol>
<li>ä½¿ç”¨NSTimeråœ¨å­çº¿ç¨‹åˆ›å»ºï¼š</li>
</ol>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, <span class="number">0</span>), ^&#123;</div><div class="line">    [NSTimer scheduledTimerWithTimeInterval:<span class="number">5</span> repeats:YES block:^(NSTimer * _Nonnull timer) &#123;</div><div class="line">        NSLog(@<span class="string">"hahahah~"</span>);</div><div class="line">    &#125;];</div><div class="line">    <span class="comment">// é»˜è®¤åœ¨å­çº¿ç¨‹æ˜¯ä¸å­˜åœ¨RunLoopçš„ï¼Œå¿…é¡»å‘ŠçŸ¥ç³»ç»Ÿåˆ›å»º</span></div><div class="line">    <span class="comment">// ä¸”ä¿æŒRunLoopä¸é€€å‡ºçš„å‰ææ˜¯ï¼Œå­˜åœ¨ä¸€ä¸ªitemï¼ˆtimerã€observeræˆ–sourceï¼‰</span></div><div class="line">    [[NSRunLoop currentRunLoop] run];</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>å¦‚ä¸Šæ‰€ç¤ºï¼Œä¸è°ƒç”¨RunLoopçš„runæ–¹æ³•ï¼Œtimeråœ¨å­çº¿ç¨‹ä¸ä¼šæ‰§è¡Œã€‚</p>
<ol>
<li>ä½¿ç”¨GCDçš„dispatchçš„èµ„æºå¯¹è±¡åˆ›å»ºï¼š</li>
</ol>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line">@interface ViewController ()</div><div class="line"></div><div class="line">/** ä½¿ç”¨GCDæ·»åŠ çš„timer */</div><div class="line">@property (strong, nonatomic) dispatch_source_t timer;</div><div class="line"></div><div class="line">@end</div><div class="line"></div><div class="line">@implementation ViewController</div><div class="line">- (void)viewDidLoad &#123;</div><div class="line">    [super viewDidLoad];</div><div class="line">    </div><div class="line">    [self addTimerToRunLoop];</div><div class="line">&#125;</div><div class="line"></div><div class="line">/** å‘runloopä¸Šæ·»åŠ timerï¼ˆè¿™é‡Œæ˜¯GCDæ–¹å¼ï¼‰ */</div><div class="line">- (void)addTimerToRunLoop &#123;</div><div class="line">//    dispatch_queue_t globalQueue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0);</div><div class="line">    dispatch_queue_t myQueue = dispatch_queue_create("com.jiji.my_queue", DISPATCH_QUEUE_CONCURRENT);</div><div class="line">    </div><div class="line">//    dispatch_queue_t mainQueue = dispatch_get_main_queue();</div><div class="line">    </div><div class="line">    // åœ¨é˜Ÿåˆ—ä¸­åˆ›å»ºtimerèµ„æºå¯¹è±¡</div><div class="line">    dispatch_source_t timer = dispatch_source_create(DISPATCH_SOURCE_TYPE_TIMER, 0, 0, myQueue);</div><div class="line">    // ä¿ç•™timerï¼ˆGCDä¸ä¼šä¿ç•™timerèµ„æºå¯¹è±¡ï¼‰</div><div class="line">    self.timer = timer;</div><div class="line">    </div><div class="line">    </div><div class="line">    // è®¾ç½®timerèµ„æºçš„é—´éš”å’Œå®½å®¹åº¦</div><div class="line">    dispatch_source_set_timer(timer, DISPATCH_TIME_NOW, 1 * NSEC_PER_SEC, 0 * NSEC_PER_SEC);</div><div class="line">    // è®¾ç½®timerèµ„æºçš„äº‹ä»¶å›è°ƒ</div><div class="line">    dispatch_source_set_event_handler(timer, ^&#123;</div><div class="line">        NSLog(@"==%@==", [NSThread currentThread]);</div><div class="line">    &#125;);</div><div class="line">    // å¯åŠ¨timerèµ„æº</div><div class="line">    dispatch_resume(timer);</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (void)cancelTimer &#123;</div><div class="line">    dispatch_cancel(self.timer);</div><div class="line">    self.timer = nil;</div><div class="line">&#125;</div><div class="line"></div><div class="line">@end</div></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼Œä½¿ç”¨GCDçš„æ–¹å¼åˆ›å»ºtimerï¼Œç³»ç»Ÿä¸ä¼šä¿ç•™dispatch_source_tå¯¹è±¡ï¼Œéœ€è¦è‡ªå·±ä¿ç•™ï¼Œå¦åˆ™åˆ›å»ºåä¼šç›´æ¥é‡Šæ”¾ã€‚å–æ¶ˆæ—¶ä½¿ç”¨dispatch_cancel()ã€‚</p>
<ul>
<li>performSelectoræµ‹è¯•ï¼š</li>
</ul>
<p>åœ¨å­çº¿ç¨‹ä¸­è°ƒç”¨performSelectorï¼š</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// backgroundThread</span></div><div class="line">dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, <span class="number">0</span>), ^&#123;</div><div class="line">    <span class="comment">// ç›¸å½“äºç›´æ¥è°ƒç”¨ï¼ˆæ²¡æœ‰é€šè¿‡runloopç›´æ¥åŒæ­¥æ‰§è¡Œï¼‰</span></div><div class="line">    [self performSelector:@selector(performTask) withObject:nil];</div><div class="line"></div><div class="line">    NSLog(@<span class="string">"before ---- %@"</span>, [NSRunLoop currentRunLoop]);</div><div class="line"></div><div class="line">    <span class="comment">// ç›´æ¥è°ƒç”¨ä¸æ‰§è¡Œï¼ˆrunloopæ²¡æœ‰å¯åŠ¨ï¼‰</span></div><div class="line">    <span class="comment">// å®é™…ä¸Šæ˜¯åœ¨runloopçš„modeä¸­åŠ å…¥äº†source0å’Œsource1ä¸¤ä¸ªäº‹ä»¶</span></div><div class="line">    [self performSelector:@selector(performTask) onThread:[NSThread currentThread] withObject:nil waitUntilDone:NO];</div><div class="line"></div><div class="line">    NSLog(@<span class="string">"after ==== %@"</span>, [NSRunLoop currentRunLoop]);</div><div class="line"></div><div class="line">    <span class="comment">// å¯åŠ¨runloop</span></div><div class="line">    [[NSRunLoop currentRunLoop] run];</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<ul>
<li>çº¿ç¨‹â€œä¿æ´»â€ï¼š</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line">@interface ViewController ()</div><div class="line"></div><div class="line">/** ä¿è¯ä¸ç»“æŸçš„è‡ªå®šä¹‰çº¿ç¨‹ */</div><div class="line">@property (strong, nonatomic) NSThread *liveThread;</div><div class="line"></div><div class="line">@end</div><div class="line"></div><div class="line">@implementation ViewController</div><div class="line">- (void)viewDidLoad &#123;</div><div class="line">    [super viewDidLoad];</div><div class="line">    </div><div class="line">    // ä¿æ´»çº¿ç¨‹æµ‹è¯•</div><div class="line">    [self liveThreadTest];    </div><div class="line">&#125;</div><div class="line"></div><div class="line">/** é•¿æ—¶é—´å­˜æ´»çš„çº¿ç¨‹ */</div><div class="line">- (void)liveThreadTest &#123;</div><div class="line">    self.liveThread = [[NSThread alloc] initWithTarget:self selector:@selector(startLiveThread) object:nil];</div><div class="line">    [self.liveThread start];</div><div class="line">    // ç‚¹å‡»ä¸€æ¬¡å±å¹•ï¼Œæ‰§è¡Œä¸€æ¬¡çº¿ç¨‹çš„ä»»åŠ¡</div><div class="line">    </div><div class="line">&#125;</div><div class="line"></div><div class="line">- (void)startLiveThread &#123;</div><div class="line">    NSLog(@"%@", NSStringFromSelector(_cmd));</div><div class="line">    // åœ¨è‡ªå®šä¹‰çº¿ç¨‹ä¸­æ·»åŠ ä¸€ä¸ªsource1å¯¹è±¡ï¼ˆè¿™é‡Œæ˜¯NSPortå¯¹è±¡ï¼‰åˆ°runloopä¸­</div><div class="line">    // å¹¶å¯åŠ¨runloop</div><div class="line">    // ä»¥ä¿è¯runloopä¸€ç›´æœ‰ä»»åŠ¡è€Œä¸é€€å‡º</div><div class="line">    [[NSRunLoop currentRunLoop] addPort:[NSPort port] forMode:NSDefaultRunLoopMode];</div><div class="line">    [[NSRunLoop currentRunLoop] run];</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (void)liveThreadTask &#123;</div><div class="line">    NSLog(@"%@", NSStringFromSelector(_cmd));</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (void)touchesBegan:(NSSet&lt;UITouch *&gt; *)touches withEvent:(UIEvent *)event &#123;    </div><div class="line">    // åœ¨è‡ªå®šä¹‰çº¿ç¨‹ä¸­æ‰§è¡Œä»»åŠ¡</div><div class="line">    [self performSelector:@selector(liveThreadTask) onThread:self.liveThread withObject:nil waitUntilDone:NO];</div><div class="line">&#125;</div><div class="line">@end</div></pre></td></tr></table></figure>
<ul>
<li>åœ¨scrollViewæ»‘åŠ¨æ—¶ï¼Œä¹Ÿå¯ä»¥æ‰§è¡Œä¸»çº¿ç¨‹çš„å®šæ—¶å™¨ï¼š</li>
</ul>
<p>å°†timeræ·»åŠ åˆ°ä¸»çº¿ç¨‹RunLoopçš„commonModeä¸­ï¼š</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">NSTimer *timer = [NSTimer scheduledTimerWithTimeInterval:<span class="number">0.5</span> repeats:YES block:^(NSTimer * _Nonnull timer) &#123;</div><div class="line">    NSLog(@<span class="string">"timer---"</span>);</div><div class="line">&#125;];</div><div class="line">[[NSRunLoop mainRunLoop] addTimer:timer forMode:NSRunLoopCommonModes];</div></pre></td></tr></table></figure>
<h3 id="å‚è€ƒèµ„æ–™ï¼š"><a href="#å‚è€ƒèµ„æ–™ï¼š" class="headerlink" title="å‚è€ƒèµ„æ–™ï¼š"></a>å‚è€ƒèµ„æ–™ï¼š</h3><ul>
<li><a href="https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/Multithreading/RunLoopManagement/RunLoopManagement.html#//apple_ref/doc/uid/10000057i-CH16-SW23" target="_blank" rel="external">Run Loops</a></li>
<li><a href="https://blog.ibireme.com/2015/05/18/runloop/" target="_blank" rel="external">æ·±å…¥ç†è§£RunLoop</a></li>
<li><a href="http://www.cnblogs.com/kenshincui/p/6823841.html" target="_blank" rel="external">iOSåˆ¨æ ¹é—®åº•-æ·±å…¥ç†è§£RunLoop</a></li>
<li><a href="http://www.imlifengfeng.com/blog/?p=487" target="_blank" rel="external">iOS RunLoopè¯¦è§£</a></li>
<li><a href="http://www.jb51.net/article/123505.htm" target="_blank" rel="external">Dispatch Source Timerçš„ä½¿ç”¨åŠæ³¨æ„äº‹é¡¹ä»‹ç»</a></li>
<li><a href="https://www.jianshu.com/p/536184bfd163" target="_blank" rel="external">IOSâ€”å®ä¾‹åŒ–è®²è§£RunLoop
</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;RunLoopç®€ä»‹åŠä¸çº¿ç¨‹çš„å…³ç³»ï¼š&quot;&gt;&lt;a href=&quot;#RunLoopç®€ä»‹åŠä¸çº¿ç¨‹çš„å…³ç³»ï¼š&quot; class=&quot;headerlink&quot; title=&quot;RunLoopç®€ä»‹åŠä¸çº¿ç¨‹çš„å…³ç³»ï¼š&quot;&gt;&lt;/a&gt;RunLoopç®€ä»‹åŠä¸çº¿ç¨‹çš„å…³ç³»ï¼š&lt;/h3&gt;&lt;p&gt;ç®€è€Œè¨€ä¹‹ï¼ŒRunLo
    
    </summary>
    
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>iOS GCDå­¦ä¹ æ€»ç»“</title>
    <link href="http://yoursite.com/2018/03/05/ios_GCD_learning/"/>
    <id>http://yoursite.com/2018/03/05/ios_GCD_learning/</id>
    <published>2018-03-05T03:20:48.000Z</published>
    <updated>2018-03-06T03:40:21.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="GCDæ˜¯è‹¹æœä»¥Cè¯­è¨€ç¼–å†™ã€ä»é˜Ÿåˆ—å’Œä»»åŠ¡çš„è§’åº¦è®¾è®¡çš„å¤šçº¿ç¨‹ç¼–ç¨‹æ¡†æ¶ã€‚é¿å…äº†å¼€å‘è€…ç›´æ¥æ“ä½œçº¿ç¨‹ï¼Œé™ä½äº†å› æ“ä½œä¸å½“å¯¼è‡´çš„å¤šçº¿ç¨‹æ€§èƒ½ä¸‹é™ã€æ­»é”ç­‰æƒ…å†µçš„å¯èƒ½æ€§ã€‚ä½¿ç”¨GCDï¼Œå¯ä»¥é™ä½å¤šçº¿ç¨‹å¼€å‘çš„é—¨æ§›ï¼Œæœ€å¤§é™åº¦åœ°æå‡APPæ€§èƒ½ï¼Œå¼€å‘äººå‘˜å¯ä»¥ä¸“æ³¨äºä¸šåŠ¡çš„å¼€å‘ã€‚ï¼ˆæ³¨ï¼šåœ¨swiftä¸­ï¼Œè‹¹æœé‡å†™äº†GCDï¼Œapiå‡ä¸ºswiftæ¥å£ï¼Œä¿æŒäº†å¼€å‘è¯­è¨€çš„ä¸€è‡´æ€§ã€‚ï¼‰"><a href="#GCDæ˜¯è‹¹æœä»¥Cè¯­è¨€ç¼–å†™ã€ä»é˜Ÿåˆ—å’Œä»»åŠ¡çš„è§’åº¦è®¾è®¡çš„å¤šçº¿ç¨‹ç¼–ç¨‹æ¡†æ¶ã€‚é¿å…äº†å¼€å‘è€…ç›´æ¥æ“ä½œçº¿ç¨‹ï¼Œé™ä½äº†å› æ“ä½œä¸å½“å¯¼è‡´çš„å¤šçº¿ç¨‹æ€§èƒ½ä¸‹é™ã€æ­»é”ç­‰æƒ…å†µçš„å¯èƒ½æ€§ã€‚ä½¿ç”¨GCDï¼Œå¯ä»¥é™ä½å¤šçº¿ç¨‹å¼€å‘çš„é—¨æ§›ï¼Œæœ€å¤§é™åº¦åœ°æå‡APPæ€§èƒ½ï¼Œå¼€å‘äººå‘˜å¯ä»¥ä¸“æ³¨äºä¸šåŠ¡çš„å¼€å‘ã€‚ï¼ˆæ³¨ï¼šåœ¨swiftä¸­ï¼Œè‹¹æœé‡å†™äº†GCDï¼Œapiå‡ä¸ºswiftæ¥å£ï¼Œä¿æŒäº†å¼€å‘è¯­è¨€çš„ä¸€è‡´æ€§ã€‚ï¼‰" class="headerlink" title="GCDæ˜¯è‹¹æœä»¥Cè¯­è¨€ç¼–å†™ã€ä»é˜Ÿåˆ—å’Œä»»åŠ¡çš„è§’åº¦è®¾è®¡çš„å¤šçº¿ç¨‹ç¼–ç¨‹æ¡†æ¶ã€‚é¿å…äº†å¼€å‘è€…ç›´æ¥æ“ä½œçº¿ç¨‹ï¼Œé™ä½äº†å› æ“ä½œä¸å½“å¯¼è‡´çš„å¤šçº¿ç¨‹æ€§èƒ½ä¸‹é™ã€æ­»é”ç­‰æƒ…å†µçš„å¯èƒ½æ€§ã€‚ä½¿ç”¨GCDï¼Œå¯ä»¥é™ä½å¤šçº¿ç¨‹å¼€å‘çš„é—¨æ§›ï¼Œæœ€å¤§é™åº¦åœ°æå‡APPæ€§èƒ½ï¼Œå¼€å‘äººå‘˜å¯ä»¥ä¸“æ³¨äºä¸šåŠ¡çš„å¼€å‘ã€‚ï¼ˆæ³¨ï¼šåœ¨swiftä¸­ï¼Œè‹¹æœé‡å†™äº†GCDï¼Œapiå‡ä¸ºswiftæ¥å£ï¼Œä¿æŒäº†å¼€å‘è¯­è¨€çš„ä¸€è‡´æ€§ã€‚ï¼‰"></a>GCDæ˜¯è‹¹æœä»¥Cè¯­è¨€ç¼–å†™ã€ä»é˜Ÿåˆ—å’Œä»»åŠ¡çš„è§’åº¦è®¾è®¡çš„å¤šçº¿ç¨‹ç¼–ç¨‹æ¡†æ¶ã€‚é¿å…äº†å¼€å‘è€…ç›´æ¥æ“ä½œçº¿ç¨‹ï¼Œé™ä½äº†å› æ“ä½œä¸å½“å¯¼è‡´çš„å¤šçº¿ç¨‹æ€§èƒ½ä¸‹é™ã€æ­»é”ç­‰æƒ…å†µçš„å¯èƒ½æ€§ã€‚ä½¿ç”¨GCDï¼Œå¯ä»¥é™ä½å¤šçº¿ç¨‹å¼€å‘çš„é—¨æ§›ï¼Œæœ€å¤§é™åº¦åœ°æå‡APPæ€§èƒ½ï¼Œå¼€å‘äººå‘˜å¯ä»¥ä¸“æ³¨äºä¸šåŠ¡çš„å¼€å‘ã€‚ï¼ˆæ³¨ï¼šåœ¨swiftä¸­ï¼Œè‹¹æœé‡å†™äº†GCDï¼Œapiå‡ä¸ºswiftæ¥å£ï¼Œä¿æŒäº†å¼€å‘è¯­è¨€çš„ä¸€è‡´æ€§ã€‚ï¼‰</h2><h3 id="ä¸»è¦ç»„æˆï¼š"><a href="#ä¸»è¦ç»„æˆï¼š" class="headerlink" title="ä¸»è¦ç»„æˆï¼š"></a>ä¸»è¦ç»„æˆï¼š</h3><ul>
<li>é˜Ÿåˆ—ï¼šä¸»è¦åˆ†ä¸º<strong>ä¸²è¡Œé˜Ÿåˆ—</strong>å’Œ<strong>å¹¶å‘é˜Ÿåˆ—</strong>ä¸¤ç§ã€‚åœ¨iOSç³»ç»Ÿä¸­ï¼Œç³»ç»Ÿé¢„å…ˆæä¾›äº†ä¸¤ä¸ªç°æˆå¯ä»¥ç›´æ¥ä½¿ç”¨çš„é˜Ÿåˆ—ï¼Œåˆ†åˆ«æ˜¯<strong>ä¸»é˜Ÿåˆ—</strong>å’Œ<strong>å…¨å±€é˜Ÿåˆ—</strong>ï¼Œå…¶ä¸­<strong>ä¸»é˜Ÿåˆ—</strong>å³æˆ‘ä»¬å¸¸è¯´çš„APPä¸»çº¿ç¨‹ã€‚</li>
<li>ä»»åŠ¡ï¼šåœ¨OCä¸­ä»¥<strong>block</strong>ä½œä¸ºå•ä½ï¼Œåˆ†ä¸º<strong>â€œåŒæ­¥ä»»åŠ¡â€</strong>å’Œ<strong>â€œå¼‚æ­¥ä»»åŠ¡â€</strong>ã€‚</li>
</ul>
<p>å…¶ä¸­ï¼Œé˜Ÿåˆ—å’Œä»»åŠ¡å¯ä»¥æ ¹æ®éœ€è¦éšæ„ç»„åˆä½¿ç”¨ã€‚</p>
<h3 id="ä¸»è¦åŠŸèƒ½ï¼š"><a href="#ä¸»è¦åŠŸèƒ½ï¼š" class="headerlink" title="ä¸»è¦åŠŸèƒ½ï¼š"></a>ä¸»è¦åŠŸèƒ½ï¼š</h3><h4 id="åˆ›å»ºå’Œè·å–é˜Ÿåˆ—ï¼š"><a href="#åˆ›å»ºå’Œè·å–é˜Ÿåˆ—ï¼š" class="headerlink" title="åˆ›å»ºå’Œè·å–é˜Ÿåˆ—ï¼š"></a>åˆ›å»ºå’Œè·å–é˜Ÿåˆ—ï¼š</h4><ul>
<li>åˆ›å»ºä¸²è¡Œé˜Ÿåˆ—ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">dispatch_queue_t myQueue = dispatch_queue)create(&quot;com.jiji.my_queue&quot;, DISPATCH_QUEUE_SERIAL);</div></pre></td></tr></table></figure>
<p>ä¸²è¡Œé˜Ÿåˆ—å³ä¸ºå•ä»»åŠ¡é˜Ÿåˆ—ï¼Œä»»åŠ¡åªèƒ½æŒ‰åŠ å…¥é¡ºåºæ‰§è¡Œã€‚</p>
<ul>
<li>åˆ›å»ºå¹¶å‘é˜Ÿåˆ—ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">dispatch_queue_t myQueue = dispatch_queue)create(&quot;com.jiji.my_queue&quot;, DISPATCH_QUEUE_CONCURRENT);</div></pre></td></tr></table></figure>
<p>å¹¶å‘é˜Ÿåˆ—ï¼ŒåŒæ—¶å¯ä»¥æ‰§è¡Œå¤šä¸ªä»»åŠ¡ã€‚</p>
<ul>
<li>è·å–ä¸»é˜Ÿåˆ—ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">dispatch_queue_t mainQueue = dispatch_get_main_queue();</div></pre></td></tr></table></figure>
<p>ä¸»é˜Ÿåˆ—ï¼ŒUIæ“ä½œéƒ½åœ¨è¿™ä¸ªé˜Ÿåˆ—ä¸Šè¿›è¡Œã€‚</p>
<ul>
<li>è·å–å…¨å±€é˜Ÿåˆ—ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">dispatch_queue_t globalQueue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0);</div></pre></td></tr></table></figure>
<p>å…¶ä¸­ï¼Œå…¨å±€é˜Ÿåˆ—çš„ç¬¬ä¸€å‚æ•°ä¸ºä¼˜å…ˆçº§ï¼Œè¿™é‡Œé»˜è®¤ä¸ºdefaultï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºé¢„ç•™å‚æ•°ã€‚æˆ‘ä»¬ä¸€èˆ¬å¯ä»¥åœ¨è¿™ä¸ªé˜Ÿåˆ—ä¸­å¤„ç†ä¸€äº›è€—æ—¶ä»»åŠ¡ï¼Œå¦‚ç½‘ç»œè¯·æ±‚ã€IOç­‰ã€‚</p>
<h4 id="å‘é˜Ÿåˆ—ä¸­æ´¾å‘ä»»åŠ¡å¹¶æ‰§è¡Œä»»åŠ¡ï¼š"><a href="#å‘é˜Ÿåˆ—ä¸­æ´¾å‘ä»»åŠ¡å¹¶æ‰§è¡Œä»»åŠ¡ï¼š" class="headerlink" title="å‘é˜Ÿåˆ—ä¸­æ´¾å‘ä»»åŠ¡å¹¶æ‰§è¡Œä»»åŠ¡ï¼š"></a>å‘é˜Ÿåˆ—ä¸­æ´¾å‘ä»»åŠ¡å¹¶æ‰§è¡Œä»»åŠ¡ï¼š</h4><p>åˆ›å»ºåŒæ­¥æˆ–å¼‚æ­¥ä»»åŠ¡æ—¶ï¼Œéƒ½éœ€è¦æŒ‡å®šæ´¾å‘åˆ°çš„é˜Ÿåˆ—ã€‚</p>
<ul>
<li>ä¸²è¡Œé˜Ÿåˆ— + åŒæ­¥ä»»åŠ¡ï¼š</li>
</ul>
<p>æœ¬è´¨ä¸Šæ˜¯åœ¨æ´¾å‘ä»»åŠ¡æ‰€åœ¨çš„çº¿ç¨‹ä¸­ï¼ˆä¸åˆ›å»ºæ–°çº¿ç¨‹ï¼‰ï¼Œä¾æ¬¡æ‰§è¡Œä»»åŠ¡ï¼Œå®Œæˆä¸€ä¸ªåæ‰§è¡Œä¸‹ä¸€ä¸ªã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">NSLog(@&quot;current thread = %@&quot;, [NSThread currentThread]);</div><div class="line">dispatch_queue_t myQueue = dispatch_queue_create(&quot;com.jiji.my_queue&quot;, DISPATCH_QUEUE_SERIAL);</div><div class="line">dispatch_sync(myQueue, ^&#123;</div><div class="line">    [NSThread sleepForTimeInterval:2];</div><div class="line">    NSLog(@&quot;block 1---- %@&quot;, [NSThread currentThread]);</div><div class="line">&#125;);</div><div class="line">dispatch_sync(myQueue, ^&#123;</div><div class="line">    [NSThread sleepForTimeInterval:2];</div><div class="line">    NSLog(@&quot;block 2---- %@&quot;, [NSThread currentThread]);</div><div class="line">&#125;);</div><div class="line">dispatch_sync(myQueue, ^&#123;</div><div class="line">    [NSThread sleepForTimeInterval:2];</div><div class="line">    NSLog(@&quot;block 3---- %@&quot;, [NSThread currentThread]);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>æ‰§è¡Œç»“æœï¼š</p>
<blockquote>
<p>2018-03-05 14:00:56.434341+0800 Thread_Test2[5813:216673] current thread = <nsthread: 0x600000068f00="">{number = 1, name = main}<br>2018-03-05 14:00:58.435759+0800 Thread_Test2[5813:216673] block 1â€”- <nsthread: 0x600000068f00="">{number = 1, name = main}<br>2018-03-05 14:01:00.437177+0800 Thread_Test2[5813:216673] block 2â€”- <nsthread: 0x600000068f00="">{number = 1, name = main}<br>2018-03-05 14:01:02.438452+0800 Thread_Test2[5813:216673] block 3â€”- <nsthread: 0x600000068f00="">{number = 1, name = main}</nsthread:></nsthread:></nsthread:></nsthread:></p>
</blockquote>
<p>ä»ä¸Šé¢çš„ä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œå‘ä¸²è¡Œé˜Ÿåˆ—ä¸­æ´¾å‘çš„åŒæ­¥ä»»åŠ¡ï¼Œæ‰§è¡Œæ—¶å¹¶æ²¡æœ‰å¼€å¯æ–°çš„çº¿ç¨‹ï¼Œåªæ˜¯åœ¨å½“å‰çº¿ç¨‹ä¸­ç›´æ¥æ‰§è¡Œï¼ˆè¿™é‡Œæ˜¯åœ¨ä¸»çº¿ç¨‹å‘é˜Ÿåˆ—æ´¾å‘ä»»åŠ¡ï¼Œæ‰€ä»¥ç›´æ¥åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œï¼‰ã€‚</p>
<ul>
<li>ä¸²è¡Œé˜Ÿåˆ— + å¼‚æ­¥ä»»åŠ¡ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">NSLog(@&quot;current thread = %@&quot;, [NSThread currentThread]);</div><div class="line">dispatch_queue_t myQueue = dispatch_queue_create(&quot;com.jiji.my_queue&quot;, DISPATCH_QUEUE_SERIAL);</div><div class="line">dispatch_async(myQueue, ^&#123;</div><div class="line">    [NSThread sleepForTimeInterval:2];</div><div class="line">    NSLog(@&quot;block 1---- %@&quot;, [NSThread currentThread]);</div><div class="line">&#125;);</div><div class="line">dispatch_async(myQueue, ^&#123;</div><div class="line">    [NSThread sleepForTimeInterval:2];</div><div class="line">    NSLog(@&quot;block 2---- %@&quot;, [NSThread currentThread]);</div><div class="line">&#125;);</div><div class="line">dispatch_async(myQueue, ^&#123;</div><div class="line">    [NSThread sleepForTimeInterval:2];</div><div class="line">    NSLog(@&quot;block 3---- %@&quot;, [NSThread currentThread]);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>æ‰§è¡Œç»“æœï¼š</p>
<blockquote>
<p>2018-03-05 14:08:13.786385+0800 Thread_Test2[5952:225569] current thread = <nsthread: 0x60400007c340="">{number = 1, name = main}<br>2018-03-05 14:08:15.787681+0800 Thread_Test2[5952:225858] block 1â€”- <nsthread: 0x60000027d680="">{number = 3, name = (null)}<br>2018-03-05 14:08:17.788864+0800 Thread_Test2[5952:225858] block 2â€”- <nsthread: 0x60000027d680="">{number = 3, name = (null)}<br>2018-03-05 14:08:19.790784+0800 Thread_Test2[5952:225858] block 3â€”- <nsthread: 0x60000027d680="">{number = 3, name = (null)}</nsthread:></nsthread:></nsthread:></nsthread:></p>
</blockquote>
<p>å¯ä»¥çœ‹åˆ°ï¼Œå‘ä¸²è¡Œé˜Ÿåˆ—ä¸­æ´¾å‘å¼‚æ­¥ä»»åŠ¡ï¼Œä»»åŠ¡ä¼šåœ¨æ–°çº¿ç¨‹ä¸­æ‰§è¡Œä¾æ¬¡æ‰§è¡Œï¼ˆç³»ç»Ÿå•ç‹¬åˆ›å»ºäº†æ–°çº¿ç¨‹ï¼‰ã€‚</p>
<ul>
<li>å¹¶å‘é˜Ÿåˆ— + åŒæ­¥ä»»åŠ¡ï¼š</li>
</ul>
<p>è¿™ä¸ªè¦ä¸â€œä¸²è¡Œé˜Ÿåˆ—+åŒæ­¥â€å¯¹æ¯”ç€æ¥çœ‹ï¼š<br>ç›´æ¥åœ¨åŒä¸€é˜Ÿåˆ—ä¸­å‘å¹¶å‘é˜Ÿåˆ—æ´¾å‘åŒæ­¥ä»»åŠ¡æ—¶ï¼ˆå¦‚éƒ½åœ¨ä¸»çº¿ç¨‹ç›´æ¥å¾€é˜Ÿåˆ—ä¸­æ´¾å‘åŒæ­¥ä»»åŠ¡ï¼‰ï¼Œç»“æœæ˜¯ç›¸åŒçš„ï¼Œéƒ½æ˜¯ä¾æ¬¡æ‰§è¡Œä»»åŠ¡ï¼Œå¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">// åˆ›å»ºå¹¶å‘é˜Ÿåˆ—</div><div class="line">dispatch_queue_t myQueue = dispatch_queue_create(&quot;com.jiji.myQueue1&quot;, DISPATCH_QUEUE_CONCURRENT);</div><div class="line"></div><div class="line">// æ·»åŠ åŒæ­¥ä»»åŠ¡</div><div class="line">dispatch_sync(myQueue, ^&#123;</div><div class="line">    NSLog(@&quot;start block0---------%@&quot;, [NSThread currentThread]);</div><div class="line">    [NSThread sleepForTimeInterval:5];</div><div class="line">    NSLog(@&quot;finished block0!!!!!!!!&quot;);</div><div class="line">&#125;);</div><div class="line"></div><div class="line">dispatch_sync(myQueue, ^&#123;</div><div class="line">    NSLog(@&quot;start block1---------%@&quot;, [NSThread currentThread]);</div><div class="line">    [NSThread sleepForTimeInterval:2];</div><div class="line">    NSLog(@&quot;finished block1!!!!!!!!&quot;);</div><div class="line">&#125;);</div><div class="line"></div><div class="line">dispatch_sync(myQueue, ^&#123;</div><div class="line">    NSLog(@&quot;start block2---------%@&quot;, [NSThread currentThread]);</div><div class="line">    sleep(2);</div><div class="line">    NSLog(@&quot;finished block2!!!!!!!!&quot;);</div><div class="line">&#125;);</div><div class="line"></div><div class="line">dispatch_sync(myQueue, ^&#123;</div><div class="line">    NSLog(@&quot;start block3---------%@&quot;, [NSThread currentThread]);</div><div class="line">    [NSThread sleepForTimeInterval:2];</div><div class="line">    NSLog(@&quot;finished block3!!!!!!!!&quot;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>æ‰§è¡Œç»“æœï¼š</p>
<blockquote>
<p>2018-03-05 14:53:14.154154+0800 Thread_Test2[6775:272681] start block0â€”â€”â€”<nsthread: 0x6000000641c0="">{number = 1, name = main}<br>2018-03-05 14:53:19.156046+0800 Thread_Test2[6775:272681] finished block0!!!!!!!!<br>2018-03-05 14:53:19.156402+0800 Thread_Test2[6775:272681] start block1â€”â€”â€”<nsthread: 0x6000000641c0="">{number = 1, name = main}<br>2018-03-05 14:53:21.157883+0800 Thread_Test2[6775:272681] finished block1!!!!!!!!<br>2018-03-05 14:53:21.158132+0800 Thread_Test2[6775:272681] start block2â€”â€”â€”<nsthread: 0x6000000641c0="">{number = 1, name = main}<br>2018-03-05 14:53:23.159384+0800 Thread_Test2[6775:272681] finished block2!!!!!!!!<br>2018-03-05 14:53:23.159621+0800 Thread_Test2[6775:272681] start block3â€”â€”â€”<nsthread: 0x6000000641c0="">{number = 1, name = main}<br>2018-03-05 14:53:25.160953+0800 Thread_Test2[6775:272681] finished block3!!!!!!!!</nsthread:></nsthread:></nsthread:></nsthread:></p>
</blockquote>
<p>çœ‹èµ·æ¥ä¸â€œä¸²è¡Œé˜Ÿåˆ—+åŒæ­¥â€æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œè¿™æ˜¯ç”±äºæ´¾å‘ä»»åŠ¡ï¼ˆå¯ä»¥çœ‹åšä»ä¸Šåˆ°ä¸‹æ‰§è¡Œä»£ç ï¼Œå°†blockåŠ å…¥ï¼‰éƒ½åœ¨åŒä¸€é˜Ÿåˆ—ï¼ˆè¿™é‡Œæ˜¯ä¸»çº¿ç¨‹ï¼‰ä¸­æ‰§è¡Œã€‚</p>
<p>ä½†æ˜¯ï¼Œå½“æˆ‘ä»¬åœ¨ä¸åŒçš„é˜Ÿåˆ—ï¼ˆå³ä¸åŒçº¿ç¨‹ï¼‰ä¸­åŒæ—¶å‘ä½ çš„å¹¶å‘é˜Ÿåˆ—ä¸­æ´¾å‘åŒæ­¥ä»»åŠ¡æ—¶ï¼Œç»“æœå°±ä¸åŒäº†ï¼ˆè¿™é‡Œæ‰çœŸæ­£ä½“ç°å‡ºäº†å¹¶å‘é˜Ÿåˆ—çš„å¹¶å‘æ€§ï¼Œå³åŒæ—¶æ‰§è¡Œä»»åŠ¡ï¼‰ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">// åˆ›å»ºå¹¶å‘é˜Ÿåˆ—</div><div class="line">dispatch_queue_t myQueue = dispatch_queue_create(&quot;com.jiji.myQueue1&quot;, DISPATCH_QUEUE_CONCURRENT);</div><div class="line"></div><div class="line">// æ·»åŠ åŒæ­¥ä»»åŠ¡</div><div class="line">dispatch_sync(myQueue, ^&#123;</div><div class="line">    NSLog(@&quot;start block0---------%@&quot;, [NSThread currentThread]);</div><div class="line">    [NSThread sleepForTimeInterval:5];</div><div class="line">    NSLog(@&quot;finished block0!!!!!!!!&quot;);</div><div class="line">&#125;);</div><div class="line"></div><div class="line">// åœ¨å…¨å±€é˜Ÿåˆ—ä¸­å‘è‡ªå®šä¹‰é˜Ÿåˆ—ä¸­æ´¾å‘åŒæ­¥ä»»åŠ¡</div><div class="line">dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^&#123;</div><div class="line">//        NSLog(@&quot;current thread = %@&quot;, [NSThread currentThread]);</div><div class="line"></div><div class="line">    // æ·»åŠ åŒæ­¥ä»»åŠ¡</div><div class="line">    dispatch_sync(myQueue, ^&#123;</div><div class="line">        NSLog(@&quot;start block1---------%@&quot;, [NSThread currentThread]);</div><div class="line">        [NSThread sleepForTimeInterval:2];</div><div class="line">        NSLog(@&quot;finished block1!!!!!!!!&quot;);</div><div class="line">    &#125;);</div><div class="line">&#125;);</div><div class="line"></div><div class="line">dispatch_sync(myQueue, ^&#123;</div><div class="line">    NSLog(@&quot;start block2---------%@&quot;, [NSThread currentThread]);</div><div class="line">    sleep(2);</div><div class="line">    NSLog(@&quot;finished block2!!!!!!!!&quot;);</div><div class="line">&#125;);</div><div class="line">dispatch_sync(myQueue, ^&#123;</div><div class="line">    NSLog(@&quot;start block3---------%@&quot;, [NSThread currentThread]);</div><div class="line">    [NSThread sleepForTimeInterval:2];</div><div class="line">    NSLog(@&quot;finished block3!!!!!!!!&quot;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>æ‰§è¡Œç»“æœï¼š</p>
<blockquote>
<p>2018-03-05 14:59:05.769961+0800 Thread_Test2[6879:280233] start block0â€”â€”â€”<nsthread: 0x600000069080="">{number = 1, name = main}<br>2018-03-05 14:59:10.770410+0800 Thread_Test2[6879:280233] finished block0!!!!!!!!<br>2018-03-05 14:59:10.770848+0800 Thread_Test2[6879:280233] start block2â€”â€”â€”<nsthread: 0x600000069080="">{number = 1, name = main}<br>2018-03-05 14:59:10.770956+0800 Thread_Test2[6879:280344] start block1â€”â€”â€”<nsthread: 0x600000273880="">{number = 3, name = (null)}<br>2018-03-05 14:59:12.771788+0800 Thread_Test2[6879:280233] finished block2!!!!!!!!<br>2018-03-05 14:59:12.772043+0800 Thread_Test2[6879:280233] start block3â€”â€”â€”<nsthread: 0x600000069080="">{number = 1, name = main}<br>2018-03-05 14:59:12.772084+0800 Thread_Test2[6879:280344] finished block1!!!!!!!!<br>2018-03-05 14:59:14.772608+0800 Thread_Test2[6879:280233] finished block3!!!!!!!!</nsthread:></nsthread:></nsthread:></nsthread:></p>
</blockquote>
<p>å¯ä»¥çœ‹åˆ°ï¼Œæ‰§è¡Œä»»åŠ¡çš„é¡ºåºä¸ºâ€œ0-2-1-3â€ï¼ˆè¿™é‡Œæ˜¯ç”±äºblock1æ˜¯åœ¨å…¶ä»–çº¿ç¨‹ä¸­æ´¾å‘æ‰€è‡´ï¼‰ï¼Œä½†æ˜¯æ‰§è¡Œæ—¶ï¼Œä»”ç»†è§‚å¯Ÿï¼Œåœ¨åŒä¸€çº¿ç¨‹ä¸­æ‰§è¡Œçš„ä»»åŠ¡ï¼Œéƒ½æ˜¯ä¾æ¬¡æ‰§è¡Œå¹¶å®Œæˆï¼ˆä¸ä¸²è¡Œé˜Ÿåˆ—ç›¸åŒï¼‰ï¼Œ<strong>ä½†æ˜¯åœ¨ä¸åŒçº¿ç¨‹ä¸­ï¼ˆblock1å’Œblock2æ‰€åœ¨çº¿ç¨‹ï¼‰ï¼Œblockæ˜¯å¹¶è¡Œæ‰§è¡Œçš„ï¼Œè¿™é‡Œä½“ç°äº†å¹¶å‘é˜Ÿåˆ—çš„å¹¶å‘æ€§</strong>ã€‚æ‰€ä»¥ä¸èƒ½æ­¦æ–­åœ°è®¤å®šâ€œå¹¶å‘é˜Ÿåˆ—+åŒæ­¥â€ä¸â€œä¸²è¡Œé˜Ÿåˆ—+åŒæ­¥â€æ•ˆæœç›¸åŒã€‚è¿™é‡Œéœ€è¦å°¤å…¶æ³¨æ„ï¼ï¼ˆä½œä¸ºå¯¹æ¯”ï¼Œâ€œä¸²è¡Œé˜Ÿåˆ—+åŒæ­¥â€çš„æƒ…å†µä¸‹ï¼Œåœ¨ä¸åŒçº¿ç¨‹ä¸­æ´¾å‘åŒæ­¥ä»»åŠ¡ï¼Œè™½ç„¶æ´¾å‘é¡ºåºå¯èƒ½ä¸åŒï¼Œä½†ä»»åŠ¡ä¾ç„¶æ˜¯ä¸²è¡Œæ‰§è¡Œï¼Œç«¥é‹ä»¬è¯·è‡ªè¡ŒéªŒè¯~ï¼‰</p>
<ul>
<li>å¹¶å‘é˜Ÿåˆ— + å¼‚æ­¥ä»»åŠ¡ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">dispatch_queue_t globalQueue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0);</div><div class="line">dispatch_async(globalQueue, ^&#123;</div><div class="line">    NSLog(@&quot;start block1---------%@&quot;, [NSThread currentThread]);</div><div class="line">    [NSThread sleepForTimeInterval:2];</div><div class="line">    NSLog(@&quot;finished block1!!!!!!!!&quot;);</div><div class="line">&#125;);</div><div class="line">dispatch_async(globalQueue, ^&#123;</div><div class="line">    NSLog(@&quot;start block2---------%@&quot;, [NSThread currentThread]);</div><div class="line">    [NSThread sleepForTimeInterval:2];</div><div class="line">    NSLog(@&quot;finished block2!!!!!!!!&quot;);</div><div class="line">&#125;);</div><div class="line">dispatch_async(globalQueue, ^&#123;</div><div class="line">    NSLog(@&quot;start block3---------%@&quot;, [NSThread currentThread]);</div><div class="line">    [NSThread sleepForTimeInterval:2];</div><div class="line">    NSLog(@&quot;finished block3!!!!!!!!&quot;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>æ‰§è¡Œç»“æœï¼š</p>
<blockquote>
<p>2018-03-05 15:14:22.892746+0800 Thread_Test2[7097:295593] start block1â€”â€”â€”<nsthread: 0x604000465fc0="">{number = 3, name = (null)}<br>2018-03-05 15:14:22.892746+0800 Thread_Test2[7097:295584] start block2â€”â€”â€”<nsthread: 0x600000271cc0="">{number = 4, name = (null)}<br>2018-03-05 15:14:22.892756+0800 Thread_Test2[7097:295582] start block3â€”â€”â€”<nsthread: 0x6000002718c0="">{number = 5, name = (null)}<br>2018-03-05 15:14:24.897942+0800 Thread_Test2[7097:295584] finished block2!!!!!!!!<br>2018-03-05 15:14:24.897947+0800 Thread_Test2[7097:295582] finished block3!!!!!!!!<br>2018-03-05 15:14:24.897942+0800 Thread_Test2[7097:295593] finished block1!!!!!!!!</nsthread:></nsthread:></nsthread:></p>
</blockquote>
<p>å¯ä»¥çœ‹åˆ°ï¼Œç³»ç»Ÿå¼€å¯äº†ä¸‰ä¸ªæ–°çº¿ç¨‹ï¼ŒåŒæ—¶æ‰§è¡Œäº†ä»»åŠ¡ï¼Œå³â€œå¹¶å‘+å¼‚æ­¥â€ã€‚</p>
<blockquote>
<p>ç»¼ä¸Šæ‰€è¿°ï¼Œ</p>
<p><em>â€œåŒæ­¥â€</em>ä¸<em>â€œå¼‚æ­¥â€</em>çš„å…³é”®æ˜¯<strong>æ˜¯å¦å¼€å¯æ–°çº¿ç¨‹</strong>ï¼›</p>
<p><em>â€œä¸²è¡Œâ€</em>ä¸<em>â€œå¹¶å‘â€</em>çš„å…³é”®æ˜¯<strong>æ˜¯å¦å¯ä»¥åŒæ—¶æ‰§è¡Œä»»åŠ¡</strong>ã€‚</p>
</blockquote>
<p><em>ç‰¹åˆ«æƒ…å†µâ€“â€œä¸»é˜Ÿåˆ—â€</em>ï¼š</p>
<ul>
<li>ä¸»é˜Ÿåˆ— + åŒæ­¥ä»»åŠ¡ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">dispatch_queue_t mainQueue = dispatch_get_main_queue();</div><div class="line">dispatch_sync(mainQueue, ^&#123;</div><div class="line">    NSLog(@&quot;start block1---------%@&quot;, [NSThread currentThread]);</div><div class="line">    [NSThread sleepForTimeInterval:2];</div><div class="line">    NSLog(@&quot;finished block1!!!!!!!!&quot;);</div><div class="line">&#125;);</div><div class="line">dispatch_sync(mainQueue, ^&#123;</div><div class="line">    NSLog(@&quot;start block2---------%@&quot;, [NSThread currentThread]);</div><div class="line">    [NSThread sleepForTimeInterval:2];</div><div class="line">    NSLog(@&quot;finished block2!!!!!!!!&quot;);</div><div class="line">&#125;);</div><div class="line">dispatch_sync(mainQueue, ^&#123;</div><div class="line">    NSLog(@&quot;start block3---------%@&quot;, [NSThread currentThread]);</div><div class="line">    [NSThread sleepForTimeInterval:2];</div><div class="line">    NSLog(@&quot;finished block3!!!!!!!!&quot;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>æ‰§è¡Œç»“æœï¼šç›´æ¥æ­»é”ã€‚</p>
<p>æ­»é”åŸå› ï¼šç”±äºåŒæ­¥ä»»åŠ¡çš„æ‰§è¡Œé¡ºåºæ˜¯â€œæ´¾å‘ä»»åŠ¡1-&gt;æ‰§è¡Œä»»åŠ¡1-&gt;æ´¾å‘ä»»åŠ¡2-&gt;æ‰§è¡Œä»»åŠ¡2â€¦â€ï¼Œå³ä¸‹ä¸€ä¸ªä»»åŠ¡çš„æ´¾å‘è¦åœ¨ä¸Šä¸€ä¸ªä»»åŠ¡å®Œæˆä¹‹åæ‰èƒ½ç»§ç»­ã€‚ç„¶è€Œï¼Œåœ¨ä¸»é˜Ÿåˆ—ä¸­ï¼Œè¢«æ´¾å‘çš„ä»»åŠ¡ï¼ˆblockå¯¹è±¡ï¼‰ä¼šæ·»åŠ åˆ°ä¸»é˜Ÿåˆ—çš„æœ«ç«¯ã€‚æ­¤æ—¶ï¼Œ<strong>æ´¾å‘ä»»åŠ¡å‡½æ•°æ²¡æœ‰è¿”å›ï¼ˆæ²¡æœ‰æ‰§è¡Œå®Œæˆï¼‰ï¼Œä¼šç»™ä¸»é˜Ÿåˆ—çš„çº¿ç¨‹åŠ é”ï¼›æ–°æ·»åŠ çš„ä»»åŠ¡ç”±äºåœ¨æœ«ç«¯ï¼Œå‰é¢çš„ä»»åŠ¡æ²¡æœ‰å®Œæˆï¼Œå°±æ²¡æœ‰æœºä¼šæ‰§è¡Œï¼Œä¹Ÿå°±ä¸èƒ½è¿”å›ï¼›æ´¾å‘ä»»åŠ¡å‡½æ•°å°±ä¸å¯èƒ½å†ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼ˆäº’ç›¸ä¾èµ–ï¼‰ï¼Œä»è€Œé€ æˆæ­»é”</strong>ã€‚</p>
<p>è§£å†³æ–¹æ¡ˆï¼šåœ¨å…¶ä»–é˜Ÿåˆ—ï¼ˆéä¸»çº¿ç¨‹ï¼‰ä¸­å‘ä¸»é˜Ÿåˆ—æ´¾å‘åŒæ­¥ä»»åŠ¡ï¼Œæˆ–åœ¨ä¸»é˜Ÿåˆ—ä¸­æ´¾å‘å¼‚æ­¥ä»»åŠ¡ã€‚</p>
<p>åŒæ ·ï¼Œåœ¨ä¸²è¡Œé˜Ÿåˆ—è‡ªèº«å†…éƒ¨æ´¾å‘åŒæ­¥ä»»åŠ¡ï¼ˆâ€œå¼‚æ­¥ä»»åŠ¡åµŒå¥—åŒæ­¥â€æˆ–â€œåŒæ­¥ä»»åŠ¡åµŒå¥—åŒæ­¥â€ï¼‰ï¼ŒåŒæ ·ä¼šå¯¼è‡´æ­»é”ã€‚</p>
<ul>
<li>ä¸»é˜Ÿåˆ— + å¼‚æ­¥ä»»åŠ¡ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">dispatch_queue_t mainQueue = dispatch_get_main_queue();</div><div class="line">dispatch_async(mainQueue, ^&#123;</div><div class="line">    NSLog(@&quot;start block1---------%@&quot;, [NSThread currentThread]);</div><div class="line">    [NSThread sleepForTimeInterval:2];</div><div class="line">    NSLog(@&quot;finished block1!!!!!!!!&quot;);</div><div class="line">&#125;);</div><div class="line">dispatch_async(mainQueue, ^&#123;</div><div class="line">    NSLog(@&quot;start block2---------%@&quot;, [NSThread currentThread]);</div><div class="line">    [NSThread sleepForTimeInterval:2];</div><div class="line">    NSLog(@&quot;finished block2!!!!!!!!&quot;);</div><div class="line">&#125;);</div><div class="line">dispatch_async(mainQueue, ^&#123;</div><div class="line">    NSLog(@&quot;start block3---------%@&quot;, [NSThread currentThread]);</div><div class="line">    [NSThread sleepForTimeInterval:2];</div><div class="line">    NSLog(@&quot;finished block3!!!!!!!!&quot;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>æ‰§è¡Œç»“æœï¼š</p>
<blockquote>
<p>2018-03-05 15:57:48.249706+0800 Thread_Test2[7880:347161] start block1â€”â€”â€”<nsthread: 0x604000065d00="">{number = 1, name = main}<br>2018-03-05 15:57:50.250190+0800 Thread_Test2[7880:347161] finished block1!!!!!!!!<br>2018-03-05 15:57:50.250654+0800 Thread_Test2[7880:347161] start block2â€”â€”â€”<nsthread: 0x604000065d00="">{number = 1, name = main}<br>2018-03-05 15:57:52.251663+0800 Thread_Test2[7880:347161] finished block2!!!!!!!!<br>2018-03-05 15:57:52.252088+0800 Thread_Test2[7880:347161] start block3â€”â€”â€”<nsthread: 0x604000065d00="">{number = 1, name = main}<br>2018-03-05 15:57:54.253489+0800 Thread_Test2[7880:347161] finished block3!!!!!!!!</nsthread:></nsthread:></nsthread:></p>
</blockquote>
<p>å¯è§ï¼Œåœ¨ä¸»é˜Ÿåˆ—æ´¾å‘å¼‚æ­¥ä»»åŠ¡ï¼Œæ˜¯åœ¨ä¸»çº¿ç¨‹åŒæ­¥æ‰§è¡Œï¼ˆ<strong>ä¸»é˜Ÿåˆ—ä¸­æ‰§è¡Œå¼‚æ­¥ä»»åŠ¡ä¸ä¼šå¼€å¯æ–°çº¿ç¨‹</strong>ï¼‰ã€‚</p>
<h4 id="å»¶è¿Ÿæ‰§è¡Œä»»åŠ¡ï¼š"><a href="#å»¶è¿Ÿæ‰§è¡Œä»»åŠ¡ï¼š" class="headerlink" title="å»¶è¿Ÿæ‰§è¡Œä»»åŠ¡ï¼š"></a>å»¶è¿Ÿæ‰§è¡Œä»»åŠ¡ï¼š</h4><p>ä½¿ç”¨Dispatch_afterå‡½æ•°å’Œdispatch_time_tå˜é‡ï¼Œå‘æŒ‡å®šé˜Ÿåˆ—æ·»åŠ å»¶è¿ŸæŒ‡å®šæ—¶é—´æ‰§è¡Œçš„å¼‚æ­¥ä»»åŠ¡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">NSLog(@&quot;start-----&quot;);</div><div class="line">dispatch_queue_t mainQueue = dispatch_get_main_queue();</div><div class="line">dispatch_time_t time = dispatch_time(DISPATCH_TIME_NOW, (int64_t)3.0 * NSEC_PER_SEC);</div><div class="line">dispatch_after(time, mainQueue, ^&#123;</div><div class="line">    NSLog(@&quot;executing block!!!!!!!!&quot;);</div><div class="line">&#125;);</div><div class="line">NSLog(@&quot;end======&quot;);</div></pre></td></tr></table></figure>
<p>æ‰§è¡Œç»“æœï¼š</p>
<blockquote>
<p>2018-03-05 16:34:15.672982+0800 Thread_Test2[8449:389175] startâ€”â€“<br>2018-03-05 16:34:15.673193+0800 Thread_Test2[8449:389175] end======<br>2018-03-05 16:34:18.673343+0800 Thread_Test2[8449:389175] executing block!!!!!!!!</p>
</blockquote>
<h4 id="åªæ‰§è¡Œä¸€æ¬¡çš„ä»»åŠ¡ï¼ˆçº¿ç¨‹å®‰å…¨ï¼‰ï¼š"><a href="#åªæ‰§è¡Œä¸€æ¬¡çš„ä»»åŠ¡ï¼ˆçº¿ç¨‹å®‰å…¨ï¼‰ï¼š" class="headerlink" title="åªæ‰§è¡Œä¸€æ¬¡çš„ä»»åŠ¡ï¼ˆçº¿ç¨‹å®‰å…¨ï¼‰ï¼š"></a>åªæ‰§è¡Œä¸€æ¬¡çš„ä»»åŠ¡ï¼ˆçº¿ç¨‹å®‰å…¨ï¼‰ï¼š</h4><p>ä½¿ç”¨Dispatch_onceå‡½æ•°å’Œé™æ€çš„dispatch_once_tå˜é‡å®ç°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">static dispatch_once_t onceToken;</div><div class="line">dispatch_once(&amp;onceToken, ^&#123;</div><div class="line">    NSLog(@&quot;æ­£åœ¨æ‰§è¡Œ~~ %ld&quot;, onceToken);</div><div class="line">&#125;);</div><div class="line">NSLog(@&quot;%ld&quot;, onceToken);</div></pre></td></tr></table></figure>
<p>è¿ç»­æ‰§è¡Œä¸¤æ¬¡ï¼Œæ‰§è¡Œç»“æœï¼š</p>
<blockquote>
<p>2018-03-05 17:14:38.877559+0800 Thread_Test2[9012:424274] æ­£åœ¨æ‰§è¡Œ~~ 1024<br>2018-03-05 17:14:38.877732+0800 Thread_Test2[9012:424274] -1<br>2018-03-05 17:14:41.878217+0800 Thread_Test2[9012:424274] -1</p>
</blockquote>
<p>ç”±äºonceTokenå˜é‡ä¸ºé™æ€æˆ–å…¨å±€å˜é‡ï¼Œæ‰§è¡Œä¸€æ¬¡åä¼šèµ‹å€¼ä¸º-1ï¼Œä»¥åå³ä¸ä¼šæ‰§è¡Œï¼Œdispatch_onceå‡½æ•°å¯ä»¥ä¿è¯åœ¨æ•´ä¸ªappè¿è¡ŒæœŸé—´åªæ‰§è¡Œä¸€æ¬¡ï¼Œä¸”å¤šçº¿ç¨‹å®‰å…¨ï¼ˆå¤šçº¿ç¨‹åŒæ—¶è°ƒç”¨æ—¶ä¼šåŒæ­¥æ‰§è¡Œï¼Œblockæ‰§è¡Œå®Œæ¯•åæ‰è¿”å›ï¼‰ã€‚å¸¸ç”¨äºå•ä¾‹è®¾è®¡ä¸­ã€‚</p>
<h4 id="æ …æ ä»»åŠ¡ï¼ˆä»»åŠ¡åˆ†éš”ï¼‰ï¼š"><a href="#æ …æ ä»»åŠ¡ï¼ˆä»»åŠ¡åˆ†éš”ï¼‰ï¼š" class="headerlink" title="æ …æ ä»»åŠ¡ï¼ˆä»»åŠ¡åˆ†éš”ï¼‰ï¼š"></a>æ …æ ä»»åŠ¡ï¼ˆä»»åŠ¡åˆ†éš”ï¼‰ï¼š</h4><ul>
<li>dispatch_barrier_async:</li>
</ul>
<p>ä½¿ç”¨dispatch_barrier_asyncå‡½æ•°æ´¾å‘çš„ä»»åŠ¡å°†é˜Ÿåˆ—ä¸­ä¹‹å‰å’Œä¹‹åçš„å¼‚æ­¥ä»»åŠ¡åˆ†éš”å¼€ï¼ˆæ‰§è¡Œå®Œæ­¤æ …æ ä»»åŠ¡æ‰æ‰§è¡Œåé¢çš„ï¼‰ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">dispatch_queue_t myQueue = dispatch_queue_create(&quot;com.jiji.myQueue&quot;, DISPATCH_QUEUE_CONCURRENT);</div><div class="line">dispatch_async(myQueue, ^&#123;</div><div class="line">    NSLog(@&quot;start block1---------%@&quot;, [NSThread currentThread]);</div><div class="line">    [NSThread sleepForTimeInterval:2];</div><div class="line">    NSLog(@&quot;finished block1!!!!!!!!&quot;);</div><div class="line">&#125;);</div><div class="line">dispatch_async(myQueue, ^&#123;</div><div class="line">    NSLog(@&quot;start block2---------%@&quot;, [NSThread currentThread]);</div><div class="line">    [NSThread sleepForTimeInterval:2];</div><div class="line">    NSLog(@&quot;finished block2!!!!!!!!&quot;);</div><div class="line">&#125;);</div><div class="line">dispatch_barrier_async(myQueue, ^&#123;</div><div class="line">    NSLog(@&quot;start barrier block---------%@&quot;, [NSThread currentThread]);</div><div class="line">    [NSThread sleepForTimeInterval:2];</div><div class="line">    NSLog(@&quot;finished barrier block-=-=-=-=&quot;);</div><div class="line">&#125;);</div><div class="line">dispatch_async(myQueue, ^&#123;</div><div class="line">    NSLog(@&quot;start block3---------%@&quot;, [NSThread currentThread]);</div><div class="line">    [NSThread sleepForTimeInterval:2];</div><div class="line">    NSLog(@&quot;finished block3!!!!!!!!&quot;);</div><div class="line">&#125;);</div><div class="line">dispatch_async(myQueue, ^&#123;</div><div class="line">    NSLog(@&quot;start block4---------%@&quot;, [NSThread currentThread]);</div><div class="line">    [NSThread sleepForTimeInterval:2];</div><div class="line">    NSLog(@&quot;finished block4!!!!!!!!&quot;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>æ‰§è¡Œç»“æœï¼š</p>
<blockquote>
<p>2018-03-05 17:50:53.017995+0800 Thread_Test2[9520:461498] start block1â€”â€”â€”<nsthread: 0x604000470ac0="">{number = 3, name = (null)}<br>2018-03-05 17:50:53.017995+0800 Thread_Test2[9520:461499] start block2â€”â€”â€”<nsthread: 0x604000470b00="">{number = 4, name = (null)}<br>2018-03-05 17:50:55.019075+0800 Thread_Test2[9520:461498] finished block1!!!!!!!!<br>2018-03-05 17:50:55.019075+0800 Thread_Test2[9520:461499] finished block2!!!!!!!!<br>2018-03-05 17:50:55.019459+0800 Thread_Test2[9520:461499] start barrier blockâ€”â€”â€”<nsthread: 0x604000470b00="">{number = 4, name = (null)}<br>2018-03-05 17:50:57.021234+0800 Thread_Test2[9520:461499] finished barrier block-=-=-=-=<br>2018-03-05 17:50:57.021626+0800 Thread_Test2[9520:461499] start block3â€”â€”â€”<nsthread: 0x604000470b00="">{number = 4, name = (null)}<br>2018-03-05 17:50:57.021644+0800 Thread_Test2[9520:461498] start block4â€”â€”â€”<nsthread: 0x604000470ac0="">{number = 3, name = (null)}<br>2018-03-05 17:50:59.025274+0800 Thread_Test2[9520:461499] finished block3!!!!!!!!<br>2018-03-05 17:50:59.025250+0800 Thread_Test2[9520:461498] finished block4!!!!!!!!</nsthread:></nsthread:></nsthread:></nsthread:></nsthread:></p>
</blockquote>
<p>æ³¨æ„ï¼šdispatch_barrier_asyncæ‰€æ´¾å‘åˆ°çš„é˜Ÿåˆ—<strong>å¿…é¡»æ˜¯è‡ªå·±åˆ›å»ºçš„å¹¶å‘é˜Ÿåˆ—</strong>ï¼Œæ‰ä¼šèµ·åˆ°åˆ†éš”ä½œç”¨ï¼Œ<strong>åœ¨ä¸²è¡Œæˆ–è‡ªå¸¦çš„å…¨å±€é˜Ÿåˆ—ä¸­æ´¾å‘ç›¸å½“äºæ™®é€šçš„dispatch_asyncå¼‚æ­¥å‡½æ•°</strong>ã€‚</p>
<ul>
<li>dispatch_barrier_sync:</li>
</ul>
<p>ä¸asyncç‰ˆæœ¬å¤§è‡´ä½œç”¨ç›¸åŒï¼Œéƒ½æ˜¯åœ¨è‡ªå·±çš„å¼‚æ­¥é˜Ÿåˆ—ä¸­èµ·åˆ°åˆ†éš”ä»»åŠ¡æ‰§è¡Œçš„ä½œç”¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">dispatch_queue_t myQueue = dispatch_queue_create(&quot;com.jiji.myQueue&quot;, DISPATCH_QUEUE_CONCURRENT);</div><div class="line">dispatch_async(myQueue, ^&#123;</div><div class="line">    NSLog(@&quot;start block1---------%@&quot;, [NSThread currentThread]);</div><div class="line">    [NSThread sleepForTimeInterval:2];</div><div class="line">    NSLog(@&quot;finished block1!!!!!!!!&quot;);</div><div class="line">&#125;);</div><div class="line">dispatch_async(myQueue, ^&#123;</div><div class="line">    NSLog(@&quot;start block2---------%@&quot;, [NSThread currentThread]);</div><div class="line">    [NSThread sleepForTimeInterval:2];</div><div class="line">    NSLog(@&quot;finished block2!!!!!!!!&quot;);</div><div class="line">&#125;);</div><div class="line">dispatch_barrier_sync(myQueue, ^&#123;</div><div class="line">    NSLog(@&quot;start barrier block---------%@&quot;, [NSThread currentThread]);</div><div class="line">    [NSThread sleepForTimeInterval:2];</div><div class="line">    NSLog(@&quot;finished barrier block-=-=-=-=&quot;);</div><div class="line">&#125;);</div><div class="line">NSLog(@&quot;aaa----&quot;);</div><div class="line">dispatch_async(myQueue, ^&#123;</div><div class="line">    NSLog(@&quot;start block3---------%@&quot;, [NSThread currentThread]);</div><div class="line">    [NSThread sleepForTimeInterval:2];</div><div class="line">    NSLog(@&quot;finished block3!!!!!!!!&quot;);</div><div class="line">&#125;);</div><div class="line">NSLog(@&quot;bbb===&quot;);</div><div class="line">dispatch_async(myQueue, ^&#123;</div><div class="line">    NSLog(@&quot;start block4---------%@&quot;, [NSThread currentThread]);</div><div class="line">    [NSThread sleepForTimeInterval:2];</div><div class="line">    NSLog(@&quot;finished block4!!!!!!!!&quot;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>æ‰§è¡Œç»“æœï¼š</p>
<blockquote>
<p>2018-03-05 18:20:42.129155+0800 Thread_Test2[9940:497853] start block2â€”â€”â€”<nsthread: 0x60400026e280="">{number = 4, name = (null)}<br>2018-03-05 18:20:42.129156+0800 Thread_Test2[9940:497854] start block1â€”â€”â€”<nsthread: 0x600000274180="">{number = 3, name = (null)}<br>2018-03-05 18:20:44.133480+0800 Thread_Test2[9940:497853] finished block2!!!!!!!!<br>2018-03-05 18:20:44.133480+0800 Thread_Test2[9940:497854] finished block1!!!!!!!!<br>2018-03-05 18:20:44.134002+0800 Thread_Test2[9940:497766] start barrier blockâ€”â€”â€”<nsthread: 0x6000000698c0="">{number = 1, name = main}<br>2018-03-05 18:20:46.134747+0800 Thread_Test2[9940:497766] finished barrier block-=-=-=-=<br>2018-03-05 18:20:46.136687+0800 Thread_Test2[9940:497766] aaaâ€”-<br>2018-03-05 18:20:46.138866+0800 Thread_Test2[9940:497766] bbb===<br>2018-03-05 18:20:46.138930+0800 Thread_Test2[9940:497853] start block3â€”â€”â€”<nsthread: 0x60400026e280="">{number = 4, name = (null)}<br>2018-03-05 18:20:46.144088+0800 Thread_Test2[9940:497851] start block4â€”â€”â€”<nsthread: 0x600000273c80="">{number = 5, name = (null)}<br>2018-03-05 18:20:48.150834+0800 Thread_Test2[9940:497853] finished block3!!!!!!!!<br>2018-03-05 18:20:48.151900+0800 Thread_Test2[9940:497851] finished block4!!!!!!!!</nsthread:></nsthread:></nsthread:></nsthread:></nsthread:></p>
</blockquote>
<p>å¯è§ï¼Œä¸asyncä½œç”¨å¤§ä½“ä¸€è‡´ï¼Œéƒ½æ˜¯åˆ†éš”ä¸¤ç»„ä»»åŠ¡çš„æ‰§è¡Œã€‚åŒºåˆ«æ˜¯ï¼šâ€œaaaâ€å’Œâ€œbbbâ€çš„è¾“å‡ºæ˜¯åœ¨barrierçš„ä»»åŠ¡å®Œæˆä¹‹åã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>dispatch_barrier_syncæ´¾å‘ä»»åŠ¡ä¼šé˜»ç¢å½“å‰çº¿ç¨‹è¿è¡Œï¼Œç›´åˆ°barrierçš„ä»»åŠ¡å®Œæˆè¿”å›åå†ç»§ç»­æ‰§è¡Œåé¢çš„ä»£ç </strong>ï¼ˆä¸»çº¿ç¨‹ä»»åŠ¡å’Œåé¢çš„æ´¾å‘ï¼‰ï¼›è€Œasyncçš„ç‰ˆæœ¬ä¸ä¼šé˜»ç¢å½“å‰çº¿ç¨‹æ‰§è¡Œï¼ˆä¼šç›´æ¥å…ˆè¾“å‡ºâ€œaaaâ€å’Œâ€œbbbâ€ï¼‰ã€‚æ­¤å¤–ï¼Œ<strong>åœ¨ä¸²è¡Œé˜Ÿåˆ—æˆ–è‡ªå¸¦çš„å…¨å±€é˜Ÿåˆ—ä¸­æ´¾å‘barrierä»»åŠ¡ï¼Œç›¸å½“äºdispatch_sync</strong>ã€‚</p>
<h4 id="è¿­ä»£æ´¾å‘ä»»åŠ¡ï¼š"><a href="#è¿­ä»£æ´¾å‘ä»»åŠ¡ï¼š" class="headerlink" title="è¿­ä»£æ´¾å‘ä»»åŠ¡ï¼š"></a>è¿­ä»£æ´¾å‘ä»»åŠ¡ï¼š</h4><p>ä½¿ç”¨dispatch_applyå‡½æ•°å¯ä»¥å‘é˜Ÿåˆ—ä¸­è¿­ä»£æ´¾å‘å¤šä¸ªä»»åŠ¡ï¼Œç›¸å½“äºGCDç‰ˆæœ¬çš„forå¾ªç¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">//    dispatch_queue_t globalQueue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0);</div><div class="line">//    dispatch_queue_t serialQueue = dispatch_queue_create(&quot;com.jiji.my_serial_queue&quot;, DISPATCH_QUEUE_SERIAL);</div><div class="line">dispatch_queue_t concurrentQueue = dispatch_queue_create(&quot;com.jiji.my_concurrent_queue&quot;, DISPATCH_QUEUE_CONCURRENT);</div><div class="line">dispatch_apply((size_t)5, concurrentQueue, ^(size_t index) &#123;</div><div class="line">    [NSThread sleepForTimeInterval:2];</div><div class="line">    NSLog(@&quot;apply -- %ld, thread = %@&quot;, index, [NSThread currentThread]);</div><div class="line">&#125;);</div><div class="line">NSLog(@&quot;finished---&quot;);</div></pre></td></tr></table></figure>
<p>æ‰§è¡Œç»“æœï¼š</p>
<blockquote>
<p>2018-03-05 21:26:02.462338+0800 Thread_Test2[11015:575150] apply â€“ 0, thread = <nsthread: 0x60400007b040="">{number = 1, name = main}<br>2018-03-05 21:26:02.464843+0800 Thread_Test2[11015:575416] apply â€“ 1, thread = <nsthread: 0x60000046ed80="">{number = 5, name = (null)}<br>2018-03-05 21:26:02.464840+0800 Thread_Test2[11015:575417] apply â€“ 2, thread = <nsthread: 0x6040002763c0="">{number = 3, name = (null)}<br>2018-03-05 21:26:02.464854+0800 Thread_Test2[11015:575418] apply â€“ 3, thread = <nsthread: 0x604000276280="">{number = 4, name = (null)}<br>2018-03-05 21:26:04.463205+0800 Thread_Test2[11015:575150] apply â€“ 4, thread = <nsthread: 0x60400007b040="">{number = 1, name = main}<br>2018-03-05 21:26:04.463406+0800 Thread_Test2[11015:575150] finishedâ€”</nsthread:></nsthread:></nsthread:></nsthread:></nsthread:></p>
</blockquote>
<p>å¦‚ä¸Šæ‰€ç¤ºï¼š</p>
<ul>
<li>åœ¨å¹¶å‘é˜Ÿåˆ—æˆ–å…¨å±€é˜Ÿåˆ—ä¸­ï¼Œdispatch_applyä¼šæ´¾å‘size_tæ•°é‡çš„å¼‚æ­¥ä»»åŠ¡ï¼ŒåŒæ—¶é˜»å¡æ´¾å‘çº¿ç¨‹ï¼Œå¾…è¿­ä»£çš„æ‰€æœ‰ä»»åŠ¡å…¨éƒ¨å®Œæˆåç»§ç»­å‘ä¸‹æ‰§è¡Œï¼ˆå¹¶å‘é˜Ÿåˆ—é‡Œæ˜¯å¹¶å‘æ‰§è¡Œï¼‰ã€‚åŒæ—¶ï¼Œç³»ç»Ÿä¼šåŠ¨æ€åˆ›å»ºå¹¶åˆ†é…ä»»åŠ¡çš„æ‰§è¡Œçº¿ç¨‹ï¼Œé˜²æ­¢çº¿ç¨‹çš„å¤§é‡åˆ›å»ºï¼Œä¼˜åŒ–å¤šçº¿ç¨‹æ‰§è¡Œæ•ˆç‡ã€‚</li>
<li>åœ¨ä¸²è¡Œé˜Ÿåˆ—ä¸­ï¼Œç›´æ¥æŒ‰ç…§dispatch_syncåŒæ­¥ä»»åŠ¡ï¼Œåœ¨æ´¾å‘çº¿ç¨‹ä¸­ä¸²è¡Œæ‰§è¡Œã€‚</li>
<li>åœ¨ä¸»é˜Ÿåˆ—ä¸­ï¼Œæ­»é”ï¼ˆä¸»çº¿ç¨‹æ´¾å‘åŒæ­¥ä»»åŠ¡å¯¼è‡´ï¼‰ã€‚</li>
</ul>
<blockquote>
<p>åº”ç”¨åœºæ™¯ï¼š<br>ä»¥åƒç´ ä¸ºå•ä½çš„imageå¤„ç†ï¼ˆé˜²æ­¢çº¿ç¨‹çˆ†ç‚¸ï¼‰ï¼›<br>å­—å…¸è½¬æ¨¡å‹ï¼ˆå¹¶å‘é˜Ÿåˆ—ï¼Œå¼‚æ­¥å¤„ç†åï¼Œå›åˆ°ä¸»çº¿ç¨‹ï¼‰</p>
</blockquote>
<h4 id="é˜Ÿåˆ—ç»„ï¼š"><a href="#é˜Ÿåˆ—ç»„ï¼š" class="headerlink" title="é˜Ÿåˆ—ç»„ï¼š"></a>é˜Ÿåˆ—ç»„ï¼š</h4><p>ä»¥ç»„çš„å½¢å¼ç®¡ç†å¤šä¸ªé˜Ÿåˆ—æ‰§è¡Œä»»åŠ¡ï¼š</p>
<ul>
<li>æ”¯æŒä»¥dispatch_group_asyncçš„æ–¹å¼æ´¾å‘å¼‚æ­¥ä»»åŠ¡åˆ°ç»„ä¸­ï¼›ï¼ˆdispatch_group_enterå’Œdispatch_group_leaveä¸dispatch_asyncé…åˆä½¿ç”¨æ•ˆæœç›¸åŒï¼‰</li>
<li>æ”¯æŒä»¥dispatch_group_waitçš„æ–¹å¼é˜»å¡å½“å‰é˜Ÿåˆ—ç»„ï¼Œç›´åˆ°æ‰§è¡Œå®Œæˆæ‰€æœ‰æ´¾å‘çš„ä»»åŠ¡æˆ–åˆ°è¾¾è¶…æ—¶æ—¶é—´åå†ç»§ç»­å‘ä¸‹æ‰§è¡Œï¼ˆå®Œæˆå’Œè¶…æ—¶åï¼Œé˜Ÿåˆ—ç»„ä¼šæ¸…ç©ºï¼‰ï¼›</li>
<li>dispatch_group_notifyæ´¾å‘çš„ä»»åŠ¡åœ¨æ‰€æœ‰ç»„ä»»åŠ¡å®Œæˆåæ‰§è¡Œã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line">dispatch_queue_t globalQueue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0);</div><div class="line">// åˆ›å»ºç»„</div><div class="line">dispatch_group_t group = dispatch_group_create();</div><div class="line"></div><div class="line">// æ´¾å‘åˆ°å…¨å±€é˜Ÿåˆ—ä¸­çš„å¼‚æ­¥ä»»åŠ¡ï¼Œæ·»åŠ åˆ°ç»„ä¸­</div><div class="line">dispatch_group_async(group, globalQueue, ^&#123;</div><div class="line">    NSLog(@&quot;start block1---------%@&quot;, [NSThread currentThread]);</div><div class="line">    [NSThread sleepForTimeInterval:2];</div><div class="line">    NSLog(@&quot;finished block1!!!!!!!!&quot;);</div><div class="line">&#125;);</div><div class="line"></div><div class="line">// ä»¥dispatch_group_enterçš„æ–¹å¼æ·»åŠ å¼‚æ­¥ä»»åŠ¡åˆ°ç»„ä¸­</div><div class="line">dispatch_group_enter(group);</div><div class="line">dispatch_async(globalQueue, ^&#123;</div><div class="line">    NSLog(@&quot;start block2---------%@&quot;, [NSThread currentThread]);</div><div class="line">    [NSThread sleepForTimeInterval:2];</div><div class="line">    NSLog(@&quot;finished block2!!!!!!!!&quot;);</div><div class="line">    </div><div class="line">    // dispatch_group_leaveä»ç»„ä¸­ç§»é™¤ä»»åŠ¡</div><div class="line">    dispatch_group_leave(group);</div><div class="line">&#125;);</div><div class="line"></div><div class="line">// ç­‰å¾…ä»»åŠ¡ï¼ˆè¿™é‡Œæ˜¯ç­‰å¾…ç»„ä¸­çš„ä»»åŠ¡å…¨éƒ¨å®Œæˆï¼‰</div><div class="line">dispatch_group_wait(group, DISPATCH_TIME_FOREVER);</div><div class="line"></div><div class="line">// æ´¾å‘åˆ°å…¨å±€é˜Ÿåˆ—ä¸­çš„å¼‚æ­¥ä»»åŠ¡ï¼Œæ·»åŠ åˆ°ç»„ä¸­</div><div class="line">dispatch_group_async(group, globalQueue, ^&#123;</div><div class="line">    NSLog(@&quot;start block3---------%@&quot;, [NSThread currentThread]);</div><div class="line">    [NSThread sleepForTimeInterval:2];</div><div class="line">    NSLog(@&quot;finished block3!!!!!!!!&quot;);</div><div class="line">&#125;);</div><div class="line"></div><div class="line">// å…¨éƒ¨æ‰§è¡Œå®Œæ¯•ï¼Œåˆ‡æ¢å›ä¸»çº¿ç¨‹æ‰§è¡Œ</div><div class="line">dispatch_group_notify(group, dispatch_get_main_queue(), ^&#123;</div><div class="line">    NSLog(@&quot;finished all!!!&quot;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>æ‰§è¡Œç»“æœï¼š</p>
<blockquote>
<p>2018-03-05 22:25:57.183194+0800 Thread_Test2[11842:630278] start block2â€”â€”â€”<nsthread: 0x60400027f800="">{number = 5, name = (null)}<br>2018-03-05 22:25:57.183195+0800 Thread_Test2[11842:630275] start block1â€”â€”â€”<nsthread: 0x6000004765c0="">{number = 4, name = (null)}<br>2018-03-05 22:25:59.184596+0800 Thread_Test2[11842:630275] finished block1!!!!!!!!<br>2018-03-05 22:25:59.184662+0800 Thread_Test2[11842:630278] finished block2!!!!!!!!<br>2018-03-05 22:25:59.185201+0800 Thread_Test2[11842:630278] start block3â€”â€”â€”<nsthread: 0x60400027f800="">{number = 5, name = (null)}<br>2018-03-05 22:26:01.189667+0800 Thread_Test2[11842:630278] finished block3!!!!!!!!<br>2018-03-05 22:26:01.189929+0800 Thread_Test2[11842:630025] finished all!!!</nsthread:></nsthread:></nsthread:></p>
</blockquote>
<h4 id="ä¿¡å·é‡ï¼š"><a href="#ä¿¡å·é‡ï¼š" class="headerlink" title="ä¿¡å·é‡ï¼š"></a>ä¿¡å·é‡ï¼š</h4><p><strong>ä¿¡å·é‡æ˜¯ä¸€ç§åŸºäºè®¡æ•°å™¨çš„å¤šçº¿ç¨‹åŒæ­¥æœºåˆ¶ï¼Œç”¨æ¥ç®¡ç†å¯¹èµ„æºçš„å¹¶å‘è®¿é—®ã€‚</strong></p>
<p>è®¡æ•°å™¨ä¸ºåŸå­æ€§çš„å€¼ï¼Œå¯ä»¥ä¿è¯å¤šçº¿ç¨‹å®‰å…¨ï¼Œä½¿ç”¨æ—¶ï¼Œåˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š</p>
<ol>
<li>åˆå§‹å€¼ä¸º0æ—¶ï¼Œå¯ä»¥æŠŠä¸¤ä¸ªçº¿ç¨‹çš„å¼‚æ­¥ä»»åŠ¡å˜ä¸ºåŒæ­¥ä»»åŠ¡ï¼ˆæ§åˆ¶å…ˆåæ‰§è¡Œé¡ºåºï¼Œçº¿ç¨‹åŒæ­¥ï¼‰ï¼›</li>
<li>åˆå§‹å€¼å¤§äº0æ—¶ï¼Œå¯ä»¥é™åˆ¶é˜Ÿåˆ—ä¸­çš„å¹¶å‘ä»»åŠ¡æ•°ï¼ˆæ˜¯å‡ åˆ™åŒæ—¶å¯ä»¥æœ‰å‡ ä¸ªä»»åŠ¡å¹¶å‘æ‰§è¡Œï¼‰ï¼›</li>
</ol>
<p>ç›¸å…³å‡½æ•°ï¼š</p>
<ul>
<li>dispatch_semaphore_create(value)ï¼šåˆ›å»ºä¿¡å·é‡ï¼ˆå‚æ•°ä¸ºå¹¶å‘æ•°ï¼‰</li>
<li>dispatch_semaphore_wait(semaphore)ï¼šæŠ¢å èµ„æºï¼Œä¿¡å·é‡å€¼-1</li>
<li>dispatch_semaphore_signal(semaphore)ï¼šé‡Šæ”¾èµ„æºï¼Œä¿¡å·é‡å€¼+1</li>
</ul>
<p>ç›¸å…³å®ä¾‹ï¼š</p>
<ul>
<li>â€œå¼‚æ­¥â€å˜â€œåŒæ­¥â€ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">dispatch_semaphore_t semaphore = dispatch_semaphore_create(0);</div><div class="line"></div><div class="line">__block int number = 0;</div><div class="line"></div><div class="line">dispatch_queue_t globalQueue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0);</div><div class="line">dispatch_async(globalQueue, ^&#123;</div><div class="line">    number = 100;</div><div class="line">    // ä¿¡å·å€¼+1ï¼Œæ¢å¤æ´¾å‘çº¿ç¨‹ç»§ç»­æ‰§è¡Œ</div><div class="line">    dispatch_semaphore_signal(semaphore);</div><div class="line">&#125;);</div><div class="line">// åˆå€¼æ˜¯0ï¼Œå³ä¸ºé˜»å¡å½“å‰çº¿ç¨‹ï¼Œä¸€ç›´ç­‰å¾…</div><div class="line">dispatch_semaphore_wait(semaphore, DISPATCH_TIME_FOREVER);</div><div class="line">NSLog(@&quot;number = %d&quot;, number);</div></pre></td></tr></table></figure>
<p>æ‰§è¡Œç»“æœï¼š</p>
<blockquote>
<p>2018-03-05 23:02:29.855585+0800 Thread_Test2[12363:659768] number = 100</p>
</blockquote>
<ul>
<li>æ§åˆ¶å¹¶å‘çº¿ç¨‹æ•°ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">dispatch_queue_t globalQueue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0);</div><div class="line">// åŒæ—¶åªå…è®¸ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œä»»åŠ¡</div><div class="line">dispatch_semaphore_t semaphore = dispatch_semaphore_create(1);</div><div class="line">for (int i = 0; i &lt; 10; i++) &#123;</div><div class="line">    dispatch_async(globalQueue, ^&#123;</div><div class="line">        // æŠ¢å èµ„æºï¼ˆ-1ï¼‰</div><div class="line">        dispatch_semaphore_wait(semaphore, DISPATCH_TIME_FOREVER);</div><div class="line">        NSLog(@&quot;index = %d, semaphore = %@&quot;, i, semaphore);</div><div class="line">        // é‡Šæ”¾èµ„æºï¼ˆ+1ï¼‰</div><div class="line">        dispatch_semaphore_signal(semaphore);</div><div class="line">    &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æ‰§è¡Œç»“æœï¼š</p>
<blockquote>
<p>2018-03-05 23:20:34.300704+0800 Thread_Test2[12777:682814] index = 0, semaphore = <os_dispatch_semaphore: 0x604000291b70=""><br>2018-03-05 23:20:34.300918+0800 Thread_Test2[12777:682816] index = 1, semaphore = <os_dispatch_semaphore: 0x604000291b70=""><br>2018-03-05 23:20:34.301175+0800 Thread_Test2[12777:682815] index = 2, semaphore = <os_dispatch_semaphore: 0x604000291b70=""><br>2018-03-05 23:20:34.302360+0800 Thread_Test2[12777:682813] index = 3, semaphore = <os_dispatch_semaphore: 0x604000291b70=""><br>2018-03-05 23:20:34.303131+0800 Thread_Test2[12777:682814] index = 5, semaphore = <os_dispatch_semaphore: 0x604000291b70=""><br>2018-03-05 23:20:34.304928+0800 Thread_Test2[12777:682826] index = 4, semaphore = <os_dispatch_semaphore: 0x604000291b70=""><br>2018-03-05 23:20:34.305489+0800 Thread_Test2[12777:682816] index = 6, semaphore = <os_dispatch_semaphore: 0x604000291b70=""><br>2018-03-05 23:20:34.306229+0800 Thread_Test2[12777:682827] index = 7, semaphore = <os_dispatch_semaphore: 0x604000291b70=""><br>2018-03-05 23:20:34.306518+0800 Thread_Test2[12777:682829] index = 8, semaphore = <os_dispatch_semaphore: 0x604000291b70=""><br>2018-03-05 23:20:34.306642+0800 Thread_Test2[12777:682828] index = 9, semaphore = <os_dispatch_semaphore: 0x604000291b70=""></os_dispatch_semaphore:></os_dispatch_semaphore:></os_dispatch_semaphore:></os_dispatch_semaphore:></os_dispatch_semaphore:></os_dispatch_semaphore:></os_dispatch_semaphore:></os_dispatch_semaphore:></os_dispatch_semaphore:></os_dispatch_semaphore:></p>
</blockquote>
<p><strong>ä¿¡å·é‡åˆå€¼ä¸º1æ—¶ï¼Œå³ä¸ºçº¿ç¨‹åŠ é”</strong>ï¼ˆå‰ä¸€ä¸ªä»»åŠ¡æŠ¢å èµ„æºåï¼Œä¸‹ä¸€ä¸ªå¼‚æ­¥ä»»åŠ¡æ‰§è¡Œæ—¶ï¼Œç”±äºä¿¡å·é‡å€¼ä¸º0ï¼Œçº¿ç¨‹è¿›å…¥ç­‰å¾…çŠ¶æ€ï¼ŒçŸ¥é“å‰ä¸€ä»»åŠ¡é‡Šæ”¾èµ„æºåç»§ç»­æ‰§è¡Œï¼‰ã€‚</p>
<ul>
<li>ä¿è¯æ•°æ®çš„çº¿ç¨‹å®‰å…¨ï¼š</li>
</ul>
<p>å®ä¾‹ï¼šä¸¤ä¸ªçª—å£çš„å–ç¥¨é—®é¢˜ï¼ˆå¤šçº¿ç¨‹é—´çš„æ•°æ®å…±äº«ä¸ä¸€è‡´æ€§ï¼‰<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div></pre></td><td class="code"><pre><div class="line">@interface ViewController ()</div><div class="line">&#123;</div><div class="line">    /** åŒæ­¥å–ç¥¨ç³»ç»Ÿçš„ä¿¡å·é‡ */</div><div class="line">    dispatch_semaphore_t _ticketSemaphore;</div><div class="line">    /** ä½™ç¥¨æ€»æ•° */</div><div class="line">    int _surplusTicketsCount;</div><div class="line">&#125;</div><div class="line">@end</div><div class="line"></div><div class="line">@implementation ViewController</div><div class="line">- (void)viewDidLoad &#123;</div><div class="line">	[self initTicketStatus];</div><div class="line">&#125;</div><div class="line">/** åˆå§‹åŒ–ç¥¨åŠçª—å£ä¿¡æ¯ */</div><div class="line">- (void)initTicketStatus &#123;</div><div class="line">    // æ¯ä¸ªå”®ç¥¨å£éƒ½æ˜¯æŒ‰é¡ºåºå–ç¥¨ï¼Œæ‰€ä»¥æ˜¯ä¸²è¡Œé˜Ÿåˆ—</div><div class="line">    dispatch_queue_t queue1 = dispatch_queue_create(&quot;com.my_queue1&quot;, DISPATCH_QUEUE_SERIAL);</div><div class="line">    dispatch_queue_t queue2 = dispatch_queue_create(&quot;com.my_queue2&quot;, DISPATCH_QUEUE_SERIAL);</div><div class="line">    </div><div class="line">    // å…±50å¼ ç¥¨</div><div class="line">    _surplusTicketsCount = 50;</div><div class="line">    </div><div class="line">    // ä¿¡å·é‡åŒæ­¥ä¸¤ä¸ªçª—å£ï¼ˆåŒæ—¶åªèƒ½ä¸€ä¸ªçª—å£æ“ä½œï¼‰</div><div class="line">    _ticketSemaphore = dispatch_semaphore_create(1);</div><div class="line">    </div><div class="line">    // ä¸¤ä¸ªçª—å£åŒæ—¶å¼€å–ï¼ˆæ¯ä¸ªé˜Ÿåˆ—å¼‚æ­¥æ‰§è¡Œå–ç¥¨ä»»åŠ¡ï¼‰</div><div class="line">    __weak typeof(self) weakSelf = self;</div><div class="line">    dispatch_async(queue1, ^&#123;</div><div class="line">        [weakSelf saleTicket];</div><div class="line">    &#125;);</div><div class="line">    dispatch_async(queue2, ^&#123;</div><div class="line">        [weakSelf saleTicket];</div><div class="line">    &#125;);</div><div class="line">    </div><div class="line">&#125;</div><div class="line"></div><div class="line">- (void)saleTicket &#123;</div><div class="line">    while (1) &#123;</div><div class="line">        // è·å–èµ„æºï¼ˆ-1ï¼‰ï¼Œæ­¤æ—¶ä¿¡å·é‡å€¼ä¸º0ï¼ŒåŠ é”</div><div class="line">        dispatch_semaphore_wait(_ticketSemaphore, DISPATCH_TIME_FOREVER);</div><div class="line">        </div><div class="line">        if (_surplusTicketsCount &gt; 0) &#123;</div><div class="line">            _surplusTicketsCount -= 1;</div><div class="line">            NSLog(@&quot;å‰©ä½™ç¥¨æ•°ï¼š%dï¼Œçª—å£ä¸ºï¼š%@&quot;,</div><div class="line">                  _surplusTicketsCount,</div><div class="line">                  [NSThread currentThread]</div><div class="line">            );</div><div class="line">//            [NSThread sleepForTimeInterval:0.2];  // ä¸åŠ å»¶æ—¶æ—¶ï¼Œå¤šçº¿ç¨‹è®¿é—®çš„é¡ºåºå’Œå€¼éƒ½æœ‰é—®é¢˜</div><div class="line">            </div><div class="line">            // è§£é”(+1)ï¼Œæ¢å¤èµ„æº</div><div class="line">            dispatch_semaphore_signal(_ticketSemaphore);</div><div class="line">        &#125; else &#123;</div><div class="line">            NSLog(@&quot;ç¥¨å·²å–å®Œï¼Œå‰©ä½™ç¥¨æ•°ï¼š%d&quot;, _surplusTicketsCount);</div><div class="line">            </div><div class="line">            // è§£é”(+1)ï¼Œæ¢å¤èµ„æº</div><div class="line">            dispatch_semaphore_signal(_ticketSemaphore);</div><div class="line">            break;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">@end</div></pre></td></tr></table></figure></p>
<p>æ‰§è¡Œç»“æœï¼šä¸¤ä¸ªé˜Ÿåˆ—ä»»åŠ¡ä¾æ¬¡æ‰§è¡Œï¼Œä¸”æ‰§è¡Œæ—¶ï¼Œä½™ç¥¨ä¿¡æ¯æ­£å¸¸è¾“å‡ºã€‚</p>
<h3 id="å‚è€ƒèµ„æ–™ï¼š"><a href="#å‚è€ƒèµ„æ–™ï¼š" class="headerlink" title="å‚è€ƒèµ„æ–™ï¼š"></a>å‚è€ƒèµ„æ–™ï¼š</h3><ul>
<li><a href="https://www.jianshu.com/p/2d57c72016c6" target="_blank" rel="external">iOSå¤šçº¿ç¨‹ï¼šã€GCDã€è¯¦å°½æ€»ç»“</a></li>
<li><a href="http://blog.csdn.net/liuyang11908/article/details/70757534" target="_blank" rel="external"> iOS GCDä¹‹dispatch_semaphoreï¼ˆä¿¡å·é‡ï¼‰</a></li>
<li><a href="http://blog.csdn.net/u013046795/article/details/47057585" target="_blank" rel="external">é€šè¿‡GCDä¸­çš„dispatch<em>barrier</em>(a)syncåŠ å¼ºå¯¹syncä¸­æ‰€è°“ç­‰å¾…çš„ç†è§£</a></li>
<li><a href="http://www.cocoachina.com/bbs/read.php?tid=1482884" target="_blank" rel="external">GCDä¸­åœ¨ä¸»çº¿ç¨‹ä¸­ç”¨åŒæ­¥å‡½æ•°åˆ†æ´¾ä»»åŠ¡åˆ°ä¸²è¡Œé˜Ÿåˆ—ä¸­ä¼šäº§ç”Ÿæ­»é”æ˜¯ä»€ä¹ˆåŸå› ï¼Ÿ</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;GCDæ˜¯è‹¹æœä»¥Cè¯­è¨€ç¼–å†™ã€ä»é˜Ÿåˆ—å’Œä»»åŠ¡çš„è§’åº¦è®¾è®¡çš„å¤šçº¿ç¨‹ç¼–ç¨‹æ¡†æ¶ã€‚é¿å…äº†å¼€å‘è€…ç›´æ¥æ“ä½œçº¿ç¨‹ï¼Œé™ä½äº†å› æ“ä½œä¸å½“å¯¼è‡´çš„å¤šçº¿ç¨‹æ€§èƒ½ä¸‹é™ã€æ­»é”ç­‰æƒ…å†µçš„å¯èƒ½æ€§ã€‚ä½¿ç”¨GCDï¼Œå¯ä»¥é™ä½å¤šçº¿ç¨‹å¼€å‘çš„é—¨æ§›ï¼Œæœ€å¤§é™åº¦åœ°æå‡APPæ€§èƒ½ï¼Œå¼€å‘äººå‘˜å¯ä»¥ä¸“æ³¨äºä¸šåŠ¡çš„å¼€å‘ã€‚ï¼ˆæ³¨ï¼šåœ¨swiftä¸­
    
    </summary>
    
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>Swift 3.0è¯­æ³•å­¦ä¹ è®°å½•</title>
    <link href="http://yoursite.com/2017/08/15/Swift%203.0%E8%AF%AD%E6%B3%95%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"/>
    <id>http://yoursite.com/2017/08/15/Swift 3.0è¯­æ³•å­¦ä¹ è®°å½•/</id>
    <published>2017-08-15T15:51:51.000Z</published>
    <updated>2017-08-16T05:44:56.000Z</updated>
    
    <content type="html"><![CDATA[<ul>
<li><p>é‡è½½è¿ç®—ç¬¦æ—¶ï¼Œå‰ç½®è¿ç®—ç¬¦éœ€è¦åœ¨â€œfuncâ€å…³é”®å­—å‰æ·»åŠ <strong>â€œ<em>prefix</em>â€</strong>å…³é”®å­—ï¼š</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Vector2D</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> x = <span class="number">0.0</span></div><div class="line">    <span class="keyword">var</span> y = <span class="number">0.0</span></div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">func</span> +<span class="params">(<span class="keyword">left</span>: Vector2D, <span class="keyword">right</span>: Vector2D)</span></span> -&gt; <span class="type">Vector2D</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="type">Vector2D</span>(x: <span class="keyword">left</span>.x + <span class="keyword">right</span>.x, y: <span class="keyword">left</span>.y + <span class="keyword">right</span>.y)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// è¿™é‡Œæ˜¯å‰ç½®è¿ç®—ç¬¦é‡è½½ï¼Œéœ€è¦æ·»åŠ â€œprefixâ€æ ‡è¯†</span></div><div class="line"><span class="keyword">prefix</span> <span class="function"><span class="keyword">func</span> -<span class="params">(origin: Vector2D)</span></span> -&gt; <span class="type">Vector2D</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="type">Vector2D</span>(x: -origin.x, y: -origin.y)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> vec1 = <span class="type">Vector2D</span>(x: <span class="number">2</span>, y: <span class="number">3</span>)</div><div class="line"><span class="keyword">let</span> vec2 = <span class="type">Vector2D</span>(x: <span class="number">1</span>, y: <span class="number">4</span>)</div><div class="line"><span class="keyword">let</span> vec3 = vec1 + vec2</div><div class="line"><span class="keyword">let</span> vec4 = -vec1</div></pre></td></tr></table></figure>
</li>
</ul>
<pre><code>&gt; æ­¤å¤–ï¼Œâ€œinfixâ€ä¸ºä¸­ç½®æ“ä½œç¬¦ï¼ˆå¦‚+ã€-ã€*ã€/ç­‰ä¸¤è¾¹éƒ½éœ€è¦æ“ä½œæ•°çš„ï¼‰ï¼›â€œpostfixâ€ä¸ºåç½®æ“ä½œç¬¦ï¼›å½“ç„¶ï¼Œâ€œprefixâ€ä¸ºå‰ç½®æ“ä½œç¬¦ã€‚
</code></pre>]]></content>
    
    <summary type="html">
    
      &lt;ul&gt;
&lt;li&gt;&lt;p&gt;é‡è½½è¿ç®—ç¬¦æ—¶ï¼Œå‰ç½®è¿ç®—ç¬¦éœ€è¦åœ¨â€œfuncâ€å…³é”®å­—å‰æ·»åŠ &lt;strong&gt;â€œ&lt;em&gt;prefix&lt;/em&gt;â€&lt;/strong&gt;å…³é”®å­—ï¼š&lt;/p&gt;
  &lt;figure class=&quot;highlight swift&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gu
    
    </summary>
    
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>å››ç»´çŸ©é˜µï¼Ÿï¼Ÿï¼Ÿ</title>
    <link href="http://yoursite.com/2017/08/07/%E5%9B%9B%E7%BB%B4%E7%9F%A9%E9%98%B5%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"/>
    <id>http://yoursite.com/2017/08/07/å››ç»´çŸ©é˜µå­¦ä¹ è®°å½•/</id>
    <published>2017-08-07T08:29:38.000Z</published>
    <updated>2017-08-07T08:57:35.000Z</updated>
    
    <content type="html"><![CDATA[<p>çœ‹äº†ä¸ªå¥½ä¸œè¥¿ï¼Œ<a href="http://www.cnblogs.com/graphics/archive/2012/08/02/2616017.html" target="_blank" rel="external">çŸ©é˜µ-DirectXä¸OpenGLçš„ä¸åŒ</a>ï¼ŒåŸå¸–è®²çš„å¾ˆæ¸…æ¥š</p>
<blockquote>
<p>ä¸€ç›´ä¸æ˜ç™½iOSä¸ºå•¥ç”¨å››ç»´çŸ©é˜µæ¥è¡¨ç¤ºä¸‰ç»´çš„ä¸œè¥¿ï¼ˆå…¶ä»–å¹³å°å¯èƒ½ä¹Ÿå¦‚æ­¤å§~ï¼‰</p>
<p>iOSå¹³å°ä¸Šï¼Œä½¿ç”¨OpenGLçš„å››ç»´çŸ©é˜µè¡¨ç¤ºç©ºé—´</p>
</blockquote>
<p><img src="http://pic002.cnblogs.com/images/2012/64257/2012073120462521.gif" alt=""></p>
<p>ä¸Šé¢è¿™ä¸ªæ˜¯æ ‡å‡†çš„å››ç»´çŸ©é˜µï¼ˆè¿™ä¸ªæ˜¯DirectXçš„ï¼Œä¸OpenGLçš„äº’ä¸ºè½¬ç½®çŸ©é˜µï¼Œå³iosçš„ä¸ºç«–ç€çš„â€œm11, m12, m13, m14â€ï¼‰</p>
<p><img src="http://pic002.cnblogs.com/images/2012/64257/2012073121020368.gif" alt=""></p>
<p>å…¶ä¸­ï¼Œ(Txï¼ŒTyï¼ŒTz)ä¸ºå¹³ç§»åˆ†é‡ï¼ˆå¯¹åº”iOSçš„â€œm41, m42, m43â€ï¼‰</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;çœ‹äº†ä¸ªå¥½ä¸œè¥¿ï¼Œ&lt;a href=&quot;http://www.cnblogs.com/graphics/archive/2012/08/02/2616017.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;çŸ©é˜µ-DirectXä¸OpenGLçš„ä¸åŒ&lt;/a&gt;ï¼Œ
    
    </summary>
    
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>SceneKitå­¦ä¹ è®°å½•1_ç‰©ç†èº«ä½“</title>
    <link href="http://yoursite.com/2017/07/18/SceneKit%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%951/"/>
    <id>http://yoursite.com/2017/07/18/SceneKitå­¦ä¹ è®°å½•1/</id>
    <published>2017-07-18T05:34:31.000Z</published>
    <updated>2017-07-18T05:58:55.000Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://developer.apple.com/documentation/scenekit/scnphysicsbody?language=objc" target="_blank" rel="external">åŸæ–‡æ¡£</a></p>
<h1 id="ç‰©ç†èº«ä½“ç±»å‹ï¼ˆSCNPhysicsBodyTypeï¼‰"><a href="#ç‰©ç†èº«ä½“ç±»å‹ï¼ˆSCNPhysicsBodyTypeï¼‰" class="headerlink" title="ç‰©ç†èº«ä½“ç±»å‹ï¼ˆSCNPhysicsBodyTypeï¼‰"></a>ç‰©ç†èº«ä½“ç±»å‹ï¼ˆSCNPhysicsBodyTypeï¼‰</h1><blockquote>
<p>åˆ†ä¸ºä¸‰ç±»ï¼š</p>
<ul>
<li>é™æ€èº«ä½“ï¼šSCNPhysicsBodyTypeStatic</li>
<li>åŠ¨æ€èº«ä½“ï¼šSCNPhysicsBodyTypeDynamic</li>
<li>è¿åŠ¨èº«ä½“ï¼šSCNPhysicsBodyTypeKinematic</li>
</ul>
</blockquote>
<p><strong>ä½œç”¨</strong>ï¼š</p>
<ul>
<li>é™æ€èº«ä½“ï¼šä¸ä¼šè¢«åŠ›æˆ–ç¢°æ’å½±å“ï¼Œä¸èƒ½ç§»åŠ¨</li>
<li>åŠ¨æ€èº«ä½“ï¼šå¯ä»¥è¢«å…¶ä»–ç±»å‹çš„èº«ä½“ç¢°æ’æˆ–æ–½åŠ åŠ›</li>
<li>è¿åŠ¨èº«ä½“ï¼šä¸ä¼šè¢«åŠ›æˆ–ç¢°æ’å½±å“ï¼Œä½†æ˜¯å¯ä»¥ç›´æ¥ç§»åŠ¨ä»–ä»¬å»ç¢°æ’åŠ¨æ€èº«ä½“</li>
</ul>
<h4 id="Staticï¼ˆé™æ€èº«ä½“ï¼‰"><a href="#Staticï¼ˆé™æ€èº«ä½“ï¼‰" class="headerlink" title="Staticï¼ˆé™æ€èº«ä½“ï¼‰"></a>Staticï¼ˆé™æ€èº«ä½“ï¼‰</h4><table>
<thead>
<tr>
<th style="text-align:center">ç±»å‹</th>
<th style="text-align:center">å½±å“</th>
<th style="text-align:center">è¢«å½±å“</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Static</td>
<td style="text-align:center">Ã—</td>
<td style="text-align:center">Ã—</td>
</tr>
<tr>
<td style="text-align:center">Dynamic</td>
<td style="text-align:center">Ã—</td>
<td style="text-align:center">Ã—</td>
</tr>
<tr>
<td style="text-align:center">Kinematic</td>
<td style="text-align:center">Ã—</td>
<td style="text-align:center">Ã—</td>
</tr>
</tbody>
</table>
<h4 id="Dynamicï¼ˆåŠ¨æ€èº«ä½“ï¼‰"><a href="#Dynamicï¼ˆåŠ¨æ€èº«ä½“ï¼‰" class="headerlink" title="Dynamicï¼ˆåŠ¨æ€èº«ä½“ï¼‰"></a>Dynamicï¼ˆåŠ¨æ€èº«ä½“ï¼‰</h4><table>
<thead>
<tr>
<th style="text-align:center">ç±»å‹</th>
<th style="text-align:center">å½±å“</th>
<th style="text-align:center">è¢«å½±å“</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Static</td>
<td style="text-align:center">Ã—</td>
<td style="text-align:center">Ã—</td>
</tr>
<tr>
<td style="text-align:center">Dynamic</td>
<td style="text-align:center">âˆš</td>
<td style="text-align:center">âˆš</td>
</tr>
<tr>
<td style="text-align:center">Kinematic</td>
<td style="text-align:center">Ã—</td>
<td style="text-align:center">âˆš</td>
</tr>
</tbody>
</table>
<h4 id="KineMaticï¼ˆè¿åŠ¨èº«ä½“ï¼‰"><a href="#KineMaticï¼ˆè¿åŠ¨èº«ä½“ï¼‰" class="headerlink" title="KineMaticï¼ˆè¿åŠ¨èº«ä½“ï¼‰"></a>KineMaticï¼ˆè¿åŠ¨èº«ä½“ï¼‰</h4><table>
<thead>
<tr>
<th style="text-align:center">ç±»å‹</th>
<th style="text-align:center">å½±å“</th>
<th style="text-align:center">è¢«å½±å“</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Static</td>
<td style="text-align:center">Ã—</td>
<td style="text-align:center">Ã—</td>
</tr>
<tr>
<td style="text-align:center">Dynamic</td>
<td style="text-align:center">âˆš</td>
<td style="text-align:center">Ã—</td>
</tr>
<tr>
<td style="text-align:center">Kinematic</td>
<td style="text-align:center">Ã—</td>
<td style="text-align:center">Ã—</td>
</tr>
</tbody>
</table>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://developer.apple.com/documentation/scenekit/scnphysicsbody?language=objc&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;åŸæ–‡æ¡£&lt;/a&gt;&lt;/p&gt;
&lt;h1 
    
    </summary>
    
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>ARKitæ–‡æ¡£çç¿»è¯‘ï¼ˆ9ï¼‰</title>
    <link href="http://yoursite.com/2017/07/04/ARKit_doc_9/"/>
    <id>http://yoursite.com/2017/07/04/ARKit_doc_9/</id>
    <published>2017-07-04T07:19:48.000Z</published>
    <updated>2017-07-04T08:23:34.000Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://developer.apple.com/documentation/arkit/arscnview/providing_3d_virtual_content_with_scenekit" target="_blank" rel="external">åŸæ–‡è¯·æˆ³</a></p>
<h1 id="ä½¿ç”¨SceneKitæä¾›3Då†…å®¹"><a href="#ä½¿ç”¨SceneKitæä¾›3Då†…å®¹" class="headerlink" title="ä½¿ç”¨SceneKitæä¾›3Då†…å®¹"></a>ä½¿ç”¨SceneKitæä¾›3Då†…å®¹</h1><p>ä½¿ç”¨SceneKitæ¥æ·»åŠ é€¼çœŸçš„3Då¯¹è±¡åˆ°ä½ çš„ARä½“éªŒä¸­</p>
<hr>
<h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>åœ¨ARä¸­æ”¾ç½®SpriteKitå†…å®¹ï¼Œä½ é¦–å…ˆéœ€è¦ä¸€ä¸ªè¿è¡Œä¸­çš„ARä¼šè¯å¯¹è±¡ï¼ˆå‚è€ƒ<a href="https://developer.apple.com/documentation/arkit/building_a_basic_ar_experience?language=objc" target="_blank" rel="external">åˆ›å»ºä¸€ä¸ªåŸºæœ¬çš„ARä½“éªŒ</a>ï¼‰ã€‚</p>
<p>å› ä¸ºARKitå¯ä»¥è‡ªåŠ¨åŒ¹é…SceneKitç©ºé—´åˆ°ç°å®ç©ºé—´ä¸­ï¼Œæ‰€ä»¥æ”¾ç½®ä¸€ä¸ªè™šæ‹Ÿå¯¹è±¡ä»¥ä¾¿å¯ä»¥ç»´æŒçœŸå®ä¸–ç•Œä¸­çš„ä½ç½®ï¼Œåªéœ€è¦é€‚å½“åœ°è®¾ç½®è¿™ä¸ªå¯¹è±¡çš„SceneKitä½ç½®å°±å¯ä»¥ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œåœ¨ä¸€ä¸ªé»˜è®¤é…ç½®ä¸­ï¼Œä¸‹é¢çš„ä»£ç æ”¾ç½®ä¸€ä¸ª10cmçš„ç«‹æ–¹ä½“ï¼Œåˆå§‹ä½ç½®åœ¨ç›¸æœºå‰æ–¹20å˜ç±³å¤„ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> cubeNode = <span class="type">SCNNode</span>(geometry: <span class="type">SCNBox</span>(width: <span class="number">0.1</span>, height: <span class="number">0.1</span>, length: <span class="number">0.1</span>, chamferRadius: <span class="number">0</span>))</div><div class="line">cubeNode.posotion = <span class="type">SCNVector3</span>(<span class="number">0</span>, <span class="number">0</span>, -<span class="number">0.2</span>)<span class="comment">// SceneKit/ARåæ ‡ç³»ä»¥â€œç±³â€ä¸ºå•ä½</span></div><div class="line">sceneView.scene.rootNode.addChildNode(cubeNode)</div></pre></td></tr></table></figure>
<p>ä»¥ä¸Šä»£ç ç›´æ¥åœ¨è§†å›¾çš„SceneKitåœºæ™¯ä¸­æ”¾ç½®äº†ä¸€ä¸ªç‰©ä½“ï¼Œç”±äºARKitåŒ¹é…äº†SceneKitç©ºé—´åˆ°ç°å®ç©ºé—´ä¸­ï¼Œè¯¥ç‰©ä½“ä¼šè‡ªåŠ¨è¿½è¸ªå…¶åœ¨ç°å®ä¸–ç•Œçš„ä½ç½®ã€‚</p>
<p>è¿½è¸ªç°å®ä½ç½®ï¼Œä½ ä¸ä»…å¯ä»¥ä½¿ç”¨<a href="https://developer.apple.com/documentation/arkit/aranchor" target="_blank" rel="external">ARAnchor</a>ç±»ï¼Œæˆ–é€šè¿‡åˆ›å»ºä½ è‡ªå·±çš„é”šç‚¹å¹¶æŠŠä»–ä»¬æ·»åŠ åˆ°ä¼šè¯å¯¹è±¡ä¸­ï¼Œè¿˜å¯ä»¥ç›‘å¬ARKitè‡ªåŠ¨åˆ›å»ºçš„é”šç‚¹ã€‚æ¯”å¦‚ï¼Œå½“ç‰©ä½“æ£€æµ‹åŠŸèƒ½å·²æ‰“å¼€ï¼ŒARKitä¼šä¸º<br>æ¯ä¸€ä¸ªæ£€æµ‹åˆ°çš„ç‰©ä½“æ·»åŠ å¹¶æ›´æ–°é”šç‚¹ã€‚è¦ä¸ºè¿™äº›é”šç‚¹æ·»åŠ å¯è§å†…å®¹ï¼Œå¯ä»¥å‘ä¸‹é¢è¿™æ ·å®ç°<a href="https://developer.apple.com/documentation/arkit/arscnviewdelegate" target="_blank" rel="external">ARSCNViewDelegate</a>çš„æ–¹æ³•ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">renderer</span><span class="params">(<span class="number">_</span> renderer: SCNSceneRenderer, didAdd node: SCNNode, <span class="keyword">for</span> anchor: ARAnchor)</span></span> &#123;</div><div class="line">	<span class="comment">// è¿™ä¸ªå¯è§†ç‰©ä½“åªå…è®¸å·²æ£€æµ‹åˆ°çš„ç‰©ä½“</span></div><div class="line">	<span class="keyword">guard</span> <span class="keyword">let</span> planeAnchor = anchor <span class="keyword">as</span>? <span class="type">ARPlaneAnchor</span> <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</div><div class="line">	</div><div class="line">	<span class="comment">// ä½¿ç”¨å®ƒçš„ä½ç½®å’Œå¤§å°åˆ›å»ºä¸€ä¸ªSceneKitç‰©ä½“æ¥ä½¿èŠ‚ç‚¹å¯è§</span></div><div class="line">	<span class="keyword">let</span> plane = <span class="type">SCNPlane</span>(width: <span class="type">SCFloat</span>(planeAnchor.extent.x), height: <span class="type">CGFloat</span>(planeAnchor.extent.z))</div><div class="line">	<span class="keyword">let</span> planeNode = <span class="type">SCNNode</span>(geometry: plane)</div><div class="line">	planeNode.position = <span class="type">SCNVector3Make</span>(planeAnchor.center.x, <span class="number">0</span>, planeAnchor.center.z)</div><div class="line">	</div><div class="line">	<span class="comment">// SCNPlanesåœ¨ä»–ä»¬è‡ªå·±çš„åæ ‡ç©ºé—´ä¸­å¼å‚ç›´æœå‘çš„</span></div><div class="line">	<span class="comment">// æ—‹è½¬å®ƒæ¥åŒ¹é…æ°´å¹³æœå‘çš„ARPlaneAnchor</span></div><div class="line">	planeNode.transform = <span class="type">SCNMatrix4MakeRotation</span>(-<span class="type">Float</span>.pi / <span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>)</div><div class="line">	</div><div class="line">	<span class="comment">// åƒé”šç‚¹ä¸€æ ·ï¼ŒARKitæ‹¥æœ‰è¿™ä¸ªèŠ‚ç‚¹ï¼Œæ‰€ä»¥æŠŠè¿™ä¸ªç‰©ä½“æ·»åŠ ä¸ºä¸€ä¸ªå­èŠ‚ç‚¹ã€‚</span></div><div class="line">	node.addChildNode(planeNode)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="è®¾è®¡3Dèµ„æºéµå¾ªçš„æœ€å¥½å®è·µ"><a href="#è®¾è®¡3Dèµ„æºéµå¾ªçš„æœ€å¥½å®è·µ" class="headerlink" title="è®¾è®¡3Dèµ„æºéµå¾ªçš„æœ€å¥½å®è·µ"></a>è®¾è®¡3Dèµ„æºéµå¾ªçš„æœ€å¥½å®è·µ</h2><ul>
<li>ä½¿ç”¨SceneKitè‡ªèº«çš„å…‰ç…§æ¨¡å‹åˆ›å»ºèµ„æºä»¥ä¾¿å¯ä»¥æœ‰æ›´é€¼çœŸçš„å¤–è§‚ã€‚ï¼ˆæŸ¥çœ‹<a href="https://developer.apple.com/documentation/scenekit/scnmaterial" target="_blank" rel="external">SCNMaterial</a>ç±»å’Œ<a href="https://developer.apple.com/library/content/samplecode/Badger/Introduction/Intro.html#//apple_ref/doc/uid/TP40017309" target="_blank" rel="external">ç¾ï¼šSceneKité«˜çº§æ¸²æŸ“</a>ç¤ºä¾‹ä»£ç å·¥ç¨‹ï¼‰</li>
<li>çƒ¤å‘¨å›´çš„é®ç½©é˜´å½±ä»¥ä¾¿æ‰€æœ‰ç‰©ä½“éƒ½å¯ä»¥åœ¨å¤§åœºæ™¯çš„å…‰ç…§æ¡ä»¶ä¸‹éƒ½æœ‰åˆé€‚çš„å…‰ç…§ã€‚</li>
<li>åœ¨ARä¸­å¦‚æœä½ æƒ³è¦åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿç‰©ä½“å¹¶æŠŠå®ƒæ”¾ç½®åˆ°å¤–ç•Œçš„æ°´å¹³é¢ä¸Šï¼Œä½ éœ€è¦åœ¨3Dèµ„æºä¸­åŒ…å«ä¸€ä¸ªå¸¦æœ‰æ¸©å’Œçš„é˜´å½±çº¹ç†çš„é€æ˜ç‰©ä½“ï¼Œå¹¶æŠŠå®ƒæ”¾åˆ°è™šæ‹Ÿç‰©ä½“ä¸‹é¢ã€‚</li>
</ul>
<h2 id="å¦è¯·å‚é˜…"><a href="#å¦è¯·å‚é˜…" class="headerlink" title="å¦è¯·å‚é˜…"></a>å¦è¯·å‚é˜…</h2><h6 id="session"><a href="#session" class="headerlink" title="session"></a><a href="https://developer.apple.com/documentation/arkit/arskview/2865589-session?language=objc" target="_blank" rel="external">session</a></h6><pre><code>åœ¨è§†å›¾å†…å®¹ä¸­ç®¡ç†ç€è¿åŠ¨è¿½è¸ªå’Œç›¸æœºå›¾åƒå¤„ç†çš„ARä¼šè¯å¯¹è±¡
</code></pre><h6 id="scene"><a href="#scene" class="headerlink" title="scene"></a><a href="https://developer.apple.com/documentation/arkit/arscnview/2875547-scene?language=objc" target="_blank" rel="external">scene</a></h6><pre><code>è§†å›¾ä¸­æ˜¾ç¤ºçš„SceneKitåœºæ™¯
</code></pre>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://developer.apple.com/documentation/arkit/arscnview/providing_3d_virtual_content_with_scenekit&quot; target=&quot;_blank&quot; rel=&quot;exter
    
    </summary>
    
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>ARKitæ–‡æ¡£çç¿»è¯‘ï¼ˆ8ï¼‰</title>
    <link href="http://yoursite.com/2017/07/04/ARKit_doc_8/"/>
    <id>http://yoursite.com/2017/07/04/ARKit_doc_8/</id>
    <published>2017-07-04T06:05:03.000Z</published>
    <updated>2017-07-04T07:37:34.000Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://developer.apple.com/documentation/arkit/arscnview?language=objc" target="_blank" rel="external">åŸæ–‡è¯·æˆ³</a></p>
<h1 id="ARSCNView"><a href="#ARSCNView" class="headerlink" title="ARSCNView"></a>ARSCNView</h1><p>ä½¿ç”¨3Dçš„SceneKitå†…å®¹è¿›è€Œå¢å¼ºç›¸æœºæ¥æ˜¾ç¤ºARä½“éªŒçš„ä¸€ç§è§†å›¾ã€‚</p>
<hr>
<h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>ARSCNViewæä¾›äº†ä¸€ç§æœ€ç®€å•çš„æ–¹å¼æ¥åˆ›å»ºARä½“éªŒï¼Œå³æ··åˆäº†è™šæ‹Ÿçš„3Då†…å®¹åˆ°ç›¸æœºæ•æ‰çš„çœŸå®ä¸–ç•Œçš„è§†å›¾ä¸­ã€‚å½“ä½ è¿è¡Œè§†å›¾æä¾›çš„<a href="https://developer.apple.com/documentation/arkit/arsession?language=objc" target="_blank" rel="external">ARSession</a>å¯¹è±¡æ—¶ï¼š</p>
<ul>
<li>è¯¥è§†å›¾ä¼šè‡ªåŠ¨æ¸²æŸ“ä»ç›¸æœºæ‹æ‘„åˆ°çš„å®æ—¶è§†é¢‘å¹¶å°†å…¶ä½œä¸ºèƒŒæ™¯ã€‚</li>
<li>è¯¥è§†å›¾çš„SceneKitåœºæ™¯åæ ‡ç³»å¯ä»¥ç›´æ¥å“åº”é€šè¿‡ä¼šè¯é…ç½®çš„ARåæ ‡ç³»ã€‚</li>
<li>è¯¥è§†å›¾ä¼šè‡ªåŠ¨ç§»åŠ¨å®ƒçš„SceneKitç›¸æœºæ¥åŒ¹é…è®¾å¤‡åœ¨ç°å®ä¸–ç•Œä¸­çš„ç§»åŠ¨ã€‚</li>
</ul>
<p>å› ä¸ºARKitå¯ä»¥è‡ªåŠ¨åŒ¹é…SceneKitç©ºé—´åˆ°çœŸå®ä¸–ç•Œä¸­ï¼Œæ‰€ä»¥æ”¾ç½®ä¸€ä¸ªè™šæ‹Ÿç‰©ä½“ä»¥ä¾¿å¯ä»¥ç»´æŒåœ¨ç°å®ä¸­çš„ä½ç½®ï¼Œåªéœ€è¦é€‚å½“åœ°è®¾ç½®è¿™ä¸ªå¯¹è±¡çš„SceneKitä½ç½®å°±å¯ä»¥ã€‚</p>
<p>ä½ æ— éœ€å¿…é¡»ä½¿ç”¨<a href="https://developer.apple.com/documentation/arkit/aranchor?language=objc" target="_blank" rel="external">ARAnchor</a>ç±»æ¥è¿½è¸ªæ·»åŠ åˆ°åœºæ™¯ä¸­çš„ç‰©ä½“ä½ç½®ï¼Œä½†æ˜¯é€šè¿‡å®ç°<a href="https://developer.apple.com/documentation/arkit/arscnviewdelegate?language=objc" target="_blank" rel="external">ARSCNViewDelegate</a>ä¸­çš„æ–¹æ³•ï¼Œä½ å¯ä»¥æ·»åŠ SceneKitå†…å®¹åˆ°ä»»ä½•è¢«ARKitè‡ªåŠ¨è¯†åˆ«å‡ºçš„é”šç‚¹ä¸Šã€‚</p>
<h2 id="è¯é¢˜"><a href="#è¯é¢˜" class="headerlink" title="è¯é¢˜"></a>è¯é¢˜</h2><h3 id="ç¬¬ä¸€æ­¥"><a href="#ç¬¬ä¸€æ­¥" class="headerlink" title="ç¬¬ä¸€æ­¥"></a>ç¬¬ä¸€æ­¥</h3><h6 id="ä½¿ç”¨SceneKitæä¾›3Dçš„è™šæ‹Ÿå†…å®¹"><a href="#ä½¿ç”¨SceneKitæä¾›3Dçš„è™šæ‹Ÿå†…å®¹" class="headerlink" title="ä½¿ç”¨SceneKitæä¾›3Dçš„è™šæ‹Ÿå†…å®¹"></a><a href="https://developer.apple.com/documentation/arkit/arscnview/providing_3d_virtual_content_with_scenekit?language=objc" target="_blank" rel="external">ä½¿ç”¨SceneKitæä¾›3Dçš„è™šæ‹Ÿå†…å®¹</a></h6><pre><code>ä½¿ç”¨SceneKitæ¥æ·»åŠ é€¼çœŸçš„3Då¯¹è±¡åˆ°ä½ çš„ARä½“éªŒä¸­
</code></pre><h6 id="session"><a href="#session" class="headerlink" title="session"></a><a href="https://developer.apple.com/documentation/arkit/arscnview/2865796-session?language=objc" target="_blank" rel="external">session</a></h6><pre><code>ç®¡ç†ç€è§†å›¾å†…å®¹ä¸­çš„è¿åŠ¨è¿½è¸ªå’Œç›¸æœºè§†å›¾å¤„ç†çš„ARä¼šè¯å¯¹è±¡
</code></pre><h6 id="scene"><a href="#scene" class="headerlink" title="scene"></a><a href="https://developer.apple.com/documentation/arkit/arscnview/2875547-scene?language=objc" target="_blank" rel="external">scene</a></h6><pre><code>æ˜¾ç¤ºåœ¨è§†å›¾ä¸­çš„SceneKitåœºæ™¯
</code></pre><h3 id="è´Ÿè´£ARæ›´æ–°"><a href="#è´Ÿè´£ARæ›´æ–°" class="headerlink" title="è´Ÿè´£ARæ›´æ–°"></a>è´Ÿè´£ARæ›´æ–°</h3><h6 id="delegate"><a href="#delegate" class="headerlink" title="delegate"></a><a href="https://developer.apple.com/documentation/arkit/arscnview/2865797-delegate?language=objc" target="_blank" rel="external">delegate</a></h6><pre><code>ä½ æä¾›çš„ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨äºä½¿ç”¨SceneKitå†…å®¹æ¥åŒæ­¥å¤„ç†è§†å›¾çš„ARåœºæ™¯ä¿¡æ¯ã€‚
</code></pre><h6 id="ARSCNViewDelegate"><a href="#ARSCNViewDelegate" class="headerlink" title="ARSCNViewDelegate"></a><a href="https://developer.apple.com/documentation/arkit/arscnviewdelegate?language=objc" target="_blank" rel="external">ARSCNViewDelegate</a></h6><pre><code>å¯ä»¥å®ç°çš„ä¸€ç³»åˆ—æ–¹æ³•ï¼Œä½ å¯ä»¥ç”¨ä»–ä»¬ä½¿ç”¨ARä¼šè¯å¯¹è±¡æ¥åŒæ­¥å¤„ç†SceneKitå†…å®¹ã€‚
</code></pre><h3 id="çœŸå®ä¸–ç•Œè¡¨é¢çš„ç¢°æ’æ£€æµ‹"><a href="#çœŸå®ä¸–ç•Œè¡¨é¢çš„ç¢°æ’æ£€æµ‹" class="headerlink" title="çœŸå®ä¸–ç•Œè¡¨é¢çš„ç¢°æ’æ£€æµ‹"></a>çœŸå®ä¸–ç•Œè¡¨é¢çš„ç¢°æ’æ£€æµ‹</h3><h6 id="hitTest-types"><a href="#hitTest-types" class="headerlink" title="- hitTest:types:"></a><a href="https://developer.apple.com/documentation/arkit/arscnview/2875544-hittest?language=objc" target="_blank" rel="external">- hitTest:types:</a></h6><pre><code>åœ¨æˆªå–çš„ç›¸æœºå›¾åƒä¸­æœç´¢çœŸå®ä¸–ç•Œçš„ç‰©ä½“æˆ–ARé”šç‚¹ï¼Œä¸SceneKitè§†å›¾ä¸­çš„ä¸€ä¸ªç‚¹ç›¸å¯¹åº”ã€‚
</code></pre><h3 id="æ˜ å°„å†…å®¹åˆ°ç°å®ä¸–ç•Œçš„ä½ç½®ä¸­"><a href="#æ˜ å°„å†…å®¹åˆ°ç°å®ä¸–ç•Œçš„ä½ç½®ä¸­" class="headerlink" title="æ˜ å°„å†…å®¹åˆ°ç°å®ä¸–ç•Œçš„ä½ç½®ä¸­"></a>æ˜ å°„å†…å®¹åˆ°ç°å®ä¸–ç•Œçš„ä½ç½®ä¸­</h3><h6 id="anchorForNode"><a href="#anchorForNode" class="headerlink" title="- anchorForNode:"></a><a href="https://developer.apple.com/documentation/arkit/arscnview/2875546-anchorfornode?language=objc" target="_blank" rel="external">- anchorForNode:</a></h6><pre><code>å¦‚æœå­˜åœ¨ï¼Œè¿”å›ä¸æŒ‡å®šSceneKitèŠ‚ç‚¹ç›¸å…³çš„ARé”šç‚¹
</code></pre><h6 id="nodeForAnchor"><a href="#nodeForAnchor" class="headerlink" title="- nodeForAnchor:"></a><a href="https://developer.apple.com/documentation/arkit/arscnview/2874122-nodeforanchor?language=objc" target="_blank" rel="external">- nodeForAnchor:</a></h6><pre><code>å¦‚æœå­˜åœ¨ï¼Œè¿”å›ä¸æŒ‡å®šARé”šç‚¹ç›¸å…³çš„SceneKitèŠ‚ç‚¹
</code></pre><h3 id="å¤„ç†åœºæ™¯å…‰ç…§"><a href="#å¤„ç†åœºæ™¯å…‰ç…§" class="headerlink" title="å¤„ç†åœºæ™¯å…‰ç…§"></a>å¤„ç†åœºæ™¯å…‰ç…§</h3><h6 id="automaticallyUpdatesLighting"><a href="#automaticallyUpdatesLighting" class="headerlink" title="automaticallyUpdatesLighting"></a><a href="https://developer.apple.com/documentation/arkit/arscnview/2887446-automaticallyupdateslighting?language=objc" target="_blank" rel="external">automaticallyUpdatesLighting</a></h6><pre><code>ä¸€ä¸ªå¸ƒå°”å€¼ï¼ŒæŒ‡å®šäº†åœ¨è§†å›¾çš„åœºæ™¯ä¸­ï¼Œæ˜¯å¦éœ€è¦ARKitåˆ›å»ºå¹¶æ›´æ–°SceneKitå…‰ç…§ã€‚
</code></pre><h3 id="è°ƒè¯•ARæ˜¾ç¤º"><a href="#è°ƒè¯•ARæ˜¾ç¤º" class="headerlink" title="è°ƒè¯•ARæ˜¾ç¤º"></a>è°ƒè¯•ARæ˜¾ç¤º</h3><h6 id="ARSCNDebugOptions"><a href="#ARSCNDebugOptions" class="headerlink" title="ARSCNDebugOptions"></a><a href="https://developer.apple.com/documentation/arkit/arscndebugoptions?language=objc" target="_blank" rel="external">ARSCNDebugOptions</a></h6><pre><code>ç»˜åˆ¶é®ç½©å†…å®¹çš„ä¸€äº›è®¾ç½®é¡¹æ¥å¸®åŠ©è°ƒè¯•åœ¨SceneKitè§†å›¾ä¸­çš„ARè¿½è¸ªåŠŸèƒ½ã€‚
</code></pre><h2 id="å…³ç³»"><a href="#å…³ç³»" class="headerlink" title="å…³ç³»"></a>å…³ç³»</h2><h3 id="ç»§æ‰¿è‡ª"><a href="#ç»§æ‰¿è‡ª" class="headerlink" title="ç»§æ‰¿è‡ª"></a>ç»§æ‰¿è‡ª</h3><p><a href="https://developer.apple.com/documentation/scenekit/scnview?language=objc" target="_blank" rel="external">SCNView</a></p>
<h2 id="å¦è¯·å‚é˜…"><a href="#å¦è¯·å‚é˜…" class="headerlink" title="å¦è¯·å‚é˜…"></a>å¦è¯·å‚é˜…</h2><h3 id="åŸºæœ¬è§†å›¾"><a href="#åŸºæœ¬è§†å›¾" class="headerlink" title="åŸºæœ¬è§†å›¾"></a>åŸºæœ¬è§†å›¾</h3><h6 id="åˆ›å»ºä¸€ä¸ªåŸºæœ¬çš„ARä½“éªŒ"><a href="#åˆ›å»ºä¸€ä¸ªåŸºæœ¬çš„ARä½“éªŒ" class="headerlink" title="åˆ›å»ºä¸€ä¸ªåŸºæœ¬çš„ARä½“éªŒ"></a><a href="https://developer.apple.com/documentation/arkit/building_a_basic_ar_experience?language=objc" target="_blank" rel="external">åˆ›å»ºä¸€ä¸ªåŸºæœ¬çš„ARä½“éªŒ</a></h6><pre><code>é…ç½®ä¸€ä¸ªARä¼šè¯å¯¹è±¡å¹¶ä½¿ç”¨SceneKitæˆ–SpriteKitæ¥æ˜¾ç¤ºARå†…å®¹
</code></pre><h6 id="ARSKView"><a href="#ARSKView" class="headerlink" title="ARSKView"></a><a href="https://developer.apple.com/documentation/arkit/arskview?language=objc" target="_blank" rel="external">ARSKView</a></h6><pre><code>ä½¿ç”¨2Dçš„SpriteKitå†…å®¹è¿›è€Œå¢å¼ºç›¸æœºæ¥æ˜¾ç¤ºARä½“éªŒçš„ä¸€ç§è§†å›¾ã€‚
</code></pre>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://developer.apple.com/documentation/arkit/arscnview?language=objc&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;åŸæ–‡è¯·æˆ³&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;ARS
    
    </summary>
    
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>ARKitæ–‡æ¡£çç¿»è¯‘ï¼ˆ7ï¼‰</title>
    <link href="http://yoursite.com/2017/07/04/ARKit_doc_7/"/>
    <id>http://yoursite.com/2017/07/04/ARKit_doc_7/</id>
    <published>2017-07-04T03:28:14.000Z</published>
    <updated>2017-07-04T06:51:33.000Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://developer.apple.com/documentation/arkit/arskview?language=objc" target="_blank" rel="external">åŸæ–‡è¯·æˆ³</a></p>
<h1 id="ARSKView"><a href="#ARSKView" class="headerlink" title="ARSKView"></a>ARSKView</h1><p>ä½¿ç”¨2Dçš„SpriteKitå†…å®¹è¿›è€Œå¢å¼ºç›¸æœºæ¥æ˜¾ç¤ºARä½“éªŒçš„ä¸€ç§è§†å›¾ã€‚</p>
<hr>
<h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>ä½¿ç”¨ARSKViewç±»ï¼Œå¯ä»¥åœ¨è®¾å¤‡ç›¸æœºæ‹æ‘„çš„çœŸå®ä¸–ç•Œè§†å›¾çš„3Dç©ºé—´ä¸­æ”¾ç½®2Då…ƒç´ æ¥åˆ›å»ºARä½“éªŒã€‚å½“ä½ è¿è¡Œè¿™ä¸ªè§†å›¾æä¾›çš„<a href="https://developer.apple.com/documentation/arkit/arsession?language=objc" target="_blank" rel="external">ARSession</a>å¯¹è±¡æ—¶ï¼š</p>
<ul>
<li>è¯¥è§†å›¾ä¼šè‡ªåŠ¨æ¸²æŸ“ä»ç›¸æœºæ‹æ‘„åˆ°çš„å®æ—¶è§†é¢‘å¹¶å°†å…¶ä½œä¸ºèƒŒæ™¯ã€‚</li>
<li>å½“ä½ å®ç°äº†<a href="https://developer.apple.com/documentation/arkit/arskviewdelegate?language=objc" target="_blank" rel="external">ARSKViewDelegate</a>çš„æ–¹æ³•æŠŠSpriteKitå†…å®¹å’ŒçœŸå®ä¸–ç•Œçš„ä½ç½®è”ç³»åœ¨ä¸€èµ·æ—¶ï¼Œè¯¥è§†å›¾ä¼šè‡ªåŠ¨ç¼©æ”¾å¹¶æ—‹è½¬SpriteKitèŠ‚ç‚¹ï¼Œä»¥ä¾¿ä»–ä»¬åœ¨ç›¸æœºä¸­çœ‹èµ·æ¥å°±åƒå¯ä»¥åœ¨çœŸå®ä¸–ç•Œä¸­è¿½è¸ªåˆ°ä¸€æ ·ã€‚</li>
</ul>
<h2 id="è¯é¢˜"><a href="#è¯é¢˜" class="headerlink" title="è¯é¢˜"></a>è¯é¢˜</h2><h3 id="ç¬¬ä¸€æ­¥"><a href="#ç¬¬ä¸€æ­¥" class="headerlink" title="ç¬¬ä¸€æ­¥"></a>ç¬¬ä¸€æ­¥</h3><h6 id="ä½¿ç”¨SpriteKitæä¾›2Dè™šæ‹Ÿå†…å®¹"><a href="#ä½¿ç”¨SpriteKitæä¾›2Dè™šæ‹Ÿå†…å®¹" class="headerlink" title="ä½¿ç”¨SpriteKitæä¾›2Dè™šæ‹Ÿå†…å®¹"></a><a href="https://developer.apple.com/documentation/arkit/arskview/providing_2d_virtual_content_with_spritekit?language=objc" target="_blank" rel="external">ä½¿ç”¨SpriteKitæä¾›2Dè™šæ‹Ÿå†…å®¹</a></h6><pre><code>åœ¨ARä½“éªŒä¸­ï¼Œä½¿ç”¨SpriteKitåœ¨3Dç©ºé—´ä¸­æ”¾ç½®2Då›¾ç‰‡
</code></pre><h6 id="session"><a href="#session" class="headerlink" title="session"></a><a href="https://developer.apple.com/documentation/arkit/arskview/2865589-session?language=objc" target="_blank" rel="external">session</a></h6><pre><code>ç®¡ç†ç€è§†å›¾å†…å®¹ä¸­çš„è¿åŠ¨è¿½è¸ªå’Œç›¸æœºè§†å›¾å¤„ç†çš„ARä¼šè¯å¯¹è±¡
</code></pre><h3 id="è´Ÿè´£ARæ›´æ–°"><a href="#è´Ÿè´£ARæ›´æ–°" class="headerlink" title="è´Ÿè´£ARæ›´æ–°"></a>è´Ÿè´£ARæ›´æ–°</h3><h6 id="delegate"><a href="#delegate" class="headerlink" title="delegate"></a><a href="https://developer.apple.com/documentation/arkit/arskview/2865597-delegate?language=objc" target="_blank" rel="external">delegate</a></h6><pre><code>ä½ æä¾›çš„ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨äºä½¿ç”¨SpriteKitå†…å®¹æ¥åŒæ­¥å¤„ç†è§†å›¾ä¸­çš„ARåœºæ™¯ä¿¡æ¯ã€‚
</code></pre><h6 id="ARSKViewDelegate"><a href="#ARSKViewDelegate" class="headerlink" title="ARSKViewDelegate"></a><a href="https://developer.apple.com/documentation/arkit/arskviewdelegate?language=objc" target="_blank" rel="external">ARSKViewDelegate</a></h6><pre><code>å¯ä»¥å®ç°çš„ä¸€ç³»åˆ—æ–¹æ³•ï¼Œä½ å¯ä»¥ç”¨ä»–ä»¬ä½¿ç”¨ARä¼šè¯å¯¹è±¡æ¥åŒæ­¥å¤„ç†SpriteKitå†…å®¹ã€‚
</code></pre><h3 id="çœŸå®ä¸–ç•Œè¡¨é¢çš„ç¢°æ’æ£€æµ‹"><a href="#çœŸå®ä¸–ç•Œè¡¨é¢çš„ç¢°æ’æ£€æµ‹" class="headerlink" title="çœŸå®ä¸–ç•Œè¡¨é¢çš„ç¢°æ’æ£€æµ‹"></a>çœŸå®ä¸–ç•Œè¡¨é¢çš„ç¢°æ’æ£€æµ‹</h3><h6 id="hitTest-types"><a href="#hitTest-types" class="headerlink" title="- hitTest:types:"></a><a href="https://developer.apple.com/documentation/arkit/arskview/2875733-hittest?language=objc" target="_blank" rel="external">- hitTest:types:</a></h6><pre><code>åœ¨æˆªå–çš„ç›¸æœºå›¾åƒä¸­æœç´¢çœŸå®ä¸–ç•Œçš„ç‰©ä½“æˆ–ARé”šç‚¹ï¼Œä¸SpriteKitè§†å›¾ä¸­çš„ä¸€ä¸ªç‚¹ç›¸å¯¹åº”ã€‚
</code></pre><h3 id="æ˜ å°„å†…å®¹åˆ°çœŸå®ä¸–ç•Œçš„ä½ç½®ä¸­"><a href="#æ˜ å°„å†…å®¹åˆ°çœŸå®ä¸–ç•Œçš„ä½ç½®ä¸­" class="headerlink" title="æ˜ å°„å†…å®¹åˆ°çœŸå®ä¸–ç•Œçš„ä½ç½®ä¸­"></a>æ˜ å°„å†…å®¹åˆ°çœŸå®ä¸–ç•Œçš„ä½ç½®ä¸­</h3><h6 id="anchorForNode"><a href="#anchorForNode" class="headerlink" title="- anchorForNode:"></a><a href="https://developer.apple.com/documentation/arkit/arskview/2875729-anchorfornode?language=objc" target="_blank" rel="external">- anchorForNode:</a></h6><pre><code>å¦‚æœå­˜åœ¨ï¼Œè¿”å›ä¸æŒ‡å®šSpriteKitèŠ‚ç‚¹ç›¸å…³çš„ARé”šç‚¹
</code></pre><h6 id="nodeForAnchor"><a href="#nodeForAnchor" class="headerlink" title="- nodeForAnchor:"></a><a href="https://developer.apple.com/documentation/arkit/arskview/2873513-nodeforanchor?language=objc" target="_blank" rel="external">- nodeForAnchor:</a></h6><pre><code>å¦‚æœå­˜åœ¨ï¼Œè¿”å›ä¸æŒ‡å®šARé”šç‚¹ç›¸å…³çš„SpriteKitèŠ‚ç‚¹
</code></pre><h2 id="å…³ç³»"><a href="#å…³ç³»" class="headerlink" title="å…³ç³»"></a>å…³ç³»</h2><h3 id="ç»§æ‰¿è‡ª"><a href="#ç»§æ‰¿è‡ª" class="headerlink" title="ç»§æ‰¿è‡ª"></a>ç»§æ‰¿è‡ª</h3><p><a href="https://developer.apple.com/documentation/spritekit/skview?language=objc" target="_blank" rel="external">SKView</a></p>
<h2 id="å¦è¯·å‚é˜…"><a href="#å¦è¯·å‚é˜…" class="headerlink" title="å¦è¯·å‚é˜…"></a>å¦è¯·å‚é˜…</h2><h3 id="åŸºæœ¬è§†å›¾"><a href="#åŸºæœ¬è§†å›¾" class="headerlink" title="åŸºæœ¬è§†å›¾"></a>åŸºæœ¬è§†å›¾</h3><h6 id="åˆ›å»ºä¸€ä¸ªåŸºæœ¬çš„ARä½“éªŒ"><a href="#åˆ›å»ºä¸€ä¸ªåŸºæœ¬çš„ARä½“éªŒ" class="headerlink" title="åˆ›å»ºä¸€ä¸ªåŸºæœ¬çš„ARä½“éªŒ"></a><a href="https://developer.apple.com/documentation/arkit/building_a_basic_ar_experience?language=objc" target="_blank" rel="external">åˆ›å»ºä¸€ä¸ªåŸºæœ¬çš„ARä½“éªŒ</a></h6><pre><code>é…ç½®ä¸€ä¸ªARä¼šè¯å¯¹è±¡å¹¶ä½¿ç”¨SceneKitæˆ–SpriteKitæ¥æ˜¾ç¤ºARå†…å®¹
</code></pre><h6 id="ARSCNView"><a href="#ARSCNView" class="headerlink" title="ARSCNView"></a><a href="https://developer.apple.com/documentation/arkit/arscnview?language=objc" target="_blank" rel="external">ARSCNView</a></h6><pre><code>ä½¿ç”¨3Dçš„SceneKitå†…å®¹è¿›è€Œå¢å¼ºç›¸æœºæ¥æ˜¾ç¤ºARä½“éªŒçš„ä¸€ç§è§†å›¾ã€‚
</code></pre>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://developer.apple.com/documentation/arkit/arskview?language=objc&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;åŸæ–‡è¯·æˆ³&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;ARSK
    
    </summary>
    
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>ARKitæ–‡æ¡£çç¿»è¯‘ï¼ˆ6ï¼‰</title>
    <link href="http://yoursite.com/2017/07/03/ARKit_doc_6/"/>
    <id>http://yoursite.com/2017/07/03/ARKit_doc_6/</id>
    <published>2017-07-03T14:06:55.000Z</published>
    <updated>2017-07-03T15:01:02.000Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://developer.apple.com/documentation/arkit/arskview/providing_2d_virtual_content_with_spritekit?language=objc" target="_blank" rel="external">åŸæ–‡è¯·æˆ³</a></p>
<h1 id="ä½¿ç”¨SpriteKitæä¾›2Då†…å®¹"><a href="#ä½¿ç”¨SpriteKitæä¾›2Då†…å®¹" class="headerlink" title="ä½¿ç”¨SpriteKitæä¾›2Då†…å®¹"></a>ä½¿ç”¨SpriteKitæä¾›2Då†…å®¹</h1><p>åœ¨ARä½“éªŒä¸­ï¼Œä½¿ç”¨SpriteKitåœ¨3Dç©ºé—´ä¸­æ”¾ç½®2Då›¾ç‰‡</p>
<hr>
<h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>åœ¨ARä¸­æ”¾ç½®SpriteKitå†…å®¹ï¼Œä½ é¦–å…ˆéœ€è¦ä¸€ä¸ªè¿è¡Œä¸­çš„ARä¼šè¯å¯¹è±¡ï¼ˆå‚è€ƒ<a href="https://developer.apple.com/documentation/arkit/building_a_basic_ar_experience?language=objc" target="_blank" rel="external">åˆ›å»ºä¸€ä¸ªåŸºæœ¬çš„ARä½“éªŒ</a>ï¼‰ã€‚</p>
<p>SpriteKitæ˜¯å†…ç½®çš„2Dè™šæ‹Ÿå†…å®¹ï¼Œä½†æ˜¯ARéœ€è¦çš„æ˜¯çœŸå®ä¸–ç•Œçš„3Dç©ºé—´ã€‚ä½¿ç”¨<a href="https://developer.apple.com/documentation/arkit/arskview?language=objc" target="_blank" rel="external">ARSKView</a>ç±»é€šè¿‡æä¾›2Dç²¾çµï¼ˆ<a href="https://developer.apple.com/documentation/spritekit/sknode?language=objc" target="_blank" rel="external">SKNode</a>å¯¹è±¡ï¼‰ç›¸å½“äºçœŸå®ä¸–ç•Œçš„3Dä½ç½®ï¼ˆ<a href="https://developer.apple.com/documentation/arkit/aranchor?language=objc" target="_blank" rel="external">ARAnchor</a>å¯¹è±¡ï¼‰æ¥åˆ›å»ºARä½“éªŒã€‚å½“ä½¿ç”¨è€…ç§»åŠ¨è®¾å¤‡ï¼Œä¸é”šç‚¹ç›¸ä¼¼ï¼Œè§†å›¾ä¼šè‡ªåŠ¨æ—‹è½¬å¹¶ä¸”ç¼©æ”¾SpriteKitèŠ‚ç‚¹ï¼Œä»¥è‡³äºä»–ä»¬åœ¨ç›¸æœºä¸­çœ‹èµ·æ¥å°±åƒæ˜¯åœ¨çœŸå®ä¸–ç•Œä¸­ä¸€æ ·å¯ä»¥è¿½è¸ªã€‚</p>
<p>ä¸¾ä¾‹æ¥è¯´ï¼Œä½ å¯ä»¥æ”¾ç½®2Då›¾ç‰‡å°±åƒæ˜¯æ¼‚æµ®åœ¨3Dç©ºé—´ä¸­ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªåœ¨ç›¸æœºå‰é¢0.2ç±³çš„å¹³ç§»å˜æ¢</span></div><div class="line"><span class="keyword">var</span> translation = matrix_identity_float4x4</div><div class="line">translation.column.<span class="number">3</span>.z = -<span class="number">0.2</span></div><div class="line"><span class="keyword">let</span> transform = simd_mul(view.session.currentFrame.camera.transform, translation)</div><div class="line">	</div><div class="line"><span class="comment">//åœ¨ä¼šè¯å¯¹è±¡ä¸Šæ·»åŠ ä¸€ä¸ªæ–°é”šç‚¹</span></div><div class="line"><span class="keyword">let</span> anchor = <span class="type">ARAnchor</span>(transform: transform)</div><div class="line">view.session.add(anchor: anchor)</div><div class="line">	</div><div class="line"><span class="comment">//ï¼ˆå…¶ä»–çš„ä»€ä¹ˆ...ï¼‰æä¾›ä¸€ä¸ªæ ‡ç­¾ç»“ç‚¹æ¥ä»£è¡¨é”šç‚¹</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">view</span><span class="params">(<span class="number">_</span> view: ARSKView, nodeFor anchor: ARAnchor)</span></span> -&gt; <span class="type">SKNode</span>? &#123;</div><div class="line">	<span class="keyword">return</span> <span class="type">SKLabelNode</span>(text: <span class="string">"ğŸ‘¾"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä¸Šé¢ä¸­<a href="https://developer.apple.com/documentation/arkit/arskviewdelegate/2865596-view?language=objc" target="_blank" rel="external">view:nodeForAnchor:</a>æ–¹æ³•è¿”å›ä¸€ä¸ª<a href="https://developer.apple.com/documentation/spritekit/sklabelnode?language=objc" target="_blank" rel="external">SKLabelNode</a>å¯¹è±¡ï¼Œå®ƒå¯ä»¥æ˜¾ç¤ºä¸€ä¸ªæ–‡å­—æ ‡ç­¾ã€‚åƒå¤§å¤šæ•°çš„SpriteKitèŠ‚ç‚¹ä¸€æ ·ï¼Œè¿™ä¸ªç±»åˆ›å»ºäº†ä¸€ä¸ª2Dçš„è™šæ‹Ÿæ›¿ä»£ç‰©ï¼Œæ‰€ä»¥<a href="https://developer.apple.com/documentation/arkit/arskview?language=objc" target="_blank" rel="external">ARSKView</a>ç±»å±•ç°èŠ‚ç‚¹ç”¨ä¸€ç§å¹¿å‘Šç‰Œçš„æ–¹å¼ï¼šç²¾çµç¼©æ”¾å¹¶ä¸”æ—‹è½¬ï¼ˆæ²¿ç€å®ƒçš„zè½´ï¼‰ä»¥è‡³äºå®ƒçœ‹èµ·æ¥å°±åƒæ˜¯è·Ÿéšç€3Dä½ç½®ä¸­çš„é”šç‚¹ä¸€æ ·ï¼Œä½†æ˜¯æ€»æ˜¯æœå‘ç€ç›¸æœºã€‚</p>
<hr>
<h2 id="å¦è¯·å‚é˜…"><a href="#å¦è¯·å‚é˜…" class="headerlink" title="å¦è¯·å‚é˜…"></a>å¦è¯·å‚é˜…</h2><h3 id="ç¬¬ä¸€æ­¥"><a href="#ç¬¬ä¸€æ­¥" class="headerlink" title="ç¬¬ä¸€æ­¥"></a>ç¬¬ä¸€æ­¥</h3><h6 id="session"><a href="#session" class="headerlink" title="session"></a><a href="https://developer.apple.com/documentation/arkit/arskview/2865589-session?language=objc" target="_blank" rel="external">session</a></h6><pre><code>åœ¨è§†å›¾å†…å®¹ä¸­ç®¡ç†ç€è¿åŠ¨è¿½è¸ªå’Œç›¸æœºå›¾åƒå¤„ç†çš„ARä¼šè¯å¯¹è±¡
</code></pre>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://developer.apple.com/documentation/arkit/arskview/providing_2d_virtual_content_with_spritekit?language=objc&quot; target=&quot;_bla
    
    </summary>
    
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>ARKitæ–‡æ¡£çç¿»è¯‘ï¼ˆ5ï¼‰</title>
    <link href="http://yoursite.com/2017/07/03/ARKit_doc_5/"/>
    <id>http://yoursite.com/2017/07/03/ARKit_doc_5/</id>
    <published>2017-07-03T08:27:40.000Z</published>
    <updated>2017-07-03T14:58:22.000Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://developer.apple.com/documentation/arkit/building_a_basic_ar_experience?language=objc" target="_blank" rel="external">åŸæ–‡è¯·æˆ³</a></p>
<h1 id="åˆ›å»ºä¸€ä¸ªåŸºæœ¬çš„ARä½“éªŒ"><a href="#åˆ›å»ºä¸€ä¸ªåŸºæœ¬çš„ARä½“éªŒ" class="headerlink" title="åˆ›å»ºä¸€ä¸ªåŸºæœ¬çš„ARä½“éªŒ"></a>åˆ›å»ºä¸€ä¸ªåŸºæœ¬çš„ARä½“éªŒ</h1><p>é…ç½®ä¸€ä¸ªARä¼šè¯å¯¹è±¡å¹¶ä½¿ç”¨SceneKitæˆ–SpriteKitæ¥æ˜¾ç¤ºARå†…å®¹</p>
<hr>
<h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>å½“ä½ ä½¿ç”¨<a href="https://developer.apple.com/documentation/arkit/arscnview?language=objc" target="_blank" rel="external">ARSSNView</a>æˆ–<a href="https://developer.apple.com/documentation/arkit/arskview?language=objc" target="_blank" rel="external">ARSKView</a>ç±»ï¼ŒARKitä¼šè‡ªåŠ¨å¤„ç†åˆ›å»ºARä½“éªŒä¸­çš„åŸºæœ¬éœ€æ±‚ï¼šæ¯ä¸ªè§†å›¾éƒ½æ˜¾ç¤ºäº†ä¸€ä¸ªä»¥å®æ—¶ç›¸æœºè§†å›¾ä½œä¸ºèƒŒæ™¯å¹¶ä¸”æ¸²æŸ“äº†ä¸€ä¸ªä½ æä¾›çš„2Dæˆ–3Dè¦†ç›–å±‚æ¥åˆ›å»ºé‚£ä¸ªçœŸå®ä¸–ç•Œä¸­çš„å¹»æƒ³å†…å®¹ã€‚ä½¿ç”¨å…¶ä¸­ä¸€ä¸ªç±»ï¼Œä½ éœ€è¦é…ç½®ä½ æƒ³è¦åˆ›å»ºçš„ARä½“éªŒçš„ç§ç±»ï¼Œå¹¶ä¸”ä¸ºä½ çš„è¦†ç›–å±‚å†…å®¹é€‰æ‹©ä½ç½®å’Œä»£è¡¨ã€‚</p>
<p>è‹¥ä½¿ç”¨è‡ªå·±çš„è§†å›¾æ¥åˆ›å»ºARä½“éªŒï¼Œè¯·çœ‹<a href="https://developer.apple.com/documentation/arkit/displaying_an_ar_experience_with_metal?language=objc" target="_blank" rel="external">ä½¿ç”¨Metalæ¥å±•ç¤ºARä½“éªŒ</a>ã€‚</p>
<blockquote>
<p>å¤‡æ³¨ï¼š<br>è¿™ç¯‡æ–‡ç« è¦†ç›–äº†åœ¨XCodeå·¥ç¨‹æ¨¡æ¿ä¸­çš„ä»£ç ã€‚æƒ³è¦æŸ¥çœ‹å®Œæ•´ç¤ºä¾‹ä»£ç ï¼Œä½¿ç”¨ARæ¨¡æ¿åˆ›å»ºä¸€ä¸ªæ–°çš„iOSå·¥ç¨‹ï¼Œå¹¶ä¸”åœ¨å†…å®¹æŠ€æœ¯å¼¹å‡ºèœå•ä¸­é€‰æ‹©SceneKitæˆ–SpriteKitã€‚</p>
</blockquote>
<h2 id="é…ç½®å¹¶è¿è¡ŒARä¼šè¯"><a href="#é…ç½®å¹¶è¿è¡ŒARä¼šè¯" class="headerlink" title="é…ç½®å¹¶è¿è¡ŒARä¼šè¯"></a>é…ç½®å¹¶è¿è¡ŒARä¼šè¯</h2><p><a href="https://developer.apple.com/documentation/arkit/arscnview?language=objc" target="_blank" rel="external">ARSCNView</a>å’Œ<a href="https://developer.apple.com/documentation/arkit/arskview?language=objc" target="_blank" rel="external">ARSKView</a>ç±»éƒ½åŒ…å«äº†ä¸€ä¸ªåœ¨åˆ›å»ºARä½“éªŒä¸­è´Ÿè´£è¿åŠ¨è¿½è¸ªå’Œå›¾åƒå¤„ç†çš„<a href="https://developer.apple.com/documentation/arkit/arsession?language=objc" target="_blank" rel="external">ARSession</a>å¯¹è±¡ã€‚å¯æ˜¯ï¼Œä¸ºäº†èƒ½å¤Ÿè¿è¡Œè¿™ä¸ªä¼šè¯ï¼Œä½ å¿…é¡»è¦æä¾›ä¸€ä¸ªä¼šè¯é…ç½®ã€‚</p>
<p><img src="https://docs-assets.developer.apple.com/published/ffb3831f78/50bedfc6-93ce-400c-a41d-35728e32d653.png" alt="å…³ç³»å›¾"></p>
<p><a href="https://developer.apple.com/documentation/arkit/arworldtrackingsessionconfiguration?language=objc" target="_blank" rel="external">ARWorldTrackingSessionConfiguration</a>ç±»æä¾›äº†æ›´é«˜ç²¾åº¦çš„è¿åŠ¨è¿½è¸ªå¹¶ä¸”å¼€æ”¾äº†ä¸€äº›ç‰¹æ€§æ¥å¸®åŠ©ä½ æ”¾ç½®è™šæ‹Ÿå†…å®¹åˆ°çœŸå®ä¸–ç•Œçš„å¹³é¢ä¸Šã€‚åœ¨ä¸–ç•Œè¿½è¸ªä¸å¯ç”¨çš„æƒ…å†µä¸‹ï¼ŒåŸºæœ¬ç±»<a href="https://developer.apple.com/documentation/arkit/arsessionconfiguration?language=objc" target="_blank" rel="external">ARSessionConfiguration</a>æä¾›äº†ç®€å•çš„è¿åŠ¨è¿½è¸ªæ¥è®¸å¯è¾ƒå°‘çš„ARä½“éªŒã€‚ä¸ºäº†å…è®¸ä¸€ä¸ªARä¼šè¯ï¼Œä½¿ç”¨ä¸€ä¸ªä½ æŒ‡å®šçš„é€‰é¡¹æ¥åˆ›å»ºä¸€ä¸ªä¼šè¯é…ç½®å¯¹è±¡ï¼Œä¹‹ååœ¨ä½ çš„<a href="https://developer.apple.com/documentation/arkit/arscnview?language=objc" target="_blank" rel="external">ARSCNView</a>æˆ–<a href="https://developer.apple.com/documentation/arkit/arskview?language=objc" target="_blank" rel="external">ARSKView</a>å®ä¾‹çš„<a href="https://developer.apple.com/documentation/arkit/arscnview/2865796-session?language=objc" target="_blank" rel="external">session</a>å¯¹è±¡ä¸Šè°ƒç”¨<a href="https://developer.apple.com/documentation/arkit/arsession/2875735-runwithconfiguration?language=objc" target="_blank" rel="external">runWithConfiguration:options:</a>æ–¹æ³•ã€‚</p>
<pre><code class="swift"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewWillAppear</span><span class="params">(<span class="number">_</span> animated: Bool)</span></span> {
    <span class="keyword">super</span>.viewWillAppear(animated)

    <span class="comment">// Create a session configuration</span>
    <span class="keyword">let</span> configuration = <span class="type">ARWorldTrackingConfiguation</span>()
    configuration.planeDetection = .horizontal

    <span class="comment">// Run the view's session</span>
    sceneView.session.run(configuration)
}
</code></pre>
<blockquote>
<p>æ³¨æ„</p>
<p>åªæœ‰è§†å›¾å°†è¦æ˜¾ç¤ºåœ¨å±å¹•ä¸Šæ—¶å†è¿è¡Œä½ çš„ä¼šè¯ã€‚</p>
</blockquote>
<p>åœ¨ä½ å·²ç»è®¾ç½®å¥½ä½ çš„ä¼šè¯å¯¹è±¡åï¼Œåœ¨è§†å›¾ä¸­ä½¿ç”¨SceneKitæˆ–SpriteKitæ¥æ”¾ç½®è™šæ‹Ÿå†…å®¹ã€‚</p>
<hr>
<h2 id="è¯é¢˜"><a href="#è¯é¢˜" class="headerlink" title="è¯é¢˜"></a>è¯é¢˜</h2><h3 id="ä¸‹ä¸€æ­¥"><a href="#ä¸‹ä¸€æ­¥" class="headerlink" title="ä¸‹ä¸€æ­¥"></a>ä¸‹ä¸€æ­¥</h3><h6 id="ä½¿ç”¨SceneKitæä¾›3Dè™šæ‹Ÿå†…å®¹"><a href="#ä½¿ç”¨SceneKitæä¾›3Dè™šæ‹Ÿå†…å®¹" class="headerlink" title="ä½¿ç”¨SceneKitæä¾›3Dè™šæ‹Ÿå†…å®¹"></a><a href="https://developer.apple.com/documentation/arkit/arscnview/providing_3d_virtual_content_with_scenekit?language=objc" target="_blank" rel="external">ä½¿ç”¨SceneKitæä¾›3Dè™šæ‹Ÿå†…å®¹</a></h6><pre><code>åœ¨ARä½“éªŒä¸­ï¼Œä½¿ç”¨SceneKitæ·»åŠ é€¼çœŸçš„3Då¯¹è±¡
</code></pre><h6 id="ä½¿ç”¨SpriteKitæä¾›2Dè™šæ‹Ÿå†…å®¹"><a href="#ä½¿ç”¨SpriteKitæä¾›2Dè™šæ‹Ÿå†…å®¹" class="headerlink" title="ä½¿ç”¨SpriteKitæä¾›2Dè™šæ‹Ÿå†…å®¹"></a><a href="https://developer.apple.com/documentation/arkit/arskview/providing_2d_virtual_content_with_spritekit?language=objc" target="_blank" rel="external">ä½¿ç”¨SpriteKitæä¾›2Dè™šæ‹Ÿå†…å®¹</a></h6><pre><code>åœ¨ARä½“éªŒä¸­ï¼Œä½¿ç”¨SpriteKitåœ¨3Dç©ºé—´ä¸­æ”¾ç½®2Då›¾ç‰‡
</code></pre><h2 id="å¦è¯·å‚é˜…"><a href="#å¦è¯·å‚é˜…" class="headerlink" title="å¦è¯·å‚é˜…"></a>å¦è¯·å‚é˜…</h2><h3 id="åŸºæœ¬è§†å›¾"><a href="#åŸºæœ¬è§†å›¾" class="headerlink" title="åŸºæœ¬è§†å›¾"></a>åŸºæœ¬è§†å›¾</h3><h6 id="ARSCNView"><a href="#ARSCNView" class="headerlink" title="ARSCNView"></a><a href="https://developer.apple.com/documentation/arkit/arscnview?language=objc" target="_blank" rel="external">ARSCNView</a></h6><pre><code>åœ¨ARä½“éªŒä¸­ï¼Œä½¿ç”¨3Dçš„SceneKitå†…å®¹æ¥å¢å¼ºç›¸æœºè§†å›¾çš„ä¸€ç§è§†å›¾ã€‚
</code></pre><h6 id="ARSKView"><a href="#ARSKView" class="headerlink" title="ARSKView"></a><a href="https://developer.apple.com/documentation/arkit/arskview?language=objc" target="_blank" rel="external">ARSKView</a></h6><pre><code>åœ¨ARä½“éªŒä¸­ï¼Œä½¿ç”¨2Dçš„SpriteKitå†…å®¹æ¥å¢å¼ºç›¸æœºè§†å›¾çš„ä¸€ç§è§†å›¾ã€‚
</code></pre>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://developer.apple.com/documentation/arkit/building_a_basic_ar_experience?language=objc&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;åŸæ–‡è¯·
    
    </summary>
    
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>ARKitæ–‡æ¡£çç¿»è¯‘ï¼ˆ4ï¼‰</title>
    <link href="http://yoursite.com/2017/07/03/ARKit_doc_4/"/>
    <id>http://yoursite.com/2017/07/03/ARKit_doc_4/</id>
    <published>2017-07-03T06:49:35.000Z</published>
    <updated>2017-07-03T08:25:20.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ARKitæ–‡æ¡£çç¿»è¯‘ï¼ˆ4ï¼‰"><a href="#ARKitæ–‡æ¡£çç¿»è¯‘ï¼ˆ4ï¼‰" class="headerlink" title="ARKitæ–‡æ¡£çç¿»è¯‘ï¼ˆ4ï¼‰"></a>ARKitæ–‡æ¡£çç¿»è¯‘ï¼ˆ4ï¼‰</h1><p><a href="https://developer.apple.com/documentation/arkit/arsession?language=objc" target="_blank" rel="external">åŸæ–‡è¯·æˆ³</a></p>
<h2 id="ARSession"><a href="#ARSession" class="headerlink" title="ARSession"></a>ARSession</h2><p>ä¸€ä¸ªå¤„ç†ARä¸­è®¾å¤‡ç›¸æœºå’Œè¿åŠ¨è¿‡ç¨‹çš„å…±äº«å¯¹è±¡ã€‚</p>
<hr>
<h3 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><p>ä¸€ä¸ªARSessionå¯¹è±¡æ•´åˆäº†åœ¨ARKitä¸­ä»¥ä½ è‡ªå·±çš„æ–¹å¼åˆ›å»ºARçš„ä¸»è¦è¿‡ç¨‹ã€‚è¿™ä¸ªè¿‡ç¨‹åŒ…æ‹¬ä»è®¾å¤‡è¿åŠ¨ä¼ æ„Ÿå™¨è¯»å–æ•°æ®ã€æ§åˆ¶è®¾å¤‡ç›¸æœºå’Œåœ¨æˆªå–çš„ç›¸æœºå›¾ç‰‡ä¸­è¿›è¡Œå›¾åƒè¯†åˆ«ã€‚è¿™ä¸ªä¼šè¯æ•´åˆäº†æ‰€æœ‰è¿™äº›ç»“æœæ¥åˆ›å»ºä¸€ä¸ªåœ¨è®¾å¤‡æ‰€åœ¨çš„çœŸå®ä¸–ç•Œå’Œä½ æ¨¡æ‹ŸARå†…å®¹çš„è™šæ‹Ÿç©ºé—´æ‰€ç»„æˆçš„é•œåƒä¸–ç•Œã€‚</p>
<p>ä½¿ç”¨ARKitåˆ›å»ºçš„æ¯ä¸€ä¸ªARä½“éªŒéƒ½éœ€è¦ä¸€ä¸ªå•ç‹¬çš„ARSessionå¯¹è±¡ã€‚å¦‚æœä½ ä½¿ç”¨ä¸€ä¸ª<a href="https://developer.apple.com/documentation/arkit/arscnview?language=objc" target="_blank" rel="external">ARSCNView</a>æˆ–<a href="https://developer.apple.com/documentation/arkit/arskview?language=objc" target="_blank" rel="external">ARSKView</a>å¯¹è±¡æ¥ç®€æ˜“åœ°åˆ›å»ºARä¸­çš„è§†è§‰éƒ¨åˆ†ï¼Œé‚£ä¹ˆè§†å›¾å¯¹è±¡ä¾¿å·²ç»åŒ…å«äº†ä¸€ä¸ªARSessionå®ä¾‹ã€‚å¦‚æœä½ ç”¨è‡ªå·±çš„æ¸²æŸ“å™¨æ¥åˆ›å»ºARå†…å®¹ï¼Œä½ å°±éœ€è¦è‡ªå·±å®ä¾‹åŒ–å¹¶ç»´æŠ¤ä¸€ä¸ªARSessionå¯¹è±¡äº†ã€‚</p>
<p>è¿è¡Œä¸€ä¸ªä¼šè¯éœ€è¦ä¸€ä¸ªä¼šè¯é…ç½®ï¼š<a href="https://developer.apple.com/documentation/arkit/arsessionconfiguration?language=objc" target="_blank" rel="external">ARSessionConfiguration</a>ç±»æˆ–å…¶å­ç±»<a href="https://developer.apple.com/documentation/arkit/arworldtrackingsessionconfiguration?language=objc" target="_blank" rel="external">ARWorldTrackingSessionConfiguration</a>ç±»çš„å®ä¾‹ã€‚è¿™äº›ç±»å†³å®šäº†ARKitå¦‚ä½•è¿½è¸ªä¸€ä¸ªè®¾å¤‡ç›¸å¯¹çœŸå®ä¸–ç•Œçš„ä½ç½®å’Œè¿åŠ¨ï¼Œå¹¶ä¸”å½±å“äº†ä½ èƒ½åˆ›å»ºçš„ARä½“éªŒçš„ç§ç±»ã€‚</p>
<h3 id="è¯é¢˜"><a href="#è¯é¢˜" class="headerlink" title="è¯é¢˜"></a>è¯é¢˜</h3><h4 id="é…ç½®å¹¶è¿è¡Œä¸€ä¸ªä¼šè¯"><a href="#é…ç½®å¹¶è¿è¡Œä¸€ä¸ªä¼šè¯" class="headerlink" title="é…ç½®å¹¶è¿è¡Œä¸€ä¸ªä¼šè¯"></a>é…ç½®å¹¶è¿è¡Œä¸€ä¸ªä¼šè¯</h4><h6 id="runWithConfiguration-options"><a href="#runWithConfiguration-options" class="headerlink" title="- runWithConfiguration:options:"></a><a href="https://developer.apple.com/documentation/arkit/arsession/2875735-runwithconfiguration?language=objc" target="_blank" rel="external">- runWithConfiguration:options:</a></h6><pre><code>ä¸ºä¼šè¯ä½¿ç”¨æŒ‡å®šé…ç½®å’Œè®¾ç½®æ¥å¯åŠ¨ä¸€ä¸ªARè¿‡ç¨‹
</code></pre><blockquote>
<p><a href="https://developer.apple.com/documentation/arkit/arsessionrunoptions?language=objc" target="_blank" rel="external">ARSessionRunOptions</a><br>å½“ä½ æ”¹å˜é…ç½®æ—¶ï¼Œæ­¤é€‰é¡¹å½±å“äº†å¦‚ä½•æ”¹å˜ä¸€ä¸ªARSessionå½“å‰çŠ¶æ€ã€‚</p>
<p><a href="https://developer.apple.com/documentation/arkit/arsession/2865609-configuration?language=objc" target="_blank" rel="external">configuration</a><br>ä¼šè¯ä¸­ä¸€ä¸ªå®šä¹‰äº†è¿åŠ¨å’Œåœºæ™¯è¿½è¸ªè¡Œä¸ºçš„å¯¹è±¡ã€‚</p>
</blockquote>
<h6 id="pause"><a href="#pause" class="headerlink" title="- pause"></a><a href="https://developer.apple.com/documentation/arkit/arsession/2865619-pause?language=objc" target="_blank" rel="external">- pause</a></h6><pre><code>æš‚åœå¤„ç†ä¼šè¯
</code></pre><h4 id="è´Ÿè´£ARæ›´æ–°"><a href="#è´Ÿè´£ARæ›´æ–°" class="headerlink" title="è´Ÿè´£ARæ›´æ–°"></a>è´Ÿè´£ARæ›´æ–°</h4><h6 id="delegate"><a href="#delegate" class="headerlink" title="delegate"></a><a href="https://developer.apple.com/documentation/arkit/arsession/2865614-delegate?language=objc" target="_blank" rel="external">delegate</a></h6><pre><code>ä¸€ä¸ªä½ æä¾›çš„å¯¹è±¡æ¥æ¥æ”¶æ•è·çš„è§†é¢‘å›¾åƒå’Œè¿½è¸ªä¿¡æ¯ï¼Œæˆ–è€…ä¸ºä¼šè¯ä¸­çš„çŠ¶æ€æ”¹å˜è¿›è¡Œå›åº”å¤„ç†ã€‚
</code></pre><h6 id="delegateQueue"><a href="#delegateQueue" class="headerlink" title="delegateQueue"></a><a href="https://developer.apple.com/documentation/arkit/arsession/2875726-delegatequeue?language=objc" target="_blank" rel="external">delegateQueue</a></h6><pre><code>ä¼šè¯è°ƒç”¨ä½ çš„ä¸€ç³»åˆ—ä»£ç†æ–¹æ³•çš„æ´¾å‘é˜Ÿåˆ—
</code></pre><h6 id="ARSessionDelegate"><a href="#ARSessionDelegate" class="headerlink" title="ARSessionDelegate"></a><a href="https://developer.apple.com/documentation/arkit/arsessiondelegate?language=objc" target="_blank" rel="external">ARSessionDelegate</a></h6><pre><code>åœ¨ARä¼šè¯ä¸­ä½ å¯ä»¥å®ç°çš„ä¸€äº›æ–¹æ³•æ¥æ¥æ”¶æ•è·çš„è§†é¢‘å¸§å›¾åƒå’Œå¤„ç†è¿½è¸ªçŠ¶æ€ã€‚
</code></pre><h6 id="ARSessionObserver"><a href="#ARSessionObserver" class="headerlink" title="ARSessionObserver"></a><a href="https://developer.apple.com/documentation/arkit/arsessionobserver?language=objc" target="_blank" rel="external">ARSessionObserver</a></h6><pre><code>åœ¨ARä¼šè¯ä¸­ä½ å¯ä»¥å®ç°çš„ä¸€äº›æ–¹æ³•æ¥å¯¹çŠ¶æ€çš„æ”¹å˜è¿›è¡Œå›åº”ã€‚
</code></pre><h3 id="æ˜¾ç¤ºå¹¶ä¸ARå†…å®¹è¿›è¡Œäº¤äº’"><a href="#æ˜¾ç¤ºå¹¶ä¸ARå†…å®¹è¿›è¡Œäº¤äº’" class="headerlink" title="æ˜¾ç¤ºå¹¶ä¸ARå†…å®¹è¿›è¡Œäº¤äº’"></a>æ˜¾ç¤ºå¹¶ä¸ARå†…å®¹è¿›è¡Œäº¤äº’</h3><h6 id="currentFrame"><a href="#currentFrame" class="headerlink" title="currentFrame"></a><a href="https://developer.apple.com/documentation/arkit/arsession/2865621-currentframe?language=objc" target="_blank" rel="external">currentFrame</a></h6><pre><code>è§†é¢‘å¸§å›¾åƒï¼Œå¸¦æœ‰ç›¸å…³çš„ARåœºæ™¯ä¿¡æ¯ï¼Œæ˜¯ä¼šè¯å¯¹è±¡æœ€è¿‘æ•è·çš„
</code></pre><h6 id="addAnchor"><a href="#addAnchor" class="headerlink" title="- addAnchor:"></a><a href="https://developer.apple.com/documentation/arkit/arsession/2865612-addanchor?language=objc" target="_blank" rel="external">- addAnchor:</a></h6><pre><code>æ·»åŠ å¯ä»¥è¢«ä¼šè¯å¯¹è±¡è¿½è¸ªçš„æŒ‡å®šé”šç‚¹
</code></pre><h6 id="removeAnchor"><a href="#removeAnchor" class="headerlink" title="- removeAnchor:"></a><a href="https://developer.apple.com/documentation/arkit/arsession/2865607-removeanchor?language=objc" target="_blank" rel="external">- removeAnchor:</a></h6><pre><code>ç§»é™¤å¯ä»¥è¢«ä¼šè¯å¯¹è±¡è¿½è¸ªçš„æŒ‡å®šé”šç‚¹
</code></pre><h3 id="å®ä¾‹æ–¹æ³•"><a href="#å®ä¾‹æ–¹æ³•" class="headerlink" title="å®ä¾‹æ–¹æ³•"></a>å®ä¾‹æ–¹æ³•</h3><h6 id="runWithConfiguration"><a href="#runWithConfiguration" class="headerlink" title="- runWithConfiguration:"></a><a href="https://developer.apple.com/documentation/arkit/arsession/2865608-runwithconfiguration?language=objc" target="_blank" rel="external">- runWithConfiguration:</a></h6><h2 id="å…³ç³»"><a href="#å…³ç³»" class="headerlink" title="å…³ç³»"></a>å…³ç³»</h2><h6 id="ç»§æ‰¿è‡ª-NSObject"><a href="#ç»§æ‰¿è‡ª-NSObject" class="headerlink" title="ç»§æ‰¿è‡ª        NSObject"></a>ç»§æ‰¿è‡ª        <a href="https://developer.apple.com/documentation/objectivec/nsobject?language=objc" target="_blank" rel="external">NSObject</a></h6>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;ARKitæ–‡æ¡£çç¿»è¯‘ï¼ˆ4ï¼‰&quot;&gt;&lt;a href=&quot;#ARKitæ–‡æ¡£çç¿»è¯‘ï¼ˆ4ï¼‰&quot; class=&quot;headerlink&quot; title=&quot;ARKitæ–‡æ¡£çç¿»è¯‘ï¼ˆ4ï¼‰&quot;&gt;&lt;/a&gt;ARKitæ–‡æ¡£çç¿»è¯‘ï¼ˆ4ï¼‰&lt;/h1&gt;&lt;p&gt;&lt;a href=&quot;https://developer
    
    </summary>
    
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>ARKitæ–‡æ¡£çç¿»è¯‘ï¼ˆ3ï¼‰</title>
    <link href="http://yoursite.com/2017/07/03/ARKit_doc_3/"/>
    <id>http://yoursite.com/2017/07/03/ARKit_doc_3/</id>
    <published>2017-07-03T03:41:38.000Z</published>
    <updated>2017-07-03T14:52:44.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ARKitæ–‡æ¡£çç¿»è¯‘ï¼ˆ3ï¼‰"><a href="#ARKitæ–‡æ¡£çç¿»è¯‘ï¼ˆ3ï¼‰" class="headerlink" title="ARKitæ–‡æ¡£çç¿»è¯‘ï¼ˆ3ï¼‰"></a>ARKitæ–‡æ¡£çç¿»è¯‘ï¼ˆ3ï¼‰</h1><p><a href="https://developer.apple.com/documentation/arkit/understanding_augmented_reality" target="_blank" rel="external">åŸæ–‡è¯·æˆ³</a></p>
<h2 id="ç†è§£AR"><a href="#ç†è§£AR" class="headerlink" title="ç†è§£AR"></a>ç†è§£AR</h2><h6 id="æ¢ç´¢æ¦‚å¿µã€ç‰¹æ€§å’Œæœ€æ£’çš„å®è·µæ¥åˆ›å»ºä¼Ÿå¤§çš„ARä½“éªŒã€‚"><a href="#æ¢ç´¢æ¦‚å¿µã€ç‰¹æ€§å’Œæœ€æ£’çš„å®è·µæ¥åˆ›å»ºä¼Ÿå¤§çš„ARä½“éªŒã€‚" class="headerlink" title="æ¢ç´¢æ¦‚å¿µã€ç‰¹æ€§å’Œæœ€æ£’çš„å®è·µæ¥åˆ›å»ºä¼Ÿå¤§çš„ARä½“éªŒã€‚"></a>æ¢ç´¢æ¦‚å¿µã€ç‰¹æ€§å’Œæœ€æ£’çš„å®è·µæ¥åˆ›å»ºä¼Ÿå¤§çš„ARä½“éªŒã€‚</h6><hr>
<h3 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><p><img src="https://docs-assets.developer.apple.com/published/b99f86dcfb/75ae3206-121a-47ed-9464-af0f322443cc.png" alt="demoå›¾ç‰‡1"></p>
<p>å¯¹äºARæ¥è¯´ï¼Œæœ€åŸºæœ¬çš„éœ€æ±‚ï¼Œå³ARKitå®šä¹‰çš„ç‰¹å¾ï¼Œå°±æ˜¯åœ¨ç”¨æˆ·ç”Ÿæ´»çš„çœŸå®ä¸–ç•Œå’Œæ”¾ç½®è™šæ‹Ÿç‰©ä½“çš„è™šæ‹Ÿç©ºé—´ä¹‹é—´åˆ›å»ºå¹¶ä¿æŒä¸€è‡´çš„èƒ½åŠ›ã€‚å½“ä½ çš„appæŠŠå®æ—¶ç›¸æœºå›¾åƒå’Œè™šæ‹Ÿç‰©ä½“ç»“åˆåœ¨ä¸€èµ·å±•ç¤ºå‡ºæ¥çš„æ—¶å€™ï¼Œç”¨æˆ·å°±ä¼šä½“éªŒåˆ°äº†å¢å¼ºç°å®çš„é­…åŠ›ï¼šå¹»æƒ³ä½ çš„è™šæ‹Ÿå†…å®¹æ˜¯çœŸå®ä¸–ç•Œçš„ä¸€éƒ¨åˆ†ã€‚</p>
<h3 id="ä¸–ç•Œè¿½è¸ªæ˜¯å¦‚ä½•å·¥ä½œçš„"><a href="#ä¸–ç•Œè¿½è¸ªæ˜¯å¦‚ä½•å·¥ä½œçš„" class="headerlink" title="ä¸–ç•Œè¿½è¸ªæ˜¯å¦‚ä½•å·¥ä½œçš„"></a>ä¸–ç•Œè¿½è¸ªæ˜¯å¦‚ä½•å·¥ä½œçš„</h3><p>ä¸ºäº†åœ¨çœŸå®å’Œè™šæ‹Ÿç©ºé—´ä¸­åˆ›å»ºä¸€ä¸ªé«˜åº¦ä¸€è‡´çš„ä¸–ç•Œï¼ŒARKitä½¿ç”¨äº†ä¸€é¡¹å«åš<em>visual-inertial odometry</em>çš„æŠ€æœ¯ã€‚è¿™é¡¹æŠ€æœ¯å¯ä»¥å°†iOSçš„è®¾å¤‡æ„Ÿåº”å™¨å’Œç›¸æœºæ‹æ‘„çš„åœºæ™¯è¿›è¡Œçš„ç”µè„‘è§†è§‰è¯†åˆ«ç»“åˆåˆ°ä¸€èµ·ã€‚ARKitè¯†åˆ«å‡ºåœºæ™¯å›¾åƒä¸­çš„æ˜¾è‘—ç‰¹å¾ï¼Œé€šè¿‡è§†é¢‘å¸§çš„è¿™äº›ç‰¹å¾è¿½è¸ªå‡ºä½ç½®ä¸Šçš„ä¸åŒç‚¹ï¼Œå¹¶æŠŠè¿™äº›ä¿¡æ¯åŒè¿åŠ¨æ„Ÿåº”æ•°æ®è¿›è¡Œæ¯”è¾ƒã€‚æœ€ç»ˆå°±ç”Ÿæˆäº†ä¸€ä¸ªå¸¦æœ‰è®¾å¤‡ä½ç½®å’Œè¿åŠ¨ä¿¡æ¯çš„é«˜ç²¾åº¦æ¨¡å‹ã€‚</p>
<h3 id="æœ€å¥½çš„å®è·µå’Œé™åˆ¶"><a href="#æœ€å¥½çš„å®è·µå’Œé™åˆ¶" class="headerlink" title="æœ€å¥½çš„å®è·µå’Œé™åˆ¶"></a>æœ€å¥½çš„å®è·µå’Œé™åˆ¶</h3><p>ä¸–ç•Œè¿½è¸ªæ˜¯ä¸€é¡¹ä¸å¤ªå‡†ç¡®çš„æŠ€æœ¯ã€‚è¿™é¡¹æŠ€æœ¯ç»å¸¸å¯ä»¥åˆ¶ä½œå‡ºä»¤äººæƒŠå¹çš„ç²¾å‡†åº¦ï¼Œè¿›è€Œäº§ç”Ÿå‡ºARä½“éªŒã€‚å¯æ˜¯ï¼Œå®ƒï¼ˆå³ARä½“éªŒï¼‰çš„äº§ç”Ÿä¾èµ–è®¾å¤‡ç‰©ç†ç¯å¢ƒçš„ç»†è‡´ç¨‹åº¦ï¼ˆç‰©ç†ç¯å¢ƒå¹¶ä¸æ€»æ˜¯å¾ˆç¨³å®šæˆ–è€…ä¸€äº›å¾ˆéš¾ä¼°æµ‹åˆ°çš„ä¸ç¡®å®šé”™è¯¯ï¼‰ã€‚ä¸ºäº†èƒ½å¤Ÿå»ºç«‹é«˜è´¨é‡çš„ARä½“éªŒï¼Œæ³¨æ„ä»¥ä¸‹è­¦å‘Šå’Œå»ºè®®ã€‚</p>
<p><strong>åˆ©ç”¨å¯é¢„æµ‹çš„å…‰ç…§æ¡ä»¶æ¥è®¾è®¡ARã€‚</strong>ä¸–ç•Œè¿½è¸ªéœ€è¦å›¾åƒè¯†åˆ«ï¼Œå³éœ€è¦æ¸…æ™°åœ°å›¾åƒã€‚å½“ç›¸æœºä¸èƒ½çœ‹æ¸…ç»†èŠ‚ï¼Œæ¯”å¦‚å½“ç›¸æœºå¯¹ç€ä¸€æ‰‡ç™½å¢™æˆ–åœºæ™¯è¾ƒæš—æ—¶ï¼Œè¿½è¸ªçš„è´¨é‡ä¼šé™ä½ã€‚</p>
<p><strong>ä½¿ç”¨æœ‰æ•ˆçš„è¿½è¸ªä¿¡æ¯æ¥æä¾›ç»™ç”¨æˆ·åé¦ˆã€‚</strong>ä¸–ç•Œè¿½è¸ªæŠŠå›¾åƒè¯†åˆ«å’Œè®¾å¤‡è¿åŠ¨ç»“åˆåˆ°äº†ä¸€èµ·ã€‚ARKitå¼€å‘å‡ºäº†å¯¹åœºæ™¯æ›´å¥½çš„ç†è§£èƒ½åŠ›ï¼Œå¦‚å½“è®¾å¤‡æ­£åœ¨ç§»åŠ¨ï¼Œç”šè‡³æ˜¯å¾ˆå¾®å°çš„åç§»ã€‚è¿‡é‡çš„è¿åŠ¨ï¼ˆå¦‚è¿‡è¿œã€è¿‡å¿«æˆ–è€…å‰§çƒˆçš„æ‘‡åŠ¨ï¼‰ä¼šå¯¼è‡´åœ¨è§†é¢‘å¸§é—´äº§ç”Ÿæ¨¡ç³Šçš„å›¾åƒæˆ–è¿‡å¤§çš„è¿½è¸ªè·ç¦»ï¼Œä»è€Œé™ä½äº†è¿½è¸ªè´¨é‡ã€‚<a href="https://developer.apple.com/documentation/arkit/arcamera" target="_blank" rel="external">ARCamera</a>ç±»æä¾›äº†è¿½è¸ªçŠ¶æ€åŸå› ä¿¡æ¯ï¼Œä½¿ç”¨å®ƒä½ å¯ä»¥å¼€å‘å‡ºå‘ŠçŸ¥ç”¨æˆ·å¦‚ä½•å¤„ç†ä½è´¨é‡è¿½è¸ªç¯å¢ƒçš„UIç•Œé¢ã€‚</p>
<p><strong>ä¸ºäº§ç”Ÿæ¸…æ™°çš„ç»“æœå…è®¸èŠ±è´¹ä¸€äº›æ—¶é—´æ¥è¿›è¡Œç‰©ä½“æ£€æµ‹ï¼Œå¹¶ä¸”å½“ä½ å¾—åˆ°éœ€è¦çš„ç»“æœåå…³é—­æ£€æµ‹ã€‚</strong>ç‰©ä½“æ£€æµ‹çš„ç»“æœä¼šå¤šæ¬¡æ”¹å˜â€“å½“ç‰©ä½“ç¬¬ä¸€æ¬¡è¢«æ¢æµ‹åˆ°æ—¶ï¼Œå®ƒçš„ä½ç½®å’Œå¤§å°å¯èƒ½æ˜¯ä¸å‡†ç¡®çš„ã€‚åªè¦è¯¥ç‰©ä½“è¿˜æŒç»­åœ°å‘†åœ¨åœºæ™¯ä¹‹ä¸­ï¼ŒARKitå°±ä¼šæŠ½è±¡å‡ºä¼°æµ‹çš„ä½ç½®å’Œå¤§å°ã€‚ä¸€æ—¦åœ¨åœºæ™¯ä¸­æœ‰ä¸€ä¸ªå¤§çš„æ°´å¹³é¢å­˜åœ¨æ—¶ï¼Œåœ¨ä½ å·²ç»ä½¿ç”¨è¯¥ç‰©ä½“å¹¶æ”¾ç½®å†…å®¹åï¼ŒARKitå°±ä¼šæŒç»­æ”¹å˜è¯¥ç‰©ä½“çš„é”šç‚¹ä½ç½®ã€å¤§å°å’Œå˜åŒ–ã€‚</p>
<h2 id="å¦è¯·å‚é˜…"><a href="#å¦è¯·å‚é˜…" class="headerlink" title="å¦è¯·å‚é˜…"></a>å¦è¯·å‚é˜…</h2><h4 id="ç¬¬ä¸€æ­¥"><a href="#ç¬¬ä¸€æ­¥" class="headerlink" title="ç¬¬ä¸€æ­¥"></a>ç¬¬ä¸€æ­¥</h4><h6 id="class-ARSession"><a href="#class-ARSession" class="headerlink" title="class ARSession"></a>class <a href="https://developer.apple.com/documentation/arkit/arsession" target="_blank" rel="external">ARSession</a></h6><h6 id="ä¸€ä¸ªå…±äº«å¯¹è±¡ï¼Œè´Ÿè´£ç®¡ç†ARä¸­çš„è®¾å¤‡ç›¸æœºå’Œè¿åŠ¨å¤„ç†çš„éœ€æ±‚ã€‚"><a href="#ä¸€ä¸ªå…±äº«å¯¹è±¡ï¼Œè´Ÿè´£ç®¡ç†ARä¸­çš„è®¾å¤‡ç›¸æœºå’Œè¿åŠ¨å¤„ç†çš„éœ€æ±‚ã€‚" class="headerlink" title="ä¸€ä¸ªå…±äº«å¯¹è±¡ï¼Œè´Ÿè´£ç®¡ç†ARä¸­çš„è®¾å¤‡ç›¸æœºå’Œè¿åŠ¨å¤„ç†çš„éœ€æ±‚ã€‚"></a>ä¸€ä¸ªå…±äº«å¯¹è±¡ï¼Œè´Ÿè´£ç®¡ç†ARä¸­çš„è®¾å¤‡ç›¸æœºå’Œè¿åŠ¨å¤„ç†çš„éœ€æ±‚ã€‚</h6><h4 id="ç›¸å…³æ–‡æ¡£"><a href="#ç›¸å…³æ–‡æ¡£" class="headerlink" title="ç›¸å…³æ–‡æ¡£"></a>ç›¸å…³æ–‡æ¡£</h4><h6 id="åˆ›å»ºåŸºæœ¬çš„ARä½“éªŒ"><a href="#åˆ›å»ºåŸºæœ¬çš„ARä½“éªŒ" class="headerlink" title="åˆ›å»ºåŸºæœ¬çš„ARä½“éªŒ"></a><a href="https://developer.apple.com/documentation/arkit/building_a_basic_ar_experience" target="_blank" rel="external"><em>åˆ›å»ºåŸºæœ¬çš„ARä½“éªŒ</em></a></h6><h6 id="é…ç½®ä¸€ä¸ªARä¼šè¯å¹¶ä½¿ç”¨SceneKitæˆ–SpriteKitæ¥æ˜¾ç¤ºARå†…å®¹"><a href="#é…ç½®ä¸€ä¸ªARä¼šè¯å¹¶ä½¿ç”¨SceneKitæˆ–SpriteKitæ¥æ˜¾ç¤ºARå†…å®¹" class="headerlink" title="é…ç½®ä¸€ä¸ªARä¼šè¯å¹¶ä½¿ç”¨SceneKitæˆ–SpriteKitæ¥æ˜¾ç¤ºARå†…å®¹"></a>é…ç½®ä¸€ä¸ªARä¼šè¯å¹¶ä½¿ç”¨SceneKitæˆ–SpriteKitæ¥æ˜¾ç¤ºARå†…å®¹</h6>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;ARKitæ–‡æ¡£çç¿»è¯‘ï¼ˆ3ï¼‰&quot;&gt;&lt;a href=&quot;#ARKitæ–‡æ¡£çç¿»è¯‘ï¼ˆ3ï¼‰&quot; class=&quot;headerlink&quot; title=&quot;ARKitæ–‡æ¡£çç¿»è¯‘ï¼ˆ3ï¼‰&quot;&gt;&lt;/a&gt;ARKitæ–‡æ¡£çç¿»è¯‘ï¼ˆ3ï¼‰&lt;/h1&gt;&lt;p&gt;&lt;a href=&quot;https://developer
    
    </summary>
    
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>ARKitæ–‡æ¡£çç¿»è¯‘ï¼ˆ2ï¼‰</title>
    <link href="http://yoursite.com/2017/06/29/ARKit_doc_2/"/>
    <id>http://yoursite.com/2017/06/29/ARKit_doc_2/</id>
    <published>2017-06-29T08:19:03.000Z</published>
    <updated>2017-07-03T04:53:41.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ARKitæ–‡æ¡£çç¿»è¯‘ï¼ˆ2ï¼‰"><a href="#ARKitæ–‡æ¡£çç¿»è¯‘ï¼ˆ2ï¼‰" class="headerlink" title="ARKitæ–‡æ¡£çç¿»è¯‘ï¼ˆ2ï¼‰"></a>ARKitæ–‡æ¡£çç¿»è¯‘ï¼ˆ2ï¼‰</h1><p><a href="https://developer.apple.com/documentation/arkit" target="_blank" rel="external">åŸæ–‡è¯·æˆ³</a></p>
<h2 id="ARKit"><a href="#ARKit" class="headerlink" title="ARKit"></a>ARKit</h2><h6 id="åœ¨ä½ çš„appæˆ–æ¸¸æˆä¸­ç»“åˆiOSçš„è®¾å¤‡ç›¸æœºå’Œè¿åŠ¨æ„Ÿåº”å™¨æ¥äº§ç”Ÿå¢å¼ºç°å®çš„ä½“éªŒã€‚"><a href="#åœ¨ä½ çš„appæˆ–æ¸¸æˆä¸­ç»“åˆiOSçš„è®¾å¤‡ç›¸æœºå’Œè¿åŠ¨æ„Ÿåº”å™¨æ¥äº§ç”Ÿå¢å¼ºç°å®çš„ä½“éªŒã€‚" class="headerlink" title="åœ¨ä½ çš„appæˆ–æ¸¸æˆä¸­ç»“åˆiOSçš„è®¾å¤‡ç›¸æœºå’Œè¿åŠ¨æ„Ÿåº”å™¨æ¥äº§ç”Ÿå¢å¼ºç°å®çš„ä½“éªŒã€‚"></a>åœ¨ä½ çš„appæˆ–æ¸¸æˆä¸­ç»“åˆiOSçš„è®¾å¤‡ç›¸æœºå’Œè¿åŠ¨æ„Ÿåº”å™¨æ¥äº§ç”Ÿå¢å¼ºç°å®çš„ä½“éªŒã€‚</h6><hr>
<h3 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><p>å¢å¼ºç°å®ï¼ˆARï¼‰æè¿°äº†ä»¥ä¸€ç§åœ¨ç›¸æœºæä¾›çš„ç°å®è§†å›¾ä¸­æ·»åŠ 2Dæˆ–3Då…ƒç´ å¹¶ä¸”ä½¿è¿™äº›å…ƒç´ å±•ç°åœ¨ç°å®ä¸–ç•Œä¸­çš„ç”¨æˆ·ä½“éªŒã€‚ARKitç»“åˆäº†è®¾å¤‡çš„è¿åŠ¨è¿½è¸ªã€ç›¸æœºåœºæ™¯æ•æ‰ã€é«˜çº§åœºæ™¯å¤„ç†å’Œä¾¿æ·åœ°æ˜¾ç¤ºæ¥ç®€åŒ–åˆ›å»ºARä»»åŠ¡çš„ä½“éªŒã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼š</p>
<p>ARKitéœ€è¦æ­è½½A9æˆ–æ›´é«˜å‹å·å¤„ç†å™¨çš„iOSè®¾å¤‡ã€‚</p>
<p>å¦‚æœä½ çš„appåªè¢«å…è®¸åœ¨æ”¯æŒARKitçš„è®¾å¤‡ä¸Šè¿è¡Œï¼Œè¯·åœ¨Info.plistä¸­çš„<a href="https://developer.apple.com/library/content/documentation/General/Reference/InfoPlistKeyReference/Articles/iPhoneOSKeys.html#//apple_ref/doc/uid/TP40009252-SW3" target="_blank" rel="external">UIRequiredDeviceCapabilities</a>ç»„ä¸­æ·»åŠ arkité”®å€¼ã€‚å¦‚æœARæ˜¯ä½ appçš„ç¬¬äºŒç‰¹æ€§ï¼Œä½¿ç”¨<a href="https://developer.apple.com/documentation/arkit/arsessionconfiguration/2867255-issupported" target="_blank" rel="external">isSupported</a>å±æ€§æ¥å†³å®šå½“å‰è®¾å¤‡æ˜¯å¦æ”¯æŒä½ ç”¨çš„ä¼šè¯é…ç½®ã€‚</p>
</blockquote>
<h3 id="è¯é¢˜"><a href="#è¯é¢˜" class="headerlink" title="è¯é¢˜"></a>è¯é¢˜</h3><h4 id="ç¬¬ä¸€æ­¥"><a href="#ç¬¬ä¸€æ­¥" class="headerlink" title="ç¬¬ä¸€æ­¥"></a>ç¬¬ä¸€æ­¥</h4><h6 id="ç†è§£AR"><a href="#ç†è§£AR" class="headerlink" title="ç†è§£AR"></a><a href="https://developer.apple.com/documentation/arkit/understanding_augmented_reality" target="_blank" rel="external"><em>ç†è§£AR</em></a></h6><h6 id="æ¢ç´¢æ¦‚å¿µã€ç‰¹æ€§å’Œæœ€æ£’çš„å®è·µæ¥åˆ›å»ºä¼Ÿå¤§çš„ARä½“éªŒã€‚"><a href="#æ¢ç´¢æ¦‚å¿µã€ç‰¹æ€§å’Œæœ€æ£’çš„å®è·µæ¥åˆ›å»ºä¼Ÿå¤§çš„ARä½“éªŒã€‚" class="headerlink" title="æ¢ç´¢æ¦‚å¿µã€ç‰¹æ€§å’Œæœ€æ£’çš„å®è·µæ¥åˆ›å»ºä¼Ÿå¤§çš„ARä½“éªŒã€‚"></a>æ¢ç´¢æ¦‚å¿µã€ç‰¹æ€§å’Œæœ€æ£’çš„å®è·µæ¥åˆ›å»ºä¼Ÿå¤§çš„ARä½“éªŒã€‚</h6><h6 id="class-ARSession"><a href="#class-ARSession" class="headerlink" title="class ARSession"></a>class <a href="https://developer.apple.com/documentation/arkit/arsession" target="_blank" rel="external">ARSession</a></h6><h6 id="ä¸€ä¸ªå…±äº«å¯¹è±¡ï¼Œè´Ÿè´£ç®¡ç†ARä¸­çš„è®¾å¤‡ç›¸æœºå’Œè¿åŠ¨å¤„ç†çš„éœ€æ±‚ã€‚"><a href="#ä¸€ä¸ªå…±äº«å¯¹è±¡ï¼Œè´Ÿè´£ç®¡ç†ARä¸­çš„è®¾å¤‡ç›¸æœºå’Œè¿åŠ¨å¤„ç†çš„éœ€æ±‚ã€‚" class="headerlink" title="ä¸€ä¸ªå…±äº«å¯¹è±¡ï¼Œè´Ÿè´£ç®¡ç†ARä¸­çš„è®¾å¤‡ç›¸æœºå’Œè¿åŠ¨å¤„ç†çš„éœ€æ±‚ã€‚"></a>ä¸€ä¸ªå…±äº«å¯¹è±¡ï¼Œè´Ÿè´£ç®¡ç†ARä¸­çš„è®¾å¤‡ç›¸æœºå’Œè¿åŠ¨å¤„ç†çš„éœ€æ±‚ã€‚</h6><h4 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h4><h6 id="class-ARSessionConfiguation"><a href="#class-ARSessionConfiguation" class="headerlink" title="class ARSessionConfiguation"></a>class <a href="https://developer.apple.com/documentation/arkit/arsessionconfiguration" target="_blank" rel="external">ARSessionConfiguation</a></h6><h6 id="ä¸€ä¸ªåªè¿½è¸ªè®¾å¤‡æ–¹å‘çš„åŸºæœ¬é…ç½®"><a href="#ä¸€ä¸ªåªè¿½è¸ªè®¾å¤‡æ–¹å‘çš„åŸºæœ¬é…ç½®" class="headerlink" title="ä¸€ä¸ªåªè¿½è¸ªè®¾å¤‡æ–¹å‘çš„åŸºæœ¬é…ç½®"></a>ä¸€ä¸ªåªè¿½è¸ªè®¾å¤‡æ–¹å‘çš„åŸºæœ¬é…ç½®</h6><h6 id="class-ARWordTrackingSessionConfiguration"><a href="#class-ARWordTrackingSessionConfiguration" class="headerlink" title="class ARWordTrackingSessionConfiguration"></a>class <a href="https://developer.apple.com/documentation/arkit/arworldtrackingsessionconfiguration" target="_blank" rel="external">ARWordTrackingSessionConfiguration</a></h6><h6 id="ä¸€ä¸ªè¿½è¸ªè®¾å¤‡æ–¹å‘å’Œä½ç½®ï¼Œå¹¶ä¸”é€šè¿‡è®¾å¤‡ç›¸æœºæ£€æµ‹çœŸå®ä¸–ç•Œæœå‘çš„é…ç½®"><a href="#ä¸€ä¸ªè¿½è¸ªè®¾å¤‡æ–¹å‘å’Œä½ç½®ï¼Œå¹¶ä¸”é€šè¿‡è®¾å¤‡ç›¸æœºæ£€æµ‹çœŸå®ä¸–ç•Œæœå‘çš„é…ç½®" class="headerlink" title="ä¸€ä¸ªè¿½è¸ªè®¾å¤‡æ–¹å‘å’Œä½ç½®ï¼Œå¹¶ä¸”é€šè¿‡è®¾å¤‡ç›¸æœºæ£€æµ‹çœŸå®ä¸–ç•Œæœå‘çš„é…ç½®"></a>ä¸€ä¸ªè¿½è¸ªè®¾å¤‡æ–¹å‘å’Œä½ç½®ï¼Œå¹¶ä¸”é€šè¿‡è®¾å¤‡ç›¸æœºæ£€æµ‹çœŸå®ä¸–ç•Œæœå‘çš„é…ç½®</h6><h4 id="åŸºæœ¬è§†å›¾"><a href="#åŸºæœ¬è§†å›¾" class="headerlink" title="åŸºæœ¬è§†å›¾"></a>åŸºæœ¬è§†å›¾</h4><h6 id="åˆ›å»ºåŸºæœ¬çš„ARä½“éªŒ"><a href="#åˆ›å»ºåŸºæœ¬çš„ARä½“éªŒ" class="headerlink" title="åˆ›å»ºåŸºæœ¬çš„ARä½“éªŒ"></a><a href="https://developer.apple.com/documentation/arkit/building_a_basic_ar_experience" target="_blank" rel="external"><em>åˆ›å»ºåŸºæœ¬çš„ARä½“éªŒ</em></a></h6><h6 id="é…ç½®ä¸€ä¸ªARä¼šè¯å¹¶ä½¿ç”¨SceneKitæˆ–SpriteKitæ¥æ˜¾ç¤ºARå†…å®¹"><a href="#é…ç½®ä¸€ä¸ªARä¼šè¯å¹¶ä½¿ç”¨SceneKitæˆ–SpriteKitæ¥æ˜¾ç¤ºARå†…å®¹" class="headerlink" title="é…ç½®ä¸€ä¸ªARä¼šè¯å¹¶ä½¿ç”¨SceneKitæˆ–SpriteKitæ¥æ˜¾ç¤ºARå†…å®¹"></a>é…ç½®ä¸€ä¸ªARä¼šè¯å¹¶ä½¿ç”¨SceneKitæˆ–SpriteKitæ¥æ˜¾ç¤ºARå†…å®¹</h6><h6 id="class-ARSCNView"><a href="#class-ARSCNView" class="headerlink" title="class ARSCNView"></a>class <a href="https://developer.apple.com/documentation/arkit/arscnview" target="_blank" rel="external">ARSCNView</a></h6><h6 id="ä¸€ä¸ªè´Ÿè´£æ˜¾ç¤ºåŒ…å«3DSceneKitå†…å®¹çš„ç›¸æœºç•Œé¢çš„ARè§†å›¾"><a href="#ä¸€ä¸ªè´Ÿè´£æ˜¾ç¤ºåŒ…å«3DSceneKitå†…å®¹çš„ç›¸æœºç•Œé¢çš„ARè§†å›¾" class="headerlink" title="ä¸€ä¸ªè´Ÿè´£æ˜¾ç¤ºåŒ…å«3DSceneKitå†…å®¹çš„ç›¸æœºç•Œé¢çš„ARè§†å›¾"></a>ä¸€ä¸ªè´Ÿè´£æ˜¾ç¤ºåŒ…å«3DSceneKitå†…å®¹çš„ç›¸æœºç•Œé¢çš„ARè§†å›¾</h6><h6 id="class-ARSKView"><a href="#class-ARSKView" class="headerlink" title="class ARSKView"></a>class <a href="https://developer.apple.com/documentation/arkit/arskview" target="_blank" rel="external">ARSKView</a></h6><h6 id="ä¸€ä¸ªè´Ÿè´£æ˜¾ç¤ºåŒ…å«äº†2DSpriteKitå†…å®¹çš„ç›¸æœºç•Œé¢çš„ARè§†å›¾"><a href="#ä¸€ä¸ªè´Ÿè´£æ˜¾ç¤ºåŒ…å«äº†2DSpriteKitå†…å®¹çš„ç›¸æœºç•Œé¢çš„ARè§†å›¾" class="headerlink" title="ä¸€ä¸ªè´Ÿè´£æ˜¾ç¤ºåŒ…å«äº†2DSpriteKitå†…å®¹çš„ç›¸æœºç•Œé¢çš„ARè§†å›¾"></a>ä¸€ä¸ªè´Ÿè´£æ˜¾ç¤ºåŒ…å«äº†2DSpriteKitå†…å®¹çš„ç›¸æœºç•Œé¢çš„ARè§†å›¾</h6><h4 id="è‡ªå®šä¹‰è§†å›¾"><a href="#è‡ªå®šä¹‰è§†å›¾" class="headerlink" title="è‡ªå®šä¹‰è§†å›¾"></a>è‡ªå®šä¹‰è§†å›¾</h4><h6 id="ä½¿ç”¨Metalæ˜¾ç¤ºä¸€ä¸ªARä½“éªŒ"><a href="#ä½¿ç”¨Metalæ˜¾ç¤ºä¸€ä¸ªARä½“éªŒ" class="headerlink" title="ä½¿ç”¨Metalæ˜¾ç¤ºä¸€ä¸ªARä½“éªŒ"></a><a href="https://developer.apple.com/documentation/arkit/displaying_an_ar_experience_with_metal" target="_blank" rel="external">ä½¿ç”¨Metalæ˜¾ç¤ºä¸€ä¸ªARä½“éªŒ</a></h6><h6 id="é€šè¿‡æ¸²æŸ“ç›¸æœºå›¾ç‰‡å¹¶ä½¿ç”¨ä½ç½®è¿½è¸ªä¿¡æ¯åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„ARè§†å›¾æ¥æ˜¾ç¤ºè¦†ç›–å†…å®¹"><a href="#é€šè¿‡æ¸²æŸ“ç›¸æœºå›¾ç‰‡å¹¶ä½¿ç”¨ä½ç½®è¿½è¸ªä¿¡æ¯åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„ARè§†å›¾æ¥æ˜¾ç¤ºè¦†ç›–å†…å®¹" class="headerlink" title="é€šè¿‡æ¸²æŸ“ç›¸æœºå›¾ç‰‡å¹¶ä½¿ç”¨ä½ç½®è¿½è¸ªä¿¡æ¯åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„ARè§†å›¾æ¥æ˜¾ç¤ºè¦†ç›–å†…å®¹"></a>é€šè¿‡æ¸²æŸ“ç›¸æœºå›¾ç‰‡å¹¶ä½¿ç”¨ä½ç½®è¿½è¸ªä¿¡æ¯åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„ARè§†å›¾æ¥æ˜¾ç¤ºè¦†ç›–å†…å®¹</h6><h4 id="çœŸå®ä¸–ç•Œçš„å¯¹è±¡å’Œä½ç½®"><a href="#çœŸå®ä¸–ç•Œçš„å¯¹è±¡å’Œä½ç½®" class="headerlink" title="çœŸå®ä¸–ç•Œçš„å¯¹è±¡å’Œä½ç½®"></a>çœŸå®ä¸–ç•Œçš„å¯¹è±¡å’Œä½ç½®</h4><h6 id="class-ARAnchor"><a href="#class-ARAnchor" class="headerlink" title="class ARAnchor"></a>class <a href="https://developer.apple.com/documentation/arkit/aranchor" target="_blank" rel="external">ARAnchor</a></h6><h6 id="åœ¨ARåœºæ™¯ä¸­å¯ç”¨äºæ”¾ç½®ç‰©ä½“çš„ä¸€ä¸ªçœŸå®ä¸–ç•Œçš„ä½ç½®å’Œæœå‘"><a href="#åœ¨ARåœºæ™¯ä¸­å¯ç”¨äºæ”¾ç½®ç‰©ä½“çš„ä¸€ä¸ªçœŸå®ä¸–ç•Œçš„ä½ç½®å’Œæœå‘" class="headerlink" title="åœ¨ARåœºæ™¯ä¸­å¯ç”¨äºæ”¾ç½®ç‰©ä½“çš„ä¸€ä¸ªçœŸå®ä¸–ç•Œçš„ä½ç½®å’Œæœå‘"></a>åœ¨ARåœºæ™¯ä¸­å¯ç”¨äºæ”¾ç½®ç‰©ä½“çš„ä¸€ä¸ªçœŸå®ä¸–ç•Œçš„ä½ç½®å’Œæœå‘</h6><h6 id="class-ARPlaneAnchor"><a href="#class-ARPlaneAnchor" class="headerlink" title="class ARPlaneAnchor"></a>class <a href="https://developer.apple.com/documentation/arkit/arplaneanchor" target="_blank" rel="external">ARPlaneAnchor</a></h6><h6 id="åœ¨ARä¼šè¯ä¸­çœŸå®ä¸–ç•Œæ°´å¹³é¢æ£€æµ‹çš„ä½ç½®å’Œæ–¹å‘ä¿¡æ¯"><a href="#åœ¨ARä¼šè¯ä¸­çœŸå®ä¸–ç•Œæ°´å¹³é¢æ£€æµ‹çš„ä½ç½®å’Œæ–¹å‘ä¿¡æ¯" class="headerlink" title="åœ¨ARä¼šè¯ä¸­çœŸå®ä¸–ç•Œæ°´å¹³é¢æ£€æµ‹çš„ä½ç½®å’Œæ–¹å‘ä¿¡æ¯"></a>åœ¨ARä¼šè¯ä¸­çœŸå®ä¸–ç•Œæ°´å¹³é¢æ£€æµ‹çš„ä½ç½®å’Œæ–¹å‘ä¿¡æ¯</h6><h6 id="class-ARHitTestResult"><a href="#class-ARHitTestResult" class="headerlink" title="class ARHitTestResult"></a>class <a href="https://developer.apple.com/documentation/arkit/arhittestresult" target="_blank" rel="external">ARHitTestResult</a></h6><h6 id="ARä¼šè¯ä¸­é€šè¿‡åœ¨è®¾å¤‡ç›¸æœºè§†å›¾ä¸­æ£€æŸ¥ä¸€ä¸ªç‚¹åœ¨ç°å®ä¸–ç•Œçš„è¡¨é¢ä¿¡æ¯"><a href="#ARä¼šè¯ä¸­é€šè¿‡åœ¨è®¾å¤‡ç›¸æœºè§†å›¾ä¸­æ£€æŸ¥ä¸€ä¸ªç‚¹åœ¨ç°å®ä¸–ç•Œçš„è¡¨é¢ä¿¡æ¯" class="headerlink" title="ARä¼šè¯ä¸­é€šè¿‡åœ¨è®¾å¤‡ç›¸æœºè§†å›¾ä¸­æ£€æŸ¥ä¸€ä¸ªç‚¹åœ¨ç°å®ä¸–ç•Œçš„è¡¨é¢ä¿¡æ¯"></a>ARä¼šè¯ä¸­é€šè¿‡åœ¨è®¾å¤‡ç›¸æœºè§†å›¾ä¸­æ£€æŸ¥ä¸€ä¸ªç‚¹åœ¨ç°å®ä¸–ç•Œçš„è¡¨é¢ä¿¡æ¯</h6><h4 id="ç›¸æœºå’Œåœºæ™¯ç»†èŠ‚"><a href="#ç›¸æœºå’Œåœºæ™¯ç»†èŠ‚" class="headerlink" title="ç›¸æœºå’Œåœºæ™¯ç»†èŠ‚"></a>ç›¸æœºå’Œåœºæ™¯ç»†èŠ‚</h4><h6 id="class-ARFrame"><a href="#class-ARFrame" class="headerlink" title="class ARFrame"></a>class <a href="https://developer.apple.com/documentation/arkit/arframe" target="_blank" rel="external">ARFrame</a></h6><h6 id="ARä¼šè¯ä¸­æˆªå–çš„ä¸€å¸§è§†é¢‘æˆªå›¾å’Œä½ç½®è¿½è¸ªä¿¡æ¯"><a href="#ARä¼šè¯ä¸­æˆªå–çš„ä¸€å¸§è§†é¢‘æˆªå›¾å’Œä½ç½®è¿½è¸ªä¿¡æ¯" class="headerlink" title="ARä¼šè¯ä¸­æˆªå–çš„ä¸€å¸§è§†é¢‘æˆªå›¾å’Œä½ç½®è¿½è¸ªä¿¡æ¯"></a>ARä¼šè¯ä¸­æˆªå–çš„ä¸€å¸§è§†é¢‘æˆªå›¾å’Œä½ç½®è¿½è¸ªä¿¡æ¯</h6><h6 id="class-ARCamera"><a href="#class-ARCamera" class="headerlink" title="class ARCamera"></a>class <a href="https://developer.apple.com/documentation/arkit/arcamera" target="_blank" rel="external">ARCamera</a></h6><h6 id="ARä¼šè¯ä¸­ä»ä¸€ä¸ªæˆªå–çš„è§†é¢‘å¸§ä¸­å¾—åˆ°çš„ç›¸æœºä½ç½®å’Œå›¾åƒç‰¹å¾ä¿¡æ¯"><a href="#ARä¼šè¯ä¸­ä»ä¸€ä¸ªæˆªå–çš„è§†é¢‘å¸§ä¸­å¾—åˆ°çš„ç›¸æœºä½ç½®å’Œå›¾åƒç‰¹å¾ä¿¡æ¯" class="headerlink" title="ARä¼šè¯ä¸­ä»ä¸€ä¸ªæˆªå–çš„è§†é¢‘å¸§ä¸­å¾—åˆ°çš„ç›¸æœºä½ç½®å’Œå›¾åƒç‰¹å¾ä¿¡æ¯"></a>ARä¼šè¯ä¸­ä»ä¸€ä¸ªæˆªå–çš„è§†é¢‘å¸§ä¸­å¾—åˆ°çš„ç›¸æœºä½ç½®å’Œå›¾åƒç‰¹å¾ä¿¡æ¯</h6><h6 id="class-ARLightEstimate"><a href="#class-ARLightEstimate" class="headerlink" title="class ARLightEstimate"></a>class <a href="https://developer.apple.com/documentation/arkit/arlightestimate" target="_blank" rel="external">ARLightEstimate</a></h6><h6 id="ARä¼šè¯ä¸­ä»ä¸€ä¸ªæˆªå–çš„è§†é¢‘å¸§ä¸­é¢„æµ‹åœºæ™¯ä¸­çš„å…‰ç…§ä¿¡æ¯"><a href="#ARä¼šè¯ä¸­ä»ä¸€ä¸ªæˆªå–çš„è§†é¢‘å¸§ä¸­é¢„æµ‹åœºæ™¯ä¸­çš„å…‰ç…§ä¿¡æ¯" class="headerlink" title="ARä¼šè¯ä¸­ä»ä¸€ä¸ªæˆªå–çš„è§†é¢‘å¸§ä¸­é¢„æµ‹åœºæ™¯ä¸­çš„å…‰ç…§ä¿¡æ¯"></a>ARä¼šè¯ä¸­ä»ä¸€ä¸ªæˆªå–çš„è§†é¢‘å¸§ä¸­é¢„æµ‹åœºæ™¯ä¸­çš„å…‰ç…§ä¿¡æ¯</h6>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;ARKitæ–‡æ¡£çç¿»è¯‘ï¼ˆ2ï¼‰&quot;&gt;&lt;a href=&quot;#ARKitæ–‡æ¡£çç¿»è¯‘ï¼ˆ2ï¼‰&quot; class=&quot;headerlink&quot; title=&quot;ARKitæ–‡æ¡£çç¿»è¯‘ï¼ˆ2ï¼‰&quot;&gt;&lt;/a&gt;ARKitæ–‡æ¡£çç¿»è¯‘ï¼ˆ2ï¼‰&lt;/h1&gt;&lt;p&gt;&lt;a href=&quot;https://developer
    
    </summary>
    
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>ARKitæ–‡æ¡£çç¿»è¯‘ï¼ˆ1ï¼‰</title>
    <link href="http://yoursite.com/2017/06/29/ARKit_doc_1/"/>
    <id>http://yoursite.com/2017/06/29/ARKit_doc_1/</id>
    <published>2017-06-29T07:37:05.000Z</published>
    <updated>2017-07-03T07:55:16.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ARKitæ–‡æ¡£çç¿»è¯‘ï¼ˆ1ï¼‰"><a href="#ARKitæ–‡æ¡£çç¿»è¯‘ï¼ˆ1ï¼‰" class="headerlink" title="ARKitæ–‡æ¡£çç¿»è¯‘ï¼ˆ1ï¼‰"></a>ARKitæ–‡æ¡£çç¿»è¯‘ï¼ˆ1ï¼‰</h1><p><a href="https://developer.apple.com/arkit/" target="_blank" rel="external">çœ‹ä¸ä¸‹å»å°±æˆ³çœŸç›¸åœ°å€</a></p>
<h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><h3 id="è™šæ‹Ÿå†…éƒ¨æµ‹é‡ï¼ˆVIOï¼‰"><a href="#è™šæ‹Ÿå†…éƒ¨æµ‹é‡ï¼ˆVIOï¼‰" class="headerlink" title="è™šæ‹Ÿå†…éƒ¨æµ‹é‡ï¼ˆVIOï¼‰"></a>è™šæ‹Ÿå†…éƒ¨æµ‹é‡ï¼ˆVIOï¼‰</h3><p>ARKitä½¿ç”¨VIOç³»ç»Ÿæ¥ç²¾ç¡®æµ‹é‡æ•´ä¸ªä¸–ç•Œã€‚VIOæŠŠç›¸æœºä¼ æ„Ÿå™¨çš„æ•°æ®å’ŒCoreMotionæ•°æ®å¼•å…¥åˆ°ä¸€èµ·ã€‚è¿™ä¸¤æ–¹é¢è¾“å…¥å…è®¸è®¾å¤‡æ¥æ„ŸçŸ¥å¦‚ä½•é«˜ç²¾åº¦åœ°åœ¨ç©ºé—´ä¸­ç§»åŠ¨ï¼Œä¸”ä¸éœ€è¦ä»»ä½•é¢å¤–æ ¡å‡†ã€‚</p>
<h3 id="åœºæ™¯ç†è§£å’Œå…‰ç…§é¢„ä¼°"><a href="#åœºæ™¯ç†è§£å’Œå…‰ç…§é¢„ä¼°" class="headerlink" title="åœºæ™¯ç†è§£å’Œå…‰ç…§é¢„ä¼°"></a>åœºæ™¯ç†è§£å’Œå…‰ç…§é¢„ä¼°</h3><p>æœ‰äº†ARKitï¼ŒiPhoneå’ŒiPadå¯ä»¥è¯†åˆ«ç›¸æœºè§†å›¾æä¾›çš„åœºæ™¯å¹¶è¯†åˆ«å‡ºç©ºé—´ä¸­çš„æ°´å¹³é¢ã€‚ARKitå¯ä»¥æ£€æµ‹å‡ºè¯¸å¦‚æ¡Œé¢ã€åœ°é¢ç­‰æ°´å¹³é¢ï¼Œå¹¶ä¸”å¯ä»¥åœ¨ç‰¹å®šçš„å°ä½ç½®è¿½è¸ªå¹¶æ”¾ç½®ç‰©ä½“ã€‚ARKitè¿˜å¯ä»¥ä½¿ç”¨ç›¸æœºä¼ æ„Ÿå™¨æ¥é¢„ä¼°åœºæ™¯ä¸­æ•´ä½“çš„å…‰ç…§æ€»é‡å¹¶æŠŠåˆé€‚çš„å…‰ç…§æŠ•å°„åˆ°è™šæ‹Ÿç‰©ä½“ä¸Šã€‚</p>
<h3 id="é«˜æ€§èƒ½çš„ç¡¬ä»¶å’Œæ¸²æŸ“ä¼˜åŒ–"><a href="#é«˜æ€§èƒ½çš„ç¡¬ä»¶å’Œæ¸²æŸ“ä¼˜åŒ–" class="headerlink" title="é«˜æ€§èƒ½çš„ç¡¬ä»¶å’Œæ¸²æŸ“ä¼˜åŒ–"></a>é«˜æ€§èƒ½çš„ç¡¬ä»¶å’Œæ¸²æŸ“ä¼˜åŒ–</h3><p>ARKitè¿è¡Œåœ¨è‹¹æœçš„A9å’ŒA10å¤„ç†å™¨ä¸Šã€‚è¿™äº›å¤„ç†å™¨æœ‰å‡ºè‰²çš„æ€§èƒ½è¡¨ç°å¯ä»¥å®ç°å¿«é€Ÿçš„åœºæ™¯ç†è§£å¹¶å¯ä»¥è®©ä½ åœ¨çœŸå®çš„åœºæ™¯ä¸­æ­å»ºè¯¦å°½çœŸå®çš„è™šæ‹Ÿå†…å®¹ã€‚ä½ å¯ä»¥åœ¨è¯¸å¦‚Metalã€SceneKitæˆ–ç¬¬ä¸‰æ–¹å¹³å°å·¥å…·å¦‚Unityå’ŒUnreal Engineç­‰åœ°æ–¹ä½¿ç”¨è¿™äº›ä¸ºARKitå¸¦æ¥çš„ä¼˜åŒ–ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;ARKitæ–‡æ¡£çç¿»è¯‘ï¼ˆ1ï¼‰&quot;&gt;&lt;a href=&quot;#ARKitæ–‡æ¡£çç¿»è¯‘ï¼ˆ1ï¼‰&quot; class=&quot;headerlink&quot; title=&quot;ARKitæ–‡æ¡£çç¿»è¯‘ï¼ˆ1ï¼‰&quot;&gt;&lt;/a&gt;ARKitæ–‡æ¡£çç¿»è¯‘ï¼ˆ1ï¼‰&lt;/h1&gt;&lt;p&gt;&lt;a href=&quot;https://developer
    
    </summary>
    
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>ç¬¬ä¸€ç¯‡åšæ–‡</title>
    <link href="http://yoursite.com/2017/06/05/%E6%B5%8B%E8%AF%95%E4%B8%80%E4%B8%8B/"/>
    <id>http://yoursite.com/2017/06/05/æµ‹è¯•ä¸€ä¸‹/</id>
    <published>2017-06-05T14:48:25.000Z</published>
    <updated>2017-06-05T14:48:36.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ç¬¬ä¸€ç¯‡åšæ–‡"><a href="#ç¬¬ä¸€ç¯‡åšæ–‡" class="headerlink" title="ç¬¬ä¸€ç¯‡åšæ–‡"></a>ç¬¬ä¸€ç¯‡åšæ–‡</h1><ul>
<li>å¤ªä¸å®¹æ˜“äº†</li>
<li>å¤ªä¸å®¹æ˜“äº†</li>
<li>å¤ªä¸å®¹æ˜“äº†</li>
</ul>
<p>ä½†æ˜¯ï¼Œæˆ‘æˆåŠŸå•¦ï¼Œæ’’èŠ±<del>~</del>~</p>
<p>ä»¥åè¦åŠ æ²¹~ğŸ’ª</p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;ç¬¬ä¸€ç¯‡åšæ–‡&quot;&gt;&lt;a href=&quot;#ç¬¬ä¸€ç¯‡åšæ–‡&quot; class=&quot;headerlink&quot; title=&quot;ç¬¬ä¸€ç¯‡åšæ–‡&quot;&gt;&lt;/a&gt;ç¬¬ä¸€ç¯‡åšæ–‡&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;å¤ªä¸å®¹æ˜“äº†&lt;/li&gt;
&lt;li&gt;å¤ªä¸å®¹æ˜“äº†&lt;/li&gt;
&lt;li&gt;å¤ªä¸å®¹æ˜“äº†&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä½†æ˜¯
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>ä½ å¥½è¿™ä¸ªä¸–ç•Œ~</title>
    <link href="http://yoursite.com/2017/06/05/hello-world/"/>
    <id>http://yoursite.com/2017/06/05/hello-world/</id>
    <published>2017-06-05T03:06:46.000Z</published>
    <updated>2017-06-05T06:38:33.000Z</updated>
    
    <content type="html"><![CDATA[<p>å“‡å“ˆå“‡å“ˆï¼Œè°éƒ½æœ‰åšå®¢ï¼Œè°éƒ½ä¼šæœ‰è¿™ä¸€å¤©ï¼Œè€çº¸æ¥å•¦å“ˆå“ˆå“ˆå“ˆ~</p>
<h2 id="è¿™ä¸ªæ˜¯å¤§æ ‡é¢˜å—ï¼Ÿï¼Ÿï¼Ÿ"><a href="#è¿™ä¸ªæ˜¯å¤§æ ‡é¢˜å—ï¼Ÿï¼Ÿï¼Ÿ" class="headerlink" title="è¿™ä¸ªæ˜¯å¤§æ ‡é¢˜å—ï¼Ÿï¼Ÿï¼Ÿ"></a>è¿™ä¸ªæ˜¯å¤§æ ‡é¢˜å—ï¼Ÿï¼Ÿï¼Ÿ</h2><h3 id="åˆ›å»ºä¸€ä¸ªæ–°é¡µé¢"><a href="#åˆ›å»ºä¸€ä¸ªæ–°é¡µé¢" class="headerlink" title="åˆ›å»ºä¸€ä¸ªæ–°é¡µé¢"></a>åˆ›å»ºä¸€ä¸ªæ–°é¡µé¢</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="è¿è¡ŒæœåŠ¡å™¨ï¼ˆæœ¬åœ°æ»´ï¼‰"><a href="#è¿è¡ŒæœåŠ¡å™¨ï¼ˆæœ¬åœ°æ»´ï¼‰" class="headerlink" title="è¿è¡ŒæœåŠ¡å™¨ï¼ˆæœ¬åœ°æ»´ï¼‰"></a>è¿è¡ŒæœåŠ¡å™¨ï¼ˆæœ¬åœ°æ»´ï¼‰</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="ç”Ÿæˆé™æ€æ–‡ä»¶ï¼ˆè¿™æ ·å°±å¯ä»¥æŠŠæ–°ç”Ÿæˆçš„æ–‡ç« åˆ¶é€ å‡ºæ¥å•¦-ï¼‰"><a href="#ç”Ÿæˆé™æ€æ–‡ä»¶ï¼ˆè¿™æ ·å°±å¯ä»¥æŠŠæ–°ç”Ÿæˆçš„æ–‡ç« åˆ¶é€ å‡ºæ¥å•¦-ï¼‰" class="headerlink" title="ç”Ÿæˆé™æ€æ–‡ä»¶ï¼ˆè¿™æ ·å°±å¯ä»¥æŠŠæ–°ç”Ÿæˆçš„æ–‡ç« åˆ¶é€ å‡ºæ¥å•¦~ï¼‰"></a>ç”Ÿæˆé™æ€æ–‡ä»¶ï¼ˆè¿™æ ·å°±å¯ä»¥æŠŠæ–°ç”Ÿæˆçš„æ–‡ç« åˆ¶é€ å‡ºæ¥å•¦~ï¼‰</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="éƒ¨ç½²åˆ°è¿œç«¯ç½‘ç«™ä¸Šï¼ˆå¯ä»¥è£…XXå’¯-æ’’èŠ±-ï¼‰"><a href="#éƒ¨ç½²åˆ°è¿œç«¯ç½‘ç«™ä¸Šï¼ˆå¯ä»¥è£…XXå’¯-æ’’èŠ±-ï¼‰" class="headerlink" title="éƒ¨ç½²åˆ°è¿œç«¯ç½‘ç«™ä¸Šï¼ˆå¯ä»¥è£…XXå’¯~æ’’èŠ±~ï¼‰"></a>éƒ¨ç½²åˆ°è¿œç«¯ç½‘ç«™ä¸Šï¼ˆå¯ä»¥è£…XXå’¯~æ’’èŠ±~ï¼‰</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å“‡å“ˆå“‡å“ˆï¼Œè°éƒ½æœ‰åšå®¢ï¼Œè°éƒ½ä¼šæœ‰è¿™ä¸€å¤©ï¼Œè€çº¸æ¥å•¦å“ˆå“ˆå“ˆå“ˆ~&lt;/p&gt;
&lt;h2 id=&quot;è¿™ä¸ªæ˜¯å¤§æ ‡é¢˜å—ï¼Ÿï¼Ÿï¼Ÿ&quot;&gt;&lt;a href=&quot;#è¿™ä¸ªæ˜¯å¤§æ ‡é¢˜å—ï¼Ÿï¼Ÿï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;è¿™ä¸ªæ˜¯å¤§æ ‡é¢˜å—ï¼Ÿï¼Ÿï¼Ÿ&quot;&gt;&lt;/a&gt;è¿™ä¸ªæ˜¯å¤§æ ‡é¢˜å—ï¼Ÿï¼Ÿï¼Ÿ&lt;/h2&gt;&lt;h3 i
    
    </summary>
    
    
  </entry>
  
</feed>
